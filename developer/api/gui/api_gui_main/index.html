
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="CPLUS">
      
      
        <meta name="author" content="Kartoza">
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-8.2.11">
    
    
      
        <title>Conservation International - CPLUS QGIS plugin</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.8c5ef100.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.9647289d.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="purple">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#gui-main" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="CPLUS QGIS plugin" class="md-header__button md-logo" aria-label="CPLUS QGIS plugin" data-md-component="logo">
      
  <img src="../../../../about/img/cplus_logo_white_background.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CPLUS QGIS plugin
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Conservation International
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="purple"  aria-label="Dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lime"  aria-label="Light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ConservationInternational/cplus-plugin" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ConservationInternational/cplus-plugin
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../user/" class="md-tabs__link">
        Users
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../administrator/" class="md-tabs__link">
        Administrators
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../" class="md-tabs__link md-tabs__link--active">
        Developers
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../about/ci/" class="md-tabs__link">
        About
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="CPLUS QGIS plugin" class="md-nav__button md-logo" aria-label="CPLUS QGIS plugin" data-md-component="logo">
      
  <img src="../../../../about/img/cplus_logo_white_background.svg" alt="logo">

    </a>
    CPLUS QGIS plugin
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ConservationInternational/cplus-plugin" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ConservationInternational/cplus-plugin
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" data-md-state="indeterminate" type="checkbox" id="__nav_2" checked>
      
      
      
        
          
            
          
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../user/">Users</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Users" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Users
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user/quickstart/" class="md-nav__link">
        Quick Start
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" data-md-state="indeterminate" type="checkbox" id="__nav_2_3" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../user/guide/">Guide</a>
          
            <label for="__nav_2_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Guide" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user/guide/complete-steps-and-report/" class="md-nav__link">
        Complete Steps and Report
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user/guide/preparing-data/" class="md-nav__link">
        Preparing Data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user/guide/settings/" class="md-nav__link">
        Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user/guide/step-1/" class="md-nav__link">
        Step 1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user/guide/step-2/" class="md-nav__link">
        Step 2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user/guide/step-3/" class="md-nav__link">
        Step 3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user/guide/step-4/" class="md-nav__link">
        Step 4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user/guide/logs/" class="md-nav__link">
        Logs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" data-md-state="indeterminate" type="checkbox" id="__nav_2_4" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../user/manual/">Manual</a>
          
            <label for="__nav_2_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Manual" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          Manual
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user/manual/calculation-and-formula/" class="md-nav__link">
        Calculation and Formula
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user/manual/step-1/" class="md-nav__link">
        Step 1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user/manual/step-2/" class="md-nav__link">
        Step 2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user/manual/step-3/" class="md-nav__link">
        Step 3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user/manual/step-4/" class="md-nav__link">
        Step 4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user/manual/logs/" class="md-nav__link">
        Logs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user/manual/settings/" class="md-nav__link">
        Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user/manual/scenario-file/" class="md-nav__link">
        Scenario File
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" data-md-state="indeterminate" type="checkbox" id="__nav_3" checked>
      
      
      
        
          
            
          
        
          
            
          
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../administrator/">Administrators</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Administrators" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Administrators
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../administrator/guide/" class="md-nav__link">
        Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../administrator/repository/" class="md-nav__link">
        Repository
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../">Developers</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Developers" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Developers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/" class="md-nav__link">
        Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architecture/" class="md-nav__link">
        Architecture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../documentation/" class="md-nav__link">
        Documentation
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5" type="checkbox" id="__nav_4_5" checked>
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_5">
          API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5_1" data-md-state="indeterminate" type="checkbox" id="__nav_4_5_1" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_5_1">
          Core
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Core" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_5_1">
          <span class="md-nav__icon md-icon"></span>
          Core
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/api_main/" class="md-nav__link">
        Main
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/api_conf/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/api_tasks/" class="md-nav__link">
        Processing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/api_settings/" class="md-nav__link">
        Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/api_utils/" class="md-nav__link">
        Utilities
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/api_financials/" class="md-nav__link">
        Financials
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/api_carbon/" class="md-nav__link">
        Carbon
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5_1_8" data-md-state="indeterminate" type="checkbox" id="__nav_4_5_1_8" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_5_1_8">
          Reports
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reports" data-md-level="4">
        <label class="md-nav__title" for="__nav_4_5_1_8">
          <span class="md-nav__icon md-icon"></span>
          Reports
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/api_report_scenario_comparison_table/" class="md-nav__link">
        Comparison Table
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/api_reports_generator/" class="md-nav__link">
        Generator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/api_reports_layout_items/" class="md-nav__link">
        Layout items
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/api_reports_manager/" class="md-nav__link">
        Manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/api_reports_variables/" class="md-nav__link">
        Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/api_reports_metrics/" class="md-nav__link">
        Metrics
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5_1_9" data-md-state="indeterminate" type="checkbox" id="__nav_4_5_1_9" checked>
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_5_1_9">
          Validation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Validation" data-md-level="4">
        <label class="md-nav__title" for="__nav_4_5_1_9">
          <span class="md-nav__icon md-icon"></span>
          Validation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/api_validation_configs/" class="md-nav__link">
        Configurations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/api_validation_feedback/" class="md-nav__link">
        Feedback
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/api_validation_manager/" class="md-nav__link">
        Manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/api_validation_validators/" class="md-nav__link">
        Validators
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5_2" data-md-state="indeterminate" type="checkbox" id="__nav_4_5_2" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_5_2">
          Models
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Models" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_5_2">
          <span class="md-nav__icon md-icon"></span>
          Models
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../models/api_base/" class="md-nav__link">
        Model base
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../models/api_helpers/" class="md-nav__link">
        Helpers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../models/api_report/" class="md-nav__link">
        Report
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../models/api_financials/" class="md-nav__link">
        Financials
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../models/api_validation/" class="md-nav__link">
        Validation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5_3" type="checkbox" id="__nav_4_5_3" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_5_3">
          GUI
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="GUI" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_5_3">
          <span class="md-nav__icon md-icon"></span>
          GUI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        GUI main
      </a>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api_carbon_layer_model/" class="md-nav__link">
        Carbon item model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api_component_items/" class="md-nav__link">
        Component item model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api_activity_editor_dialog/" class="md-nav__link">
        Implementation model editor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api_activity_widget/" class="md-nav__link">
        Implementation model widget
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api_items_selection_dialog/" class="md-nav__link">
        Items selection dialog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api_map_repeat_item_widget/" class="md-nav__link">
        Map repeat item widget
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api_model_component_widget/" class="md-nav__link">
        Model component widget
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api_ncs_pathway_editor/" class="md-nav__link">
        NCS Pathway editor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api_pixel_value_editor/" class="md-nav__link">
        Pixel Values editor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api_priority_layer/" class="md-nav__link">
        Priority layer dialog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api_priority_group/" class="md-nav__link">
        Priority group
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api_progress_dialog/" class="md-nav__link">
        Progress dialog
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5_3_14" data-md-state="indeterminate" type="checkbox" id="__nav_4_5_3_14" checked>
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_5_3_14">
          Financials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Financials" data-md-level="4">
        <label class="md-nav__title" for="__nav_4_5_3_14">
          <span class="md-nav__icon md-icon"></span>
          Financials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api_npv_manager_dialog/" class="md-nav__link">
        NPV PWL manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api_npv_progress_dialog/" class="md-nav__link">
        NPV progress dialog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api_npv_financial_model/" class="md-nav__link">
        NPV view model
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5_3_15" data-md-state="indeterminate" type="checkbox" id="__nav_4_5_3_15" checked>
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_5_3_15">
          Validation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Validation" data-md-level="4">
        <label class="md-nav__title" for="__nav_4_5_3_15">
          <span class="md-nav__icon md-icon"></span>
          Validation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api_validation_inspector_dialog/" class="md-nav__link">
        Inspector dialog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api_validation_progress_dialog/" class="md-nav__link">
        Progress dialog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api_validation_result_items/" class="md-nav__link">
        Tree items
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5_3_16" data-md-state="indeterminate" type="checkbox" id="__nav_4_5_3_16" checked>
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_5_3_16">
          Metrics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Metrics" data-md-level="4">
        <label class="md-nav__title" for="__nav_4_5_3_16">
          <span class="md-nav__icon md-icon"></span>
          Metrics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api_metrics_builder_dialog/" class="md-nav__link">
        Builder Dialog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api_metrics_builder_model/" class="md-nav__link">
        Builder Model
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" data-md-state="indeterminate" type="checkbox" id="__nav_5" checked>
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5">
          About
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about/ci/" class="md-nav__link">
        Conservation International
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about/kartoza/" class="md-nav__link">
        Kartoza
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about/license/" class="md-nav__link">
        License
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/ConservationInternational/cplus-plugin/edit/master/docs/developer/api/gui/api_gui_main.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<div><h1 id="gui-main">GUI main<a class="headerlink" href="#gui-main" title="Permanent link">¶</a></h1>


<div class="doc doc-object doc-module">



<a id="src.cplus_plugin.gui.qgis_cplus_main"></a>
    <div class="doc doc-contents first">

      <p>The plugin main window class.</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h1 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">QgisCplusMain</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain" class="headerlink" title="Permanent link">¶</a></h1>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">QgisCplusMain</span><span class="p">(</span><span class="n">iface</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="qgis.PyQt.QtWidgets.QDockWidget">QDockWidget</span></code>, <code><span title="WidgetUi">WidgetUi</span></code></p>


      <p>Main plugin UI class</p>

                  <details class="quote">
                    <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
                    <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-139" name="__codelineno-0-139"></a><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>    <span class="n">iface</span><span class="p">,</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>    <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a><span class="p">):</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>    <span class="n">QgsGui</span><span class="o">.</span><span class="n">enableAutoGeometryRestore</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">iface</span> <span class="o">=</span> <span class="n">iface</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">progress_dialog</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">task</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">processing_cancelled</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">current_analysis_task</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">fetch_default_layer_task</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_aoi_layer</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a>    <span class="c1"># Set icons for buttons</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a>    <span class="n">help_icon</span> <span class="o">=</span> <span class="n">FileUtils</span><span class="o">.</span><span class="n">get_icon</span><span class="p">(</span><span class="s2">"mActionHelpContents_green.svg"</span><span class="p">)</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">help_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">help_icon</span><span class="p">)</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a>    <span class="n">settings_icon</span> <span class="o">=</span> <span class="n">FileUtils</span><span class="o">.</span><span class="n">get_icon</span><span class="p">(</span><span class="s2">"settings.svg"</span><span class="p">)</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">options_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">settings_icon</span><span class="p">)</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">prepare_input</span><span class="p">()</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>    <span class="c1"># Insert widget for step 2</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">activity_widget</span> <span class="o">=</span> <span class="n">ActivityContainerWidget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">message_bar</span><span class="p">)</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">tab_widget</span><span class="o">.</span><span class="n">insertTab</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">activity_widget</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span><span class="s2">"Step 2"</span><span class="p">))</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">tab_widget</span><span class="o">.</span><span class="n">setTabToolTip</span><span class="p">(</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a>        <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span><span class="s2">"Here you can select activities and pathways"</span><span class="p">)</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a>    <span class="p">)</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">tab_widget</span><span class="o">.</span><span class="n">currentChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_tab_step_changed</span><span class="p">)</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>    <span class="c1"># Step 3, priority weighting layers initialization</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_widgets</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">pwl_item_flags</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a>    <span class="c1"># Step 4</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">ncs_pwl_weighted</span><span class="o">.</span><span class="n">toggled</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">outputs_options_changed</span><span class="p">)</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">landuse_project</span><span class="o">.</span><span class="n">toggled</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">outputs_options_changed</span><span class="p">)</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">highest_position</span><span class="o">.</span><span class="n">toggled</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">outputs_options_changed</span><span class="p">)</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">processing_type</span><span class="o">.</span><span class="n">toggled</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">processing_options_changed</span><span class="p">)</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">chb_metric_builder</span><span class="o">.</span><span class="n">toggled</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_use_custom_metrics</span><span class="p">)</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">btn_metric_builder</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_show_metrics_wizard</span><span class="p">)</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a>    <span class="n">edit_table_icon</span> <span class="o">=</span> <span class="n">FileUtils</span><span class="o">.</span><span class="n">get_icon</span><span class="p">(</span><span class="s2">"mActionEditTable.svg"</span><span class="p">)</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">btn_metric_builder</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">edit_table_icon</span><span class="p">)</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">load_layer_options</span><span class="p">()</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">load_report_options</span><span class="p">()</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">initialize_priority_layers</span><span class="p">()</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">position_feedback</span> <span class="o">=</span> <span class="n">QgsProcessingFeedback</span><span class="p">()</span>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">processing_context</span> <span class="o">=</span> <span class="n">QgsProcessingContext</span><span class="p">()</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">scenario_result</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">analysis_finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post_analysis</span><span class="p">)</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a>    <span class="c1"># Log updates</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a>    <span class="n">QgsApplication</span><span class="o">.</span><span class="n">messageLog</span><span class="p">()</span><span class="o">.</span><span class="n">messageReceived</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">on_log_message_received</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a>    <span class="p">)</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a>    <span class="c1"># Fetch scenario history list</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">fetch_scenario_history_list</span><span class="p">()</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>    <span class="c1"># Fetch default layers</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">fetch_default_layer_list</span><span class="p">()</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a>    <span class="c1"># Update metric button with metric profiles</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">update_metric_button_profiles</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>
                  </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.add_priority_group" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">add_priority_group</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.add_priority_group" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">add_priority_group</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Adds a new priority group into the plugin, then updates
the priority list to show the new added priority group.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1169">1169</a></span>
<span class="normal"><a href="#__codelineno-0-1170">1170</a></span>
<span class="normal"><a href="#__codelineno-0-1171">1171</a></span>
<span class="normal"><a href="#__codelineno-0-1172">1172</a></span>
<span class="normal"><a href="#__codelineno-0-1173">1173</a></span>
<span class="normal"><a href="#__codelineno-0-1174">1174</a></span>
<span class="normal"><a href="#__codelineno-0-1175">1175</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1169" name="__codelineno-0-1169"></a><span class="k">def</span> <span class="nf">add_priority_group</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-1170" name="__codelineno-0-1170"></a>    <span class="sd">"""Adds a new priority group into the plugin, then updates</span>
<a id="__codelineno-0-1171" name="__codelineno-0-1171"></a><span class="sd">    the priority list to show the new added priority group.</span>
<a id="__codelineno-0-1172" name="__codelineno-0-1172"></a><span class="sd">    """</span>
<a id="__codelineno-0-1173" name="__codelineno-0-1173"></a>    <span class="n">group_dialog</span> <span class="o">=</span> <span class="n">PriorityGroupDialog</span><span class="p">()</span>
<a id="__codelineno-0-1174" name="__codelineno-0-1174"></a>    <span class="n">group_dialog</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
<a id="__codelineno-0-1175" name="__codelineno-0-1175"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">update_priority_groups</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.add_priority_layer" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">add_priority_layer</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.add_priority_layer" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">add_priority_layer</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Adds a new priority layer into the plugin, then updates
the priority list to show the new added priority layer.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1259">1259</a></span>
<span class="normal"><a href="#__codelineno-0-1260">1260</a></span>
<span class="normal"><a href="#__codelineno-0-1261">1261</a></span>
<span class="normal"><a href="#__codelineno-0-1262">1262</a></span>
<span class="normal"><a href="#__codelineno-0-1263">1263</a></span>
<span class="normal"><a href="#__codelineno-0-1264">1264</a></span>
<span class="normal"><a href="#__codelineno-0-1265">1265</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1259" name="__codelineno-0-1259"></a><span class="k">def</span> <span class="nf">add_priority_layer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-1260" name="__codelineno-0-1260"></a>    <span class="sd">"""Adds a new priority layer into the plugin, then updates</span>
<a id="__codelineno-0-1261" name="__codelineno-0-1261"></a><span class="sd">    the priority list to show the new added priority layer.</span>
<a id="__codelineno-0-1262" name="__codelineno-0-1262"></a><span class="sd">    """</span>
<a id="__codelineno-0-1263" name="__codelineno-0-1263"></a>    <span class="n">layer_dialog</span> <span class="o">=</span> <span class="n">PriorityLayerDialog</span><span class="p">()</span>
<a id="__codelineno-0-1264" name="__codelineno-0-1264"></a>    <span class="n">layer_dialog</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
<a id="__codelineno-0-1265" name="__codelineno-0-1265"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">update_priority_layers</span><span class="p">(</span><span class="n">update_groups</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.add_priority_layer_group" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">add_priority_layer_group</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.add_priority_layer_group" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">add_priority_layer_group</span><span class="p">(</span><span class="n">target_group</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">priority_layer</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Adds priority layer from the weighting layers into a priority group
If no target_group or priority_layer is passed then the current selected
group or priority layer from their respective list will be used.</p>
<p>Checks if priority layer is already in the target group and if so no
addition is done.</p>
<p>Once the addition is done, the respective priority layer plugin settings
are updated to store the new information.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>target_group</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Priority group where layer will be added to</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>priority_layer</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Priority weighting layer to be added</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-909">909</a></span>
<span class="normal"><a href="#__codelineno-0-910">910</a></span>
<span class="normal"><a href="#__codelineno-0-911">911</a></span>
<span class="normal"><a href="#__codelineno-0-912">912</a></span>
<span class="normal"><a href="#__codelineno-0-913">913</a></span>
<span class="normal"><a href="#__codelineno-0-914">914</a></span>
<span class="normal"><a href="#__codelineno-0-915">915</a></span>
<span class="normal"><a href="#__codelineno-0-916">916</a></span>
<span class="normal"><a href="#__codelineno-0-917">917</a></span>
<span class="normal"><a href="#__codelineno-0-918">918</a></span>
<span class="normal"><a href="#__codelineno-0-919">919</a></span>
<span class="normal"><a href="#__codelineno-0-920">920</a></span>
<span class="normal"><a href="#__codelineno-0-921">921</a></span>
<span class="normal"><a href="#__codelineno-0-922">922</a></span>
<span class="normal"><a href="#__codelineno-0-923">923</a></span>
<span class="normal"><a href="#__codelineno-0-924">924</a></span>
<span class="normal"><a href="#__codelineno-0-925">925</a></span>
<span class="normal"><a href="#__codelineno-0-926">926</a></span>
<span class="normal"><a href="#__codelineno-0-927">927</a></span>
<span class="normal"><a href="#__codelineno-0-928">928</a></span>
<span class="normal"><a href="#__codelineno-0-929">929</a></span>
<span class="normal"><a href="#__codelineno-0-930">930</a></span>
<span class="normal"><a href="#__codelineno-0-931">931</a></span>
<span class="normal"><a href="#__codelineno-0-932">932</a></span>
<span class="normal"><a href="#__codelineno-0-933">933</a></span>
<span class="normal"><a href="#__codelineno-0-934">934</a></span>
<span class="normal"><a href="#__codelineno-0-935">935</a></span>
<span class="normal"><a href="#__codelineno-0-936">936</a></span>
<span class="normal"><a href="#__codelineno-0-937">937</a></span>
<span class="normal"><a href="#__codelineno-0-938">938</a></span>
<span class="normal"><a href="#__codelineno-0-939">939</a></span>
<span class="normal"><a href="#__codelineno-0-940">940</a></span>
<span class="normal"><a href="#__codelineno-0-941">941</a></span>
<span class="normal"><a href="#__codelineno-0-942">942</a></span>
<span class="normal"><a href="#__codelineno-0-943">943</a></span>
<span class="normal"><a href="#__codelineno-0-944">944</a></span>
<span class="normal"><a href="#__codelineno-0-945">945</a></span>
<span class="normal"><a href="#__codelineno-0-946">946</a></span>
<span class="normal"><a href="#__codelineno-0-947">947</a></span>
<span class="normal"><a href="#__codelineno-0-948">948</a></span>
<span class="normal"><a href="#__codelineno-0-949">949</a></span>
<span class="normal"><a href="#__codelineno-0-950">950</a></span>
<span class="normal"><a href="#__codelineno-0-951">951</a></span>
<span class="normal"><a href="#__codelineno-0-952">952</a></span>
<span class="normal"><a href="#__codelineno-0-953">953</a></span>
<span class="normal"><a href="#__codelineno-0-954">954</a></span>
<span class="normal"><a href="#__codelineno-0-955">955</a></span>
<span class="normal"><a href="#__codelineno-0-956">956</a></span>
<span class="normal"><a href="#__codelineno-0-957">957</a></span>
<span class="normal"><a href="#__codelineno-0-958">958</a></span>
<span class="normal"><a href="#__codelineno-0-959">959</a></span>
<span class="normal"><a href="#__codelineno-0-960">960</a></span>
<span class="normal"><a href="#__codelineno-0-961">961</a></span>
<span class="normal"><a href="#__codelineno-0-962">962</a></span>
<span class="normal"><a href="#__codelineno-0-963">963</a></span>
<span class="normal"><a href="#__codelineno-0-964">964</a></span>
<span class="normal"><a href="#__codelineno-0-965">965</a></span>
<span class="normal"><a href="#__codelineno-0-966">966</a></span>
<span class="normal"><a href="#__codelineno-0-967">967</a></span>
<span class="normal"><a href="#__codelineno-0-968">968</a></span>
<span class="normal"><a href="#__codelineno-0-969">969</a></span>
<span class="normal"><a href="#__codelineno-0-970">970</a></span>
<span class="normal"><a href="#__codelineno-0-971">971</a></span>
<span class="normal"><a href="#__codelineno-0-972">972</a></span>
<span class="normal"><a href="#__codelineno-0-973">973</a></span>
<span class="normal"><a href="#__codelineno-0-974">974</a></span>
<span class="normal"><a href="#__codelineno-0-975">975</a></span>
<span class="normal"><a href="#__codelineno-0-976">976</a></span>
<span class="normal"><a href="#__codelineno-0-977">977</a></span>
<span class="normal"><a href="#__codelineno-0-978">978</a></span>
<span class="normal"><a href="#__codelineno-0-979">979</a></span>
<span class="normal"><a href="#__codelineno-0-980">980</a></span>
<span class="normal"><a href="#__codelineno-0-981">981</a></span>
<span class="normal"><a href="#__codelineno-0-982">982</a></span>
<span class="normal"><a href="#__codelineno-0-983">983</a></span>
<span class="normal"><a href="#__codelineno-0-984">984</a></span>
<span class="normal"><a href="#__codelineno-0-985">985</a></span>
<span class="normal"><a href="#__codelineno-0-986">986</a></span>
<span class="normal"><a href="#__codelineno-0-987">987</a></span>
<span class="normal"><a href="#__codelineno-0-988">988</a></span>
<span class="normal"><a href="#__codelineno-0-989">989</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-909" name="__codelineno-0-909"></a><span class="k">def</span> <span class="nf">add_priority_layer_group</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_group</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">priority_layer</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<a id="__codelineno-0-910" name="__codelineno-0-910"></a>    <span class="sd">"""Adds priority layer from the weighting layers into a priority group</span>
<a id="__codelineno-0-911" name="__codelineno-0-911"></a><span class="sd">    If no target_group or priority_layer is passed then the current selected</span>
<a id="__codelineno-0-912" name="__codelineno-0-912"></a><span class="sd">    group or priority layer from their respective list will be used.</span>
<a id="__codelineno-0-913" name="__codelineno-0-913"></a>
<a id="__codelineno-0-914" name="__codelineno-0-914"></a><span class="sd">    Checks if priority layer is already in the target group and if so no</span>
<a id="__codelineno-0-915" name="__codelineno-0-915"></a><span class="sd">    addition is done.</span>
<a id="__codelineno-0-916" name="__codelineno-0-916"></a>
<a id="__codelineno-0-917" name="__codelineno-0-917"></a><span class="sd">    Once the addition is done, the respective priority layer plugin settings</span>
<a id="__codelineno-0-918" name="__codelineno-0-918"></a><span class="sd">    are updated to store the new information.</span>
<a id="__codelineno-0-919" name="__codelineno-0-919"></a>
<a id="__codelineno-0-920" name="__codelineno-0-920"></a><span class="sd">    :param target_group: Priority group where layer will be added to</span>
<a id="__codelineno-0-921" name="__codelineno-0-921"></a><span class="sd">    :type target_group: dict</span>
<a id="__codelineno-0-922" name="__codelineno-0-922"></a>
<a id="__codelineno-0-923" name="__codelineno-0-923"></a><span class="sd">    :param priority_layer: Priority weighting layer to be added</span>
<a id="__codelineno-0-924" name="__codelineno-0-924"></a><span class="sd">    :type priority_layer: dict</span>
<a id="__codelineno-0-925" name="__codelineno-0-925"></a><span class="sd">    """</span>
<a id="__codelineno-0-926" name="__codelineno-0-926"></a>    <span class="n">selected_priority_layers</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-927" name="__codelineno-0-927"></a>        <span class="n">priority_layer</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">priority_layers_list</span><span class="o">.</span><span class="n">selectedItems</span><span class="p">()</span>
<a id="__codelineno-0-928" name="__codelineno-0-928"></a>    <span class="p">)</span>
<a id="__codelineno-0-929" name="__codelineno-0-929"></a>    <span class="n">selected_priority_layers</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-930" name="__codelineno-0-930"></a>        <span class="p">[</span><span class="n">selected_priority_layers</span><span class="p">]</span>
<a id="__codelineno-0-931" name="__codelineno-0-931"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">selected_priority_layers</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
<a id="__codelineno-0-932" name="__codelineno-0-932"></a>        <span class="k">else</span> <span class="n">selected_priority_layers</span>
<a id="__codelineno-0-933" name="__codelineno-0-933"></a>    <span class="p">)</span>
<a id="__codelineno-0-934" name="__codelineno-0-934"></a>
<a id="__codelineno-0-935" name="__codelineno-0-935"></a>    <span class="n">selected_group</span> <span class="o">=</span> <span class="n">target_group</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">currentItem</span><span class="p">()</span>
<a id="__codelineno-0-936" name="__codelineno-0-936"></a>
<a id="__codelineno-0-937" name="__codelineno-0-937"></a>    <span class="k">for</span> <span class="n">selected_priority_layer</span> <span class="ow">in</span> <span class="n">selected_priority_layers</span><span class="p">:</span>
<a id="__codelineno-0-938" name="__codelineno-0-938"></a>        <span class="k">if</span> <span class="p">(</span>
<a id="__codelineno-0-939" name="__codelineno-0-939"></a>            <span class="n">selected_group</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">selected_group</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">None</span>
<a id="__codelineno-0-940" name="__codelineno-0-940"></a>        <span class="p">)</span> <span class="ow">and</span> <span class="n">selected_priority_layer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-941" name="__codelineno-0-941"></a>            <span class="n">children</span> <span class="o">=</span> <span class="n">selected_group</span><span class="o">.</span><span class="n">takeChildren</span><span class="p">()</span>
<a id="__codelineno-0-942" name="__codelineno-0-942"></a>            <span class="n">item_found</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-943" name="__codelineno-0-943"></a>            <span class="n">text</span> <span class="o">=</span> <span class="n">selected_priority_layer</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">DisplayRole</span><span class="p">)</span>
<a id="__codelineno-0-944" name="__codelineno-0-944"></a>            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
<a id="__codelineno-0-945" name="__codelineno-0-945"></a>                <span class="k">if</span> <span class="n">child</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="n">text</span><span class="p">:</span>
<a id="__codelineno-0-946" name="__codelineno-0-946"></a>                    <span class="n">item_found</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-947" name="__codelineno-0-947"></a>                    <span class="k">break</span>
<a id="__codelineno-0-948" name="__codelineno-0-948"></a>            <span class="n">selected_group</span><span class="o">.</span><span class="n">addChildren</span><span class="p">(</span><span class="n">children</span><span class="p">)</span>
<a id="__codelineno-0-949" name="__codelineno-0-949"></a>
<a id="__codelineno-0-950" name="__codelineno-0-950"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">item_found</span><span class="p">:</span>
<a id="__codelineno-0-951" name="__codelineno-0-951"></a>                <span class="n">selected_group</span><span class="o">.</span><span class="n">setExpanded</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-952" name="__codelineno-0-952"></a>                <span class="n">item</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTreeWidgetItem</span><span class="p">(</span><span class="n">selected_group</span><span class="p">)</span>
<a id="__codelineno-0-953" name="__codelineno-0-953"></a>                <span class="n">item</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
<a id="__codelineno-0-954" name="__codelineno-0-954"></a>                <span class="n">group_widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">itemWidget</span><span class="p">(</span>
<a id="__codelineno-0-955" name="__codelineno-0-955"></a>                    <span class="n">selected_group</span><span class="p">,</span> <span class="mi">0</span>
<a id="__codelineno-0-956" name="__codelineno-0-956"></a>                <span class="p">)</span>
<a id="__codelineno-0-957" name="__codelineno-0-957"></a>                <span class="n">layer_id</span> <span class="o">=</span> <span class="n">selected_priority_layer</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">)</span>
<a id="__codelineno-0-958" name="__codelineno-0-958"></a>
<a id="__codelineno-0-959" name="__codelineno-0-959"></a>                <span class="n">priority_layer</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_priority_layer</span><span class="p">(</span><span class="n">layer_id</span><span class="p">)</span>
<a id="__codelineno-0-960" name="__codelineno-0-960"></a>                <span class="n">item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span>
<a id="__codelineno-0-961" name="__codelineno-0-961"></a>                    <span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-0-962" name="__codelineno-0-962"></a>                    <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">,</span>
<a id="__codelineno-0-963" name="__codelineno-0-963"></a>                    <span class="n">priority_layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">USER_DEFINED_ATTRIBUTE</span><span class="p">),</span>
<a id="__codelineno-0-964" name="__codelineno-0-964"></a>                <span class="p">)</span>
<a id="__codelineno-0-965" name="__codelineno-0-965"></a>                <span class="n">target_group_name</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-966" name="__codelineno-0-966"></a>                    <span class="n">group_widget</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"name"</span><span class="p">)</span> <span class="k">if</span> <span class="n">group_widget</span><span class="o">.</span><span class="n">group</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-967" name="__codelineno-0-967"></a>                <span class="p">)</span>
<a id="__codelineno-0-968" name="__codelineno-0-968"></a>
<a id="__codelineno-0-969" name="__codelineno-0-969"></a>                <span class="n">groups</span> <span class="o">=</span> <span class="n">priority_layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"groups"</span><span class="p">)</span>
<a id="__codelineno-0-970" name="__codelineno-0-970"></a>                <span class="n">new_groups</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-971" name="__codelineno-0-971"></a>                <span class="n">group_found</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-972" name="__codelineno-0-972"></a>
<a id="__codelineno-0-973" name="__codelineno-0-973"></a>                <span class="k">for</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">groups</span><span class="p">:</span>
<a id="__codelineno-0-974" name="__codelineno-0-974"></a>                    <span class="k">if</span> <span class="n">target_group_name</span> <span class="o">==</span> <span class="n">group</span><span class="p">[</span><span class="s2">"name"</span><span class="p">]:</span>
<a id="__codelineno-0-975" name="__codelineno-0-975"></a>                        <span class="n">group_found</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-976" name="__codelineno-0-976"></a>                        <span class="n">new_group</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">find_group_by_name</span><span class="p">(</span>
<a id="__codelineno-0-977" name="__codelineno-0-977"></a>                            <span class="n">target_group_name</span>
<a id="__codelineno-0-978" name="__codelineno-0-978"></a>                        <span class="p">)</span>
<a id="__codelineno-0-979" name="__codelineno-0-979"></a>                    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-980" name="__codelineno-0-980"></a>                        <span class="n">new_group</span> <span class="o">=</span> <span class="n">group</span>
<a id="__codelineno-0-981" name="__codelineno-0-981"></a>                    <span class="n">new_groups</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_group</span><span class="p">)</span>
<a id="__codelineno-0-982" name="__codelineno-0-982"></a>                <span class="k">if</span> <span class="ow">not</span> <span class="n">group_found</span><span class="p">:</span>
<a id="__codelineno-0-983" name="__codelineno-0-983"></a>                    <span class="n">searched_group</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">find_group_by_name</span><span class="p">(</span>
<a id="__codelineno-0-984" name="__codelineno-0-984"></a>                        <span class="n">target_group_name</span>
<a id="__codelineno-0-985" name="__codelineno-0-985"></a>                    <span class="p">)</span>
<a id="__codelineno-0-986" name="__codelineno-0-986"></a>                    <span class="n">new_groups</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">searched_group</span><span class="p">)</span>
<a id="__codelineno-0-987" name="__codelineno-0-987"></a>
<a id="__codelineno-0-988" name="__codelineno-0-988"></a>                <span class="n">priority_layer</span><span class="p">[</span><span class="s2">"groups"</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_groups</span>
<a id="__codelineno-0-989" name="__codelineno-0-989"></a>                <span class="n">settings_manager</span><span class="o">.</span><span class="n">save_priority_layer</span><span class="p">(</span><span class="n">priority_layer</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.add_scenario" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">add_scenario</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.add_scenario" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">add_scenario</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Adds a new scenario into the scenario list.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1407">1407</a></span>
<span class="normal"><a href="#__codelineno-0-1408">1408</a></span>
<span class="normal"><a href="#__codelineno-0-1409">1409</a></span>
<span class="normal"><a href="#__codelineno-0-1410">1410</a></span>
<span class="normal"><a href="#__codelineno-0-1411">1411</a></span>
<span class="normal"><a href="#__codelineno-0-1412">1412</a></span>
<span class="normal"><a href="#__codelineno-0-1413">1413</a></span>
<span class="normal"><a href="#__codelineno-0-1414">1414</a></span>
<span class="normal"><a href="#__codelineno-0-1415">1415</a></span>
<span class="normal"><a href="#__codelineno-0-1416">1416</a></span>
<span class="normal"><a href="#__codelineno-0-1417">1417</a></span>
<span class="normal"><a href="#__codelineno-0-1418">1418</a></span>
<span class="normal"><a href="#__codelineno-0-1419">1419</a></span>
<span class="normal"><a href="#__codelineno-0-1420">1420</a></span>
<span class="normal"><a href="#__codelineno-0-1421">1421</a></span>
<span class="normal"><a href="#__codelineno-0-1422">1422</a></span>
<span class="normal"><a href="#__codelineno-0-1423">1423</a></span>
<span class="normal"><a href="#__codelineno-0-1424">1424</a></span>
<span class="normal"><a href="#__codelineno-0-1425">1425</a></span>
<span class="normal"><a href="#__codelineno-0-1426">1426</a></span>
<span class="normal"><a href="#__codelineno-0-1427">1427</a></span>
<span class="normal"><a href="#__codelineno-0-1428">1428</a></span>
<span class="normal"><a href="#__codelineno-0-1429">1429</a></span>
<span class="normal"><a href="#__codelineno-0-1430">1430</a></span>
<span class="normal"><a href="#__codelineno-0-1431">1431</a></span>
<span class="normal"><a href="#__codelineno-0-1432">1432</a></span>
<span class="normal"><a href="#__codelineno-0-1433">1433</a></span>
<span class="normal"><a href="#__codelineno-0-1434">1434</a></span>
<span class="normal"><a href="#__codelineno-0-1435">1435</a></span>
<span class="normal"><a href="#__codelineno-0-1436">1436</a></span>
<span class="normal"><a href="#__codelineno-0-1437">1437</a></span>
<span class="normal"><a href="#__codelineno-0-1438">1438</a></span>
<span class="normal"><a href="#__codelineno-0-1439">1439</a></span>
<span class="normal"><a href="#__codelineno-0-1440">1440</a></span>
<span class="normal"><a href="#__codelineno-0-1441">1441</a></span>
<span class="normal"><a href="#__codelineno-0-1442">1442</a></span>
<span class="normal"><a href="#__codelineno-0-1443">1443</a></span>
<span class="normal"><a href="#__codelineno-0-1444">1444</a></span>
<span class="normal"><a href="#__codelineno-0-1445">1445</a></span>
<span class="normal"><a href="#__codelineno-0-1446">1446</a></span>
<span class="normal"><a href="#__codelineno-0-1447">1447</a></span>
<span class="normal"><a href="#__codelineno-0-1448">1448</a></span>
<span class="normal"><a href="#__codelineno-0-1449">1449</a></span>
<span class="normal"><a href="#__codelineno-0-1450">1450</a></span>
<span class="normal"><a href="#__codelineno-0-1451">1451</a></span>
<span class="normal"><a href="#__codelineno-0-1452">1452</a></span>
<span class="normal"><a href="#__codelineno-0-1453">1453</a></span>
<span class="normal"><a href="#__codelineno-0-1454">1454</a></span>
<span class="normal"><a href="#__codelineno-0-1455">1455</a></span>
<span class="normal"><a href="#__codelineno-0-1456">1456</a></span>
<span class="normal"><a href="#__codelineno-0-1457">1457</a></span>
<span class="normal"><a href="#__codelineno-0-1458">1458</a></span>
<span class="normal"><a href="#__codelineno-0-1459">1459</a></span>
<span class="normal"><a href="#__codelineno-0-1460">1460</a></span>
<span class="normal"><a href="#__codelineno-0-1461">1461</a></span>
<span class="normal"><a href="#__codelineno-0-1462">1462</a></span>
<span class="normal"><a href="#__codelineno-0-1463">1463</a></span>
<span class="normal"><a href="#__codelineno-0-1464">1464</a></span>
<span class="normal"><a href="#__codelineno-0-1465">1465</a></span>
<span class="normal"><a href="#__codelineno-0-1466">1466</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1407" name="__codelineno-0-1407"></a><span class="k">def</span> <span class="nf">add_scenario</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-1408" name="__codelineno-0-1408"></a>    <span class="sd">"""Adds a new scenario into the scenario list."""</span>
<a id="__codelineno-0-1409" name="__codelineno-0-1409"></a>    <span class="n">scenario_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
<a id="__codelineno-0-1410" name="__codelineno-0-1410"></a>    <span class="n">scenario_description</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_description</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
<a id="__codelineno-0-1411" name="__codelineno-0-1411"></a>    <span class="n">extent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">outputExtent</span><span class="p">()</span>
<a id="__codelineno-0-1412" name="__codelineno-0-1412"></a>    <span class="n">extent_crs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">outputCrs</span><span class="p">()</span>
<a id="__codelineno-0-1413" name="__codelineno-0-1413"></a>
<a id="__codelineno-0-1414" name="__codelineno-0-1414"></a>    <span class="n">extent_box</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1415" name="__codelineno-0-1415"></a>        <span class="n">extent</span><span class="o">.</span><span class="n">xMinimum</span><span class="p">(),</span>
<a id="__codelineno-0-1416" name="__codelineno-0-1416"></a>        <span class="n">extent</span><span class="o">.</span><span class="n">xMaximum</span><span class="p">(),</span>
<a id="__codelineno-0-1417" name="__codelineno-0-1417"></a>        <span class="n">extent</span><span class="o">.</span><span class="n">yMinimum</span><span class="p">(),</span>
<a id="__codelineno-0-1418" name="__codelineno-0-1418"></a>        <span class="n">extent</span><span class="o">.</span><span class="n">yMaximum</span><span class="p">(),</span>
<a id="__codelineno-0-1419" name="__codelineno-0-1419"></a>    <span class="p">]</span>
<a id="__codelineno-0-1420" name="__codelineno-0-1420"></a>
<a id="__codelineno-0-1421" name="__codelineno-0-1421"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">can_clip_to_studyarea</span><span class="p">():</span>
<a id="__codelineno-0-1422" name="__codelineno-0-1422"></a>        <span class="n">study_area_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_studyarea_path</span><span class="p">()</span>
<a id="__codelineno-0-1423" name="__codelineno-0-1423"></a>        <span class="n">layer</span> <span class="o">=</span> <span class="n">QgsVectorLayer</span><span class="p">(</span><span class="n">study_area_path</span><span class="p">,</span> <span class="s2">"studyarea"</span><span class="p">)</span>
<a id="__codelineno-0-1424" name="__codelineno-0-1424"></a>        <span class="k">if</span> <span class="n">layer</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span>
<a id="__codelineno-0-1425" name="__codelineno-0-1425"></a>            <span class="n">extent</span> <span class="o">=</span> <span class="n">layer</span><span class="o">.</span><span class="n">extent</span><span class="p">()</span>
<a id="__codelineno-0-1426" name="__codelineno-0-1426"></a>            <span class="n">extent_box</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1427" name="__codelineno-0-1427"></a>                <span class="n">extent</span><span class="o">.</span><span class="n">xMinimum</span><span class="p">(),</span>
<a id="__codelineno-0-1428" name="__codelineno-0-1428"></a>                <span class="n">extent</span><span class="o">.</span><span class="n">xMaximum</span><span class="p">(),</span>
<a id="__codelineno-0-1429" name="__codelineno-0-1429"></a>                <span class="n">extent</span><span class="o">.</span><span class="n">yMinimum</span><span class="p">(),</span>
<a id="__codelineno-0-1430" name="__codelineno-0-1430"></a>                <span class="n">extent</span><span class="o">.</span><span class="n">yMaximum</span><span class="p">(),</span>
<a id="__codelineno-0-1431" name="__codelineno-0-1431"></a>            <span class="p">]</span>
<a id="__codelineno-0-1432" name="__codelineno-0-1432"></a>            <span class="n">extent_crs</span> <span class="o">=</span> <span class="n">layer</span><span class="o">.</span><span class="n">crs</span><span class="p">()</span>
<a id="__codelineno-0-1433" name="__codelineno-0-1433"></a>
<a id="__codelineno-0-1434" name="__codelineno-0-1434"></a>    <span class="n">extent</span> <span class="o">=</span> <span class="n">SpatialExtent</span><span class="p">(</span><span class="n">bbox</span><span class="o">=</span><span class="n">extent_box</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="n">extent_crs</span><span class="o">.</span><span class="n">authid</span><span class="p">())</span>
<a id="__codelineno-0-1435" name="__codelineno-0-1435"></a>    <span class="n">scenario_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span>
<a id="__codelineno-0-1436" name="__codelineno-0-1436"></a>
<a id="__codelineno-0-1437" name="__codelineno-0-1437"></a>    <span class="n">activities</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-1438" name="__codelineno-0-1438"></a>    <span class="n">priority_layer_groups</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-1439" name="__codelineno-0-1439"></a>
<a id="__codelineno-0-1440" name="__codelineno-0-1440"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_result</span><span class="p">:</span>
<a id="__codelineno-0-1441" name="__codelineno-0-1441"></a>        <span class="n">activities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_result</span><span class="o">.</span><span class="n">scenario</span><span class="o">.</span><span class="n">activities</span>
<a id="__codelineno-0-1442" name="__codelineno-0-1442"></a>        <span class="n">priority_layer_groups</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_result</span><span class="o">.</span><span class="n">scenario</span><span class="o">.</span><span class="n">priority_layer_groups</span>
<a id="__codelineno-0-1443" name="__codelineno-0-1443"></a>
<a id="__codelineno-0-1444" name="__codelineno-0-1444"></a>    <span class="n">scenario</span> <span class="o">=</span> <span class="n">Scenario</span><span class="p">(</span>
<a id="__codelineno-0-1445" name="__codelineno-0-1445"></a>        <span class="n">uuid</span><span class="o">=</span><span class="n">scenario_id</span><span class="p">,</span>
<a id="__codelineno-0-1446" name="__codelineno-0-1446"></a>        <span class="n">name</span><span class="o">=</span><span class="n">scenario_name</span><span class="p">,</span>
<a id="__codelineno-0-1447" name="__codelineno-0-1447"></a>        <span class="n">description</span><span class="o">=</span><span class="n">scenario_description</span><span class="p">,</span>
<a id="__codelineno-0-1448" name="__codelineno-0-1448"></a>        <span class="n">extent</span><span class="o">=</span><span class="n">extent</span><span class="p">,</span>
<a id="__codelineno-0-1449" name="__codelineno-0-1449"></a>        <span class="n">activities</span><span class="o">=</span><span class="n">activities</span><span class="p">,</span>
<a id="__codelineno-0-1450" name="__codelineno-0-1450"></a>        <span class="n">priority_layer_groups</span><span class="o">=</span><span class="n">priority_layer_groups</span><span class="p">,</span>
<a id="__codelineno-0-1451" name="__codelineno-0-1451"></a>        <span class="n">server_uuid</span><span class="o">=</span><span class="p">(</span>
<a id="__codelineno-0-1452" name="__codelineno-0-1452"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">scenario_result</span><span class="o">.</span><span class="n">scenario</span><span class="o">.</span><span class="n">server_uuid</span>
<a id="__codelineno-0-1453" name="__codelineno-0-1453"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_result</span>
<a id="__codelineno-0-1454" name="__codelineno-0-1454"></a>            <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-1455" name="__codelineno-0-1455"></a>        <span class="p">),</span>
<a id="__codelineno-0-1456" name="__codelineno-0-1456"></a>        <span class="n">clip_to_studyarea</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">can_clip_to_studyarea</span><span class="p">(),</span>
<a id="__codelineno-0-1457" name="__codelineno-0-1457"></a>        <span class="n">studyarea_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_studyarea_path</span><span class="p">(),</span>
<a id="__codelineno-0-1458" name="__codelineno-0-1458"></a>        <span class="n">crs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">crs_selector</span><span class="o">.</span><span class="n">crs</span><span class="p">()</span><span class="o">.</span><span class="n">authid</span><span class="p">(),</span>
<a id="__codelineno-0-1459" name="__codelineno-0-1459"></a>    <span class="p">)</span>
<a id="__codelineno-0-1460" name="__codelineno-0-1460"></a>    <span class="n">settings_manager</span><span class="o">.</span><span class="n">save_scenario</span><span class="p">(</span><span class="n">scenario</span><span class="p">)</span>
<a id="__codelineno-0-1461" name="__codelineno-0-1461"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_result</span><span class="p">:</span>
<a id="__codelineno-0-1462" name="__codelineno-0-1462"></a>        <span class="n">settings_manager</span><span class="o">.</span><span class="n">save_scenario_result</span><span class="p">(</span>
<a id="__codelineno-0-1463" name="__codelineno-0-1463"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">scenario_result</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">scenario_id</span><span class="p">)</span>
<a id="__codelineno-0-1464" name="__codelineno-0-1464"></a>        <span class="p">)</span>
<a id="__codelineno-0-1465" name="__codelineno-0-1465"></a>
<a id="__codelineno-0-1466" name="__codelineno-0-1466"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">update_scenario_list</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.analysis_complete" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">analysis_complete</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.analysis_complete" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">analysis_complete</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">report_manager</span><span class="p">,</span> <span class="n">progress_dialog</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Calls the responsible function for handling analysis results outputs</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>task</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ScenarioAnalysisTask (src.cplus_plugin.tasks.ScenarioAnalysisTask)" href="../../core/api_tasks/#src.cplus_plugin.tasks.ScenarioAnalysisTask">ScenarioAnalysisTask</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Analysis task</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>report_manager</code></td>
            <td>
                  <code><span title="ReportManager">ReportManager</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Report manager used to generate analysis report_templates</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2219">2219</a></span>
<span class="normal"><a href="#__codelineno-0-2220">2220</a></span>
<span class="normal"><a href="#__codelineno-0-2221">2221</a></span>
<span class="normal"><a href="#__codelineno-0-2222">2222</a></span>
<span class="normal"><a href="#__codelineno-0-2223">2223</a></span>
<span class="normal"><a href="#__codelineno-0-2224">2224</a></span>
<span class="normal"><a href="#__codelineno-0-2225">2225</a></span>
<span class="normal"><a href="#__codelineno-0-2226">2226</a></span>
<span class="normal"><a href="#__codelineno-0-2227">2227</a></span>
<span class="normal"><a href="#__codelineno-0-2228">2228</a></span>
<span class="normal"><a href="#__codelineno-0-2229">2229</a></span>
<span class="normal"><a href="#__codelineno-0-2230">2230</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2219" name="__codelineno-0-2219"></a><span class="k">def</span> <span class="nf">analysis_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">,</span> <span class="n">report_manager</span><span class="p">,</span> <span class="n">progress_dialog</span><span class="p">):</span>
<a id="__codelineno-0-2220" name="__codelineno-0-2220"></a>    <span class="sd">"""Calls the responsible function for handling analysis results outputs</span>
<a id="__codelineno-0-2221" name="__codelineno-0-2221"></a>
<a id="__codelineno-0-2222" name="__codelineno-0-2222"></a><span class="sd">    :param task: Analysis task</span>
<a id="__codelineno-0-2223" name="__codelineno-0-2223"></a><span class="sd">    :type task: ScenarioAnalysisTask</span>
<a id="__codelineno-0-2224" name="__codelineno-0-2224"></a>
<a id="__codelineno-0-2225" name="__codelineno-0-2225"></a><span class="sd">    :param report_manager: Report manager used to generate analysis report_templates</span>
<a id="__codelineno-0-2226" name="__codelineno-0-2226"></a><span class="sd">    :type report_manager: ReportManager</span>
<a id="__codelineno-0-2227" name="__codelineno-0-2227"></a><span class="sd">    """</span>
<a id="__codelineno-0-2228" name="__codelineno-0-2228"></a>
<a id="__codelineno-0-2229" name="__codelineno-0-2229"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">scenario_result</span> <span class="o">=</span> <span class="n">task</span><span class="o">.</span><span class="n">scenario_result</span>
<a id="__codelineno-0-2230" name="__codelineno-0-2230"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">scenario_results</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">report_manager</span><span class="p">,</span> <span class="n">progress_dialog</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.can_clip_to_studyarea" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">can_clip_to_studyarea</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.can_clip_to_studyarea" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">can_clip_to_studyarea</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return true if clipping layers by study area is selected</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span>
<span class="normal"><a href="#__codelineno-0-584">584</a></span>
<span class="normal"><a href="#__codelineno-0-585">585</a></span>
<span class="normal"><a href="#__codelineno-0-586">586</a></span>
<span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span>
<span class="normal"><a href="#__codelineno-0-590">590</a></span>
<span class="normal"><a href="#__codelineno-0-591">591</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-582" name="__codelineno-0-582"></a><span class="k">def</span> <span class="nf">can_clip_to_studyarea</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a>    <span class="sd">"""Return true if clipping layers by study area is selected"""</span>
<a id="__codelineno-0-584" name="__codelineno-0-584"></a>    <span class="n">clip_to_studyarea</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-585" name="__codelineno-0-585"></a>    <span class="n">studyarea_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_studyarea_path</span><span class="p">()</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a>    <span class="k">if</span> <span class="p">(</span>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_aoi_source_group</span><span class="o">.</span><span class="n">checkedId</span><span class="p">()</span> <span class="o">==</span> <span class="n">AreaOfInterestSource</span><span class="o">.</span><span class="n">LAYER</span><span class="o">.</span><span class="n">value</span>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a>        <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">studyarea_path</span><span class="p">)</span>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a>    <span class="p">):</span>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a>        <span class="n">clip_to_studyarea</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a>    <span class="k">return</span> <span class="n">clip_to_studyarea</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.cancel_processing_task" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">cancel_processing_task</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.cancel_processing_task" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">cancel_processing_task</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Cancels the current processing task.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2257">2257</a></span>
<span class="normal"><a href="#__codelineno-0-2258">2258</a></span>
<span class="normal"><a href="#__codelineno-0-2259">2259</a></span>
<span class="normal"><a href="#__codelineno-0-2260">2260</a></span>
<span class="normal"><a href="#__codelineno-0-2261">2261</a></span>
<span class="normal"><a href="#__codelineno-0-2262">2262</a></span>
<span class="normal"><a href="#__codelineno-0-2263">2263</a></span>
<span class="normal"><a href="#__codelineno-0-2264">2264</a></span>
<span class="normal"><a href="#__codelineno-0-2265">2265</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2257" name="__codelineno-0-2257"></a><span class="k">def</span> <span class="nf">cancel_processing_task</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-2258" name="__codelineno-0-2258"></a>    <span class="sd">"""Cancels the current processing task."""</span>
<a id="__codelineno-0-2259" name="__codelineno-0-2259"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-2260" name="__codelineno-0-2260"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_analysis_task</span><span class="p">:</span>
<a id="__codelineno-0-2261" name="__codelineno-0-2261"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_analysis_task</span><span class="o">.</span><span class="n">cancel_task</span><span class="p">()</span>
<a id="__codelineno-0-2262" name="__codelineno-0-2262"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-2263" name="__codelineno-0-2263"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">on_progress_dialog_cancelled</span><span class="p">()</span>
<a id="__codelineno-0-2264" name="__codelineno-0-2264"></a>        <span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Problem cancelling task, </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a id="__codelineno-0-2265" name="__codelineno-0-2265"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">processing_cancelled</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.edit_priority_group" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">edit_priority_group</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.edit_priority_group" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">edit_priority_group</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Edits the current selected priority group
and updates the group box list.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1193">1193</a></span>
<span class="normal"><a href="#__codelineno-0-1194">1194</a></span>
<span class="normal"><a href="#__codelineno-0-1195">1195</a></span>
<span class="normal"><a href="#__codelineno-0-1196">1196</a></span>
<span class="normal"><a href="#__codelineno-0-1197">1197</a></span>
<span class="normal"><a href="#__codelineno-0-1198">1198</a></span>
<span class="normal"><a href="#__codelineno-0-1199">1199</a></span>
<span class="normal"><a href="#__codelineno-0-1200">1200</a></span>
<span class="normal"><a href="#__codelineno-0-1201">1201</a></span>
<span class="normal"><a href="#__codelineno-0-1202">1202</a></span>
<span class="normal"><a href="#__codelineno-0-1203">1203</a></span>
<span class="normal"><a href="#__codelineno-0-1204">1204</a></span>
<span class="normal"><a href="#__codelineno-0-1205">1205</a></span>
<span class="normal"><a href="#__codelineno-0-1206">1206</a></span>
<span class="normal"><a href="#__codelineno-0-1207">1207</a></span>
<span class="normal"><a href="#__codelineno-0-1208">1208</a></span>
<span class="normal"><a href="#__codelineno-0-1209">1209</a></span>
<span class="normal"><a href="#__codelineno-0-1210">1210</a></span>
<span class="normal"><a href="#__codelineno-0-1211">1211</a></span>
<span class="normal"><a href="#__codelineno-0-1212">1212</a></span>
<span class="normal"><a href="#__codelineno-0-1213">1213</a></span>
<span class="normal"><a href="#__codelineno-0-1214">1214</a></span>
<span class="normal"><a href="#__codelineno-0-1215">1215</a></span>
<span class="normal"><a href="#__codelineno-0-1216">1216</a></span>
<span class="normal"><a href="#__codelineno-0-1217">1217</a></span>
<span class="normal"><a href="#__codelineno-0-1218">1218</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1193" name="__codelineno-0-1193"></a><span class="k">def</span> <span class="nf">edit_priority_group</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-1194" name="__codelineno-0-1194"></a>    <span class="sd">"""Edits the current selected priority group</span>
<a id="__codelineno-0-1195" name="__codelineno-0-1195"></a><span class="sd">    and updates the group box list."""</span>
<a id="__codelineno-0-1196" name="__codelineno-0-1196"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">currentItem</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1197" name="__codelineno-0-1197"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-1198" name="__codelineno-0-1198"></a>            <span class="n">tr</span><span class="p">(</span><span class="s2">"Select first the priority group from the groups list."</span><span class="p">),</span>
<a id="__codelineno-0-1199" name="__codelineno-0-1199"></a>            <span class="n">Qgis</span><span class="o">.</span><span class="n">Critical</span><span class="p">,</span>
<a id="__codelineno-0-1200" name="__codelineno-0-1200"></a>        <span class="p">)</span>
<a id="__codelineno-0-1201" name="__codelineno-0-1201"></a>        <span class="k">return</span>
<a id="__codelineno-0-1202" name="__codelineno-0-1202"></a>
<a id="__codelineno-0-1203" name="__codelineno-0-1203"></a>    <span class="n">group_identifier</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">currentItem</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">(</span>
<a id="__codelineno-0-1204" name="__codelineno-0-1204"></a>        <span class="mi">0</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span>
<a id="__codelineno-0-1205" name="__codelineno-0-1205"></a>    <span class="p">)</span>
<a id="__codelineno-0-1206" name="__codelineno-0-1206"></a>
<a id="__codelineno-0-1207" name="__codelineno-0-1207"></a>    <span class="k">if</span> <span class="p">(</span>
<a id="__codelineno-0-1208" name="__codelineno-0-1208"></a>        <span class="n">group_identifier</span> <span class="o">==</span> <span class="s2">""</span>
<a id="__codelineno-0-1209" name="__codelineno-0-1209"></a>        <span class="ow">or</span> <span class="n">group_identifier</span> <span class="ow">is</span> <span class="kc">None</span>
<a id="__codelineno-0-1210" name="__codelineno-0-1210"></a>        <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">group_identifier</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
<a id="__codelineno-0-1211" name="__codelineno-0-1211"></a>    <span class="p">):</span>
<a id="__codelineno-0-1212" name="__codelineno-0-1212"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-1213" name="__codelineno-0-1213"></a>            <span class="n">tr</span><span class="p">(</span><span class="s2">"Could not fetch the selected"</span> <span class="s2">" priority groups for editing."</span><span class="p">),</span>
<a id="__codelineno-0-1214" name="__codelineno-0-1214"></a>            <span class="n">Qgis</span><span class="o">.</span><span class="n">Critical</span><span class="p">,</span>
<a id="__codelineno-0-1215" name="__codelineno-0-1215"></a>        <span class="p">)</span>
<a id="__codelineno-0-1216" name="__codelineno-0-1216"></a>        <span class="k">return</span>
<a id="__codelineno-0-1217" name="__codelineno-0-1217"></a>
<a id="__codelineno-0-1218" name="__codelineno-0-1218"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_show_priority_group_editor</span><span class="p">(</span><span class="n">group_identifier</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.edit_priority_layer" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">edit_priority_layer</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.edit_priority_layer" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">edit_priority_layer</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Edits the current selected priority layer
and updates the layer box list.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1267">1267</a></span>
<span class="normal"><a href="#__codelineno-0-1268">1268</a></span>
<span class="normal"><a href="#__codelineno-0-1269">1269</a></span>
<span class="normal"><a href="#__codelineno-0-1270">1270</a></span>
<span class="normal"><a href="#__codelineno-0-1271">1271</a></span>
<span class="normal"><a href="#__codelineno-0-1272">1272</a></span>
<span class="normal"><a href="#__codelineno-0-1273">1273</a></span>
<span class="normal"><a href="#__codelineno-0-1274">1274</a></span>
<span class="normal"><a href="#__codelineno-0-1275">1275</a></span>
<span class="normal"><a href="#__codelineno-0-1276">1276</a></span>
<span class="normal"><a href="#__codelineno-0-1277">1277</a></span>
<span class="normal"><a href="#__codelineno-0-1278">1278</a></span>
<span class="normal"><a href="#__codelineno-0-1279">1279</a></span>
<span class="normal"><a href="#__codelineno-0-1280">1280</a></span>
<span class="normal"><a href="#__codelineno-0-1281">1281</a></span>
<span class="normal"><a href="#__codelineno-0-1282">1282</a></span>
<span class="normal"><a href="#__codelineno-0-1283">1283</a></span>
<span class="normal"><a href="#__codelineno-0-1284">1284</a></span>
<span class="normal"><a href="#__codelineno-0-1285">1285</a></span>
<span class="normal"><a href="#__codelineno-0-1286">1286</a></span>
<span class="normal"><a href="#__codelineno-0-1287">1287</a></span>
<span class="normal"><a href="#__codelineno-0-1288">1288</a></span>
<span class="normal"><a href="#__codelineno-0-1289">1289</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1267" name="__codelineno-0-1267"></a><span class="k">def</span> <span class="nf">edit_priority_layer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-1268" name="__codelineno-0-1268"></a>    <span class="sd">"""Edits the current selected priority layer</span>
<a id="__codelineno-0-1269" name="__codelineno-0-1269"></a><span class="sd">    and updates the layer box list."""</span>
<a id="__codelineno-0-1270" name="__codelineno-0-1270"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">priority_layers_list</span><span class="o">.</span><span class="n">currentItem</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1271" name="__codelineno-0-1271"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-1272" name="__codelineno-0-1272"></a>            <span class="n">tr</span><span class="p">(</span><span class="s2">"Select first the priority weighting layer from the layers list."</span><span class="p">),</span>
<a id="__codelineno-0-1273" name="__codelineno-0-1273"></a>            <span class="n">Qgis</span><span class="o">.</span><span class="n">Critical</span><span class="p">,</span>
<a id="__codelineno-0-1274" name="__codelineno-0-1274"></a>        <span class="p">)</span>
<a id="__codelineno-0-1275" name="__codelineno-0-1275"></a>        <span class="k">return</span>
<a id="__codelineno-0-1276" name="__codelineno-0-1276"></a>
<a id="__codelineno-0-1277" name="__codelineno-0-1277"></a>    <span class="n">layer_identifier</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">priority_layers_list</span><span class="o">.</span><span class="n">currentItem</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">(</span>
<a id="__codelineno-0-1278" name="__codelineno-0-1278"></a>        <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span>
<a id="__codelineno-0-1279" name="__codelineno-0-1279"></a>    <span class="p">)</span>
<a id="__codelineno-0-1280" name="__codelineno-0-1280"></a>
<a id="__codelineno-0-1281" name="__codelineno-0-1281"></a>    <span class="k">if</span> <span class="n">layer_identifier</span> <span class="o">==</span> <span class="s2">""</span><span class="p">:</span>
<a id="__codelineno-0-1282" name="__codelineno-0-1282"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-1283" name="__codelineno-0-1283"></a>            <span class="n">tr</span><span class="p">(</span><span class="s2">"Could not fetch the selected priority layer for editing."</span><span class="p">),</span>
<a id="__codelineno-0-1284" name="__codelineno-0-1284"></a>            <span class="n">Qgis</span><span class="o">.</span><span class="n">Critical</span><span class="p">,</span>
<a id="__codelineno-0-1285" name="__codelineno-0-1285"></a>        <span class="p">)</span>
<a id="__codelineno-0-1286" name="__codelineno-0-1286"></a>        <span class="k">return</span>
<a id="__codelineno-0-1287" name="__codelineno-0-1287"></a>
<a id="__codelineno-0-1288" name="__codelineno-0-1288"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_show_priority_layer_editor</span><span class="p">(</span><span class="n">layer_identifier</span><span class="p">)</span>
<a id="__codelineno-0-1289" name="__codelineno-0-1289"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">update_priority_layers</span><span class="p">(</span><span class="n">update_groups</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.enable_analysis_controls" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">enable_analysis_controls</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.enable_analysis_controls" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">enable_analysis_controls</span><span class="p">(</span><span class="n">enable</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Enable or disable controls related to running the scenario analysis.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>enable</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True to enable else False to disable.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1885">1885</a></span>
<span class="normal"><a href="#__codelineno-0-1886">1886</a></span>
<span class="normal"><a href="#__codelineno-0-1887">1887</a></span>
<span class="normal"><a href="#__codelineno-0-1888">1888</a></span>
<span class="normal"><a href="#__codelineno-0-1889">1889</a></span>
<span class="normal"><a href="#__codelineno-0-1890">1890</a></span>
<span class="normal"><a href="#__codelineno-0-1891">1891</a></span>
<span class="normal"><a href="#__codelineno-0-1892">1892</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1885" name="__codelineno-0-1885"></a><span class="k">def</span> <span class="nf">enable_analysis_controls</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
<a id="__codelineno-0-1886" name="__codelineno-0-1886"></a>    <span class="sd">"""Enable or disable controls related to running the scenario analysis.</span>
<a id="__codelineno-0-1887" name="__codelineno-0-1887"></a>
<a id="__codelineno-0-1888" name="__codelineno-0-1888"></a><span class="sd">    :param enable: True to enable else False to disable.</span>
<a id="__codelineno-0-1889" name="__codelineno-0-1889"></a><span class="sd">    :type enable: bool</span>
<a id="__codelineno-0-1890" name="__codelineno-0-1890"></a><span class="sd">    """</span>
<a id="__codelineno-0-1891" name="__codelineno-0-1891"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">run_scenario_btn</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="n">enable</span><span class="p">)</span>
<a id="__codelineno-0-1892" name="__codelineno-0-1892"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">gp_report_options</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="n">enable</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.fetch_default_layer_list" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">fetch_default_layer_list</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.fetch_default_layer_list" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">fetch_default_layer_list</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Fetch default layer list from API.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1374">1374</a></span>
<span class="normal"><a href="#__codelineno-0-1375">1375</a></span>
<span class="normal"><a href="#__codelineno-0-1376">1376</a></span>
<span class="normal"><a href="#__codelineno-0-1377">1377</a></span>
<span class="normal"><a href="#__codelineno-0-1378">1378</a></span>
<span class="normal"><a href="#__codelineno-0-1379">1379</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1374" name="__codelineno-0-1374"></a><span class="k">def</span> <span class="nf">fetch_default_layer_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-1375" name="__codelineno-0-1375"></a>    <span class="sd">"""Fetch default layer list from API."""</span>
<a id="__codelineno-0-1376" name="__codelineno-0-1376"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_trends_auth</span><span class="p">():</span>
<a id="__codelineno-0-1377" name="__codelineno-0-1377"></a>        <span class="k">return</span>
<a id="__codelineno-0-1378" name="__codelineno-0-1378"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">fetch_default_layer_task</span> <span class="o">=</span> <span class="n">FetchDefaultLayerTask</span><span class="p">()</span>
<a id="__codelineno-0-1379" name="__codelineno-0-1379"></a>    <span class="n">QgsApplication</span><span class="o">.</span><span class="n">taskManager</span><span class="p">()</span><span class="o">.</span><span class="n">addTask</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fetch_default_layer_task</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.fetch_scenario_history_list" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">fetch_scenario_history_list</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.fetch_scenario_history_list" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">fetch_scenario_history_list</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Fetch scenario history list from API.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1743">1743</a></span>
<span class="normal"><a href="#__codelineno-0-1744">1744</a></span>
<span class="normal"><a href="#__codelineno-0-1745">1745</a></span>
<span class="normal"><a href="#__codelineno-0-1746">1746</a></span>
<span class="normal"><a href="#__codelineno-0-1747">1747</a></span>
<span class="normal"><a href="#__codelineno-0-1748">1748</a></span>
<span class="normal"><a href="#__codelineno-0-1749">1749</a></span>
<span class="normal"><a href="#__codelineno-0-1750">1750</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1743" name="__codelineno-0-1743"></a><span class="k">def</span> <span class="nf">fetch_scenario_history_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-1744" name="__codelineno-0-1744"></a>    <span class="sd">"""Fetch scenario history list from API."""</span>
<a id="__codelineno-0-1745" name="__codelineno-0-1745"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_trends_auth</span><span class="p">():</span>
<a id="__codelineno-0-1746" name="__codelineno-0-1746"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_scenario_list</span><span class="p">()</span>
<a id="__codelineno-0-1747" name="__codelineno-0-1747"></a>        <span class="k">return</span>
<a id="__codelineno-0-1748" name="__codelineno-0-1748"></a>    <span class="n">task</span> <span class="o">=</span> <span class="n">FetchScenarioHistoryTask</span><span class="p">()</span>
<a id="__codelineno-0-1749" name="__codelineno-0-1749"></a>    <span class="n">task</span><span class="o">.</span><span class="n">task_finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_fetch_scenario_history_list_finished</span><span class="p">)</span>
<a id="__codelineno-0-1750" name="__codelineno-0-1750"></a>    <span class="n">QgsApplication</span><span class="o">.</span><span class="n">taskManager</span><span class="p">()</span><span class="o">.</span><span class="n">addTask</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.get_studyarea_path" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_studyarea_path</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.get_studyarea_path" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_studyarea_path</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Return the path of the study area</p>
<p>Returns:
    str: Study area path</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-593">593</a></span>
<span class="normal"><a href="#__codelineno-0-594">594</a></span>
<span class="normal"><a href="#__codelineno-0-595">595</a></span>
<span class="normal"><a href="#__codelineno-0-596">596</a></span>
<span class="normal"><a href="#__codelineno-0-597">597</a></span>
<span class="normal"><a href="#__codelineno-0-598">598</a></span>
<span class="normal"><a href="#__codelineno-0-599">599</a></span>
<span class="normal"><a href="#__codelineno-0-600">600</a></span>
<span class="normal"><a href="#__codelineno-0-601">601</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-593" name="__codelineno-0-593"></a><span class="k">def</span> <span class="nf">get_studyarea_path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a id="__codelineno-0-594" name="__codelineno-0-594"></a>    <span class="sd">"""Return the path of the study area</span>
<a id="__codelineno-0-595" name="__codelineno-0-595"></a>
<a id="__codelineno-0-596" name="__codelineno-0-596"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-597" name="__codelineno-0-597"></a><span class="sd">        str: Study area path</span>
<a id="__codelineno-0-598" name="__codelineno-0-598"></a><span class="sd">    """</span>
<a id="__codelineno-0-599" name="__codelineno-0-599"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aoi_layer</span><span class="p">:</span>
<a id="__codelineno-0-600" name="__codelineno-0-600"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aoi_layer</span><span class="o">.</span><span class="n">source</span><span class="p">()</span>
<a id="__codelineno-0-601" name="__codelineno-0-601"></a>    <span class="k">return</span> <span class="s2">""</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.group_value_changed" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">group_value_changed</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.group_value_changed" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">group_value_changed</span><span class="p">(</span><span class="n">group_name</span><span class="p">,</span> <span class="n">group_value</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Slot to handle priority group widget changes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>group_name</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Group name</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>group_value</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Group value</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-799">799</a></span>
<span class="normal"><a href="#__codelineno-0-800">800</a></span>
<span class="normal"><a href="#__codelineno-0-801">801</a></span>
<span class="normal"><a href="#__codelineno-0-802">802</a></span>
<span class="normal"><a href="#__codelineno-0-803">803</a></span>
<span class="normal"><a href="#__codelineno-0-804">804</a></span>
<span class="normal"><a href="#__codelineno-0-805">805</a></span>
<span class="normal"><a href="#__codelineno-0-806">806</a></span>
<span class="normal"><a href="#__codelineno-0-807">807</a></span>
<span class="normal"><a href="#__codelineno-0-808">808</a></span>
<span class="normal"><a href="#__codelineno-0-809">809</a></span>
<span class="normal"><a href="#__codelineno-0-810">810</a></span>
<span class="normal"><a href="#__codelineno-0-811">811</a></span>
<span class="normal"><a href="#__codelineno-0-812">812</a></span>
<span class="normal"><a href="#__codelineno-0-813">813</a></span>
<span class="normal"><a href="#__codelineno-0-814">814</a></span>
<span class="normal"><a href="#__codelineno-0-815">815</a></span>
<span class="normal"><a href="#__codelineno-0-816">816</a></span>
<span class="normal"><a href="#__codelineno-0-817">817</a></span>
<span class="normal"><a href="#__codelineno-0-818">818</a></span>
<span class="normal"><a href="#__codelineno-0-819">819</a></span>
<span class="normal"><a href="#__codelineno-0-820">820</a></span>
<span class="normal"><a href="#__codelineno-0-821">821</a></span>
<span class="normal"><a href="#__codelineno-0-822">822</a></span>
<span class="normal"><a href="#__codelineno-0-823">823</a></span>
<span class="normal"><a href="#__codelineno-0-824">824</a></span>
<span class="normal"><a href="#__codelineno-0-825">825</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-799" name="__codelineno-0-799"></a><span class="k">def</span> <span class="nf">group_value_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group_name</span><span class="p">,</span> <span class="n">group_value</span><span class="p">):</span>
<a id="__codelineno-0-800" name="__codelineno-0-800"></a>    <span class="sd">"""Slot to handle priority group widget changes.</span>
<a id="__codelineno-0-801" name="__codelineno-0-801"></a>
<a id="__codelineno-0-802" name="__codelineno-0-802"></a><span class="sd">    :param group_name: Group name</span>
<a id="__codelineno-0-803" name="__codelineno-0-803"></a><span class="sd">    :type group_name: str</span>
<a id="__codelineno-0-804" name="__codelineno-0-804"></a>
<a id="__codelineno-0-805" name="__codelineno-0-805"></a><span class="sd">    :param group_value: Group value</span>
<a id="__codelineno-0-806" name="__codelineno-0-806"></a><span class="sd">    :type group_value: int</span>
<a id="__codelineno-0-807" name="__codelineno-0-807"></a><span class="sd">    """</span>
<a id="__codelineno-0-808" name="__codelineno-0-808"></a>
<a id="__codelineno-0-809" name="__codelineno-0-809"></a>    <span class="n">group</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">find_group_by_name</span><span class="p">(</span><span class="n">group_name</span><span class="p">)</span>
<a id="__codelineno-0-810" name="__codelineno-0-810"></a>    <span class="n">group</span><span class="p">[</span><span class="s2">"value"</span><span class="p">]</span> <span class="o">=</span> <span class="n">group_value</span>
<a id="__codelineno-0-811" name="__codelineno-0-811"></a>    <span class="n">settings_manager</span><span class="o">.</span><span class="n">save_priority_group</span><span class="p">(</span><span class="n">group</span><span class="p">)</span>
<a id="__codelineno-0-812" name="__codelineno-0-812"></a>
<a id="__codelineno-0-813" name="__codelineno-0-813"></a>    <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">topLevelItemCount</span><span class="p">()):</span>
<a id="__codelineno-0-814" name="__codelineno-0-814"></a>        <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">topLevelItem</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
<a id="__codelineno-0-815" name="__codelineno-0-815"></a>
<a id="__codelineno-0-816" name="__codelineno-0-816"></a>        <span class="k">for</span> <span class="n">child_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">childCount</span><span class="p">()):</span>
<a id="__codelineno-0-817" name="__codelineno-0-817"></a>            <span class="n">child</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">child</span><span class="p">(</span><span class="n">child_index</span><span class="p">)</span>
<a id="__codelineno-0-818" name="__codelineno-0-818"></a>            <span class="n">layer</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">find_layer_by_name</span><span class="p">(</span><span class="n">child</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<a id="__codelineno-0-819" name="__codelineno-0-819"></a>            <span class="n">new_groups</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-820" name="__codelineno-0-820"></a>            <span class="k">for</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"groups"</span><span class="p">):</span>
<a id="__codelineno-0-821" name="__codelineno-0-821"></a>                <span class="k">if</span> <span class="n">group</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"name"</span><span class="p">)</span> <span class="o">==</span> <span class="n">group_name</span><span class="p">:</span>
<a id="__codelineno-0-822" name="__codelineno-0-822"></a>                    <span class="n">group</span><span class="p">[</span><span class="s2">"value"</span><span class="p">]</span> <span class="o">=</span> <span class="n">group_value</span>
<a id="__codelineno-0-823" name="__codelineno-0-823"></a>                <span class="n">new_groups</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">group</span><span class="p">)</span>
<a id="__codelineno-0-824" name="__codelineno-0-824"></a>            <span class="n">layer</span><span class="p">[</span><span class="s2">"groups"</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_groups</span>
<a id="__codelineno-0-825" name="__codelineno-0-825"></a>            <span class="n">settings_manager</span><span class="o">.</span><span class="n">save_priority_layer</span><span class="p">(</span><span class="n">layer</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.has_trends_auth" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">has_trends_auth</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.has_trends_auth" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">has_trends_auth</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Check if plugin has user Trends.Earth authentication.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if user has provided the username and password.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1762">1762</a></span>
<span class="normal"><a href="#__codelineno-0-1763">1763</a></span>
<span class="normal"><a href="#__codelineno-0-1764">1764</a></span>
<span class="normal"><a href="#__codelineno-0-1765">1765</a></span>
<span class="normal"><a href="#__codelineno-0-1766">1766</a></span>
<span class="normal"><a href="#__codelineno-0-1767">1767</a></span>
<span class="normal"><a href="#__codelineno-0-1768">1768</a></span>
<span class="normal"><a href="#__codelineno-0-1769">1769</a></span>
<span class="normal"><a href="#__codelineno-0-1770">1770</a></span>
<span class="normal"><a href="#__codelineno-0-1771">1771</a></span>
<span class="normal"><a href="#__codelineno-0-1772">1772</a></span>
<span class="normal"><a href="#__codelineno-0-1773">1773</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1762" name="__codelineno-0-1762"></a><span class="k">def</span> <span class="nf">has_trends_auth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-1763" name="__codelineno-0-1763"></a>    <span class="sd">"""Check if plugin has user Trends.Earth authentication.</span>
<a id="__codelineno-0-1764" name="__codelineno-0-1764"></a>
<a id="__codelineno-0-1765" name="__codelineno-0-1765"></a><span class="sd">    :return: True if user has provided the username and password.</span>
<a id="__codelineno-0-1766" name="__codelineno-0-1766"></a><span class="sd">    :rtype: bool</span>
<a id="__codelineno-0-1767" name="__codelineno-0-1767"></a><span class="sd">    """</span>
<a id="__codelineno-0-1768" name="__codelineno-0-1768"></a>    <span class="n">auth_config</span> <span class="o">=</span> <span class="n">auth</span><span class="o">.</span><span class="n">get_auth_config</span><span class="p">(</span><span class="n">auth</span><span class="o">.</span><span class="n">TE_API_AUTH_SETUP</span><span class="p">,</span> <span class="n">warn</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-1769" name="__codelineno-0-1769"></a>    <span class="k">return</span> <span class="p">(</span>
<a id="__codelineno-0-1770" name="__codelineno-0-1770"></a>        <span class="n">auth_config</span>
<a id="__codelineno-0-1771" name="__codelineno-0-1771"></a>        <span class="ow">and</span> <span class="n">auth_config</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="s2">"username"</span><span class="p">)</span>
<a id="__codelineno-0-1772" name="__codelineno-0-1772"></a>        <span class="ow">and</span> <span class="n">auth_config</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="s2">"password"</span><span class="p">)</span>
<a id="__codelineno-0-1773" name="__codelineno-0-1773"></a>    <span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.initialize_priority_layers" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">initialize_priority_layers</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.initialize_priority_layers" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">initialize_priority_layers</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Prepares the priority weighted layers UI with the defaults.</p>
<p>Gets the store priority layers from plugin settings and populates
them into the QListWidget as QListWidgetItems then fetches the
priority groups and adds them to the QTreeWidget as QTreeWidgetItems
with their corresponding priority layers as their child items.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-726">726</a></span>
<span class="normal"><a href="#__codelineno-0-727">727</a></span>
<span class="normal"><a href="#__codelineno-0-728">728</a></span>
<span class="normal"><a href="#__codelineno-0-729">729</a></span>
<span class="normal"><a href="#__codelineno-0-730">730</a></span>
<span class="normal"><a href="#__codelineno-0-731">731</a></span>
<span class="normal"><a href="#__codelineno-0-732">732</a></span>
<span class="normal"><a href="#__codelineno-0-733">733</a></span>
<span class="normal"><a href="#__codelineno-0-734">734</a></span>
<span class="normal"><a href="#__codelineno-0-735">735</a></span>
<span class="normal"><a href="#__codelineno-0-736">736</a></span>
<span class="normal"><a href="#__codelineno-0-737">737</a></span>
<span class="normal"><a href="#__codelineno-0-738">738</a></span>
<span class="normal"><a href="#__codelineno-0-739">739</a></span>
<span class="normal"><a href="#__codelineno-0-740">740</a></span>
<span class="normal"><a href="#__codelineno-0-741">741</a></span>
<span class="normal"><a href="#__codelineno-0-742">742</a></span>
<span class="normal"><a href="#__codelineno-0-743">743</a></span>
<span class="normal"><a href="#__codelineno-0-744">744</a></span>
<span class="normal"><a href="#__codelineno-0-745">745</a></span>
<span class="normal"><a href="#__codelineno-0-746">746</a></span>
<span class="normal"><a href="#__codelineno-0-747">747</a></span>
<span class="normal"><a href="#__codelineno-0-748">748</a></span>
<span class="normal"><a href="#__codelineno-0-749">749</a></span>
<span class="normal"><a href="#__codelineno-0-750">750</a></span>
<span class="normal"><a href="#__codelineno-0-751">751</a></span>
<span class="normal"><a href="#__codelineno-0-752">752</a></span>
<span class="normal"><a href="#__codelineno-0-753">753</a></span>
<span class="normal"><a href="#__codelineno-0-754">754</a></span>
<span class="normal"><a href="#__codelineno-0-755">755</a></span>
<span class="normal"><a href="#__codelineno-0-756">756</a></span>
<span class="normal"><a href="#__codelineno-0-757">757</a></span>
<span class="normal"><a href="#__codelineno-0-758">758</a></span>
<span class="normal"><a href="#__codelineno-0-759">759</a></span>
<span class="normal"><a href="#__codelineno-0-760">760</a></span>
<span class="normal"><a href="#__codelineno-0-761">761</a></span>
<span class="normal"><a href="#__codelineno-0-762">762</a></span>
<span class="normal"><a href="#__codelineno-0-763">763</a></span>
<span class="normal"><a href="#__codelineno-0-764">764</a></span>
<span class="normal"><a href="#__codelineno-0-765">765</a></span>
<span class="normal"><a href="#__codelineno-0-766">766</a></span>
<span class="normal"><a href="#__codelineno-0-767">767</a></span>
<span class="normal"><a href="#__codelineno-0-768">768</a></span>
<span class="normal"><a href="#__codelineno-0-769">769</a></span>
<span class="normal"><a href="#__codelineno-0-770">770</a></span>
<span class="normal"><a href="#__codelineno-0-771">771</a></span>
<span class="normal"><a href="#__codelineno-0-772">772</a></span>
<span class="normal"><a href="#__codelineno-0-773">773</a></span>
<span class="normal"><a href="#__codelineno-0-774">774</a></span>
<span class="normal"><a href="#__codelineno-0-775">775</a></span>
<span class="normal"><a href="#__codelineno-0-776">776</a></span>
<span class="normal"><a href="#__codelineno-0-777">777</a></span>
<span class="normal"><a href="#__codelineno-0-778">778</a></span>
<span class="normal"><a href="#__codelineno-0-779">779</a></span>
<span class="normal"><a href="#__codelineno-0-780">780</a></span>
<span class="normal"><a href="#__codelineno-0-781">781</a></span>
<span class="normal"><a href="#__codelineno-0-782">782</a></span>
<span class="normal"><a href="#__codelineno-0-783">783</a></span>
<span class="normal"><a href="#__codelineno-0-784">784</a></span>
<span class="normal"><a href="#__codelineno-0-785">785</a></span>
<span class="normal"><a href="#__codelineno-0-786">786</a></span>
<span class="normal"><a href="#__codelineno-0-787">787</a></span>
<span class="normal"><a href="#__codelineno-0-788">788</a></span>
<span class="normal"><a href="#__codelineno-0-789">789</a></span>
<span class="normal"><a href="#__codelineno-0-790">790</a></span>
<span class="normal"><a href="#__codelineno-0-791">791</a></span>
<span class="normal"><a href="#__codelineno-0-792">792</a></span>
<span class="normal"><a href="#__codelineno-0-793">793</a></span>
<span class="normal"><a href="#__codelineno-0-794">794</a></span>
<span class="normal"><a href="#__codelineno-0-795">795</a></span>
<span class="normal"><a href="#__codelineno-0-796">796</a></span>
<span class="normal"><a href="#__codelineno-0-797">797</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-726" name="__codelineno-0-726"></a><span class="k">def</span> <span class="nf">initialize_priority_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-727" name="__codelineno-0-727"></a>    <span class="sd">"""Prepares the priority weighted layers UI with the defaults.</span>
<a id="__codelineno-0-728" name="__codelineno-0-728"></a>
<a id="__codelineno-0-729" name="__codelineno-0-729"></a><span class="sd">    Gets the store priority layers from plugin settings and populates</span>
<a id="__codelineno-0-730" name="__codelineno-0-730"></a><span class="sd">    them into the QListWidget as QListWidgetItems then fetches the</span>
<a id="__codelineno-0-731" name="__codelineno-0-731"></a><span class="sd">    priority groups and adds them to the QTreeWidget as QTreeWidgetItems</span>
<a id="__codelineno-0-732" name="__codelineno-0-732"></a><span class="sd">    with their corresponding priority layers as their child items.</span>
<a id="__codelineno-0-733" name="__codelineno-0-733"></a><span class="sd">    """</span>
<a id="__codelineno-0-734" name="__codelineno-0-734"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">priority_layers_list</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<a id="__codelineno-0-735" name="__codelineno-0-735"></a>
<a id="__codelineno-0-736" name="__codelineno-0-736"></a>    <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_priority_layers</span><span class="p">():</span>
<a id="__codelineno-0-737" name="__codelineno-0-737"></a>        <span class="n">item</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QListWidgetItem</span><span class="p">()</span>
<a id="__codelineno-0-738" name="__codelineno-0-738"></a>        <span class="n">item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">DisplayRole</span><span class="p">,</span> <span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"name"</span><span class="p">))</span>
<a id="__codelineno-0-739" name="__codelineno-0-739"></a>        <span class="n">item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">,</span> <span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"uuid"</span><span class="p">))</span>
<a id="__codelineno-0-740" name="__codelineno-0-740"></a>
<a id="__codelineno-0-741" name="__codelineno-0-741"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"path"</span><span class="p">))</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
<a id="__codelineno-0-742" name="__codelineno-0-742"></a>            <span class="s2">"path"</span>
<a id="__codelineno-0-743" name="__codelineno-0-743"></a>        <span class="p">)</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"cplus://"</span><span class="p">):</span>
<a id="__codelineno-0-744" name="__codelineno-0-744"></a>            <span class="n">item</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">FileUtils</span><span class="o">.</span><span class="n">get_icon</span><span class="p">(</span><span class="s2">"mIndicatorLayerError.svg"</span><span class="p">))</span>
<a id="__codelineno-0-745" name="__codelineno-0-745"></a>            <span class="n">item</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span>
<a id="__codelineno-0-746" name="__codelineno-0-746"></a>                <span class="n">tr</span><span class="p">(</span>
<a id="__codelineno-0-747" name="__codelineno-0-747"></a>                    <span class="s2">"Contains invalid priority layer path, "</span>
<a id="__codelineno-0-748" name="__codelineno-0-748"></a>                    <span class="s2">"the provided layer path does not exist!"</span>
<a id="__codelineno-0-749" name="__codelineno-0-749"></a>                <span class="p">)</span>
<a id="__codelineno-0-750" name="__codelineno-0-750"></a>            <span class="p">)</span>
<a id="__codelineno-0-751" name="__codelineno-0-751"></a>
<a id="__codelineno-0-752" name="__codelineno-0-752"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pwl_item_flags</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-753" name="__codelineno-0-753"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">pwl_item_flags</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">flags</span><span class="p">()</span>
<a id="__codelineno-0-754" name="__codelineno-0-754"></a>
<a id="__codelineno-0-755" name="__codelineno-0-755"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">priority_layers_list</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<a id="__codelineno-0-756" name="__codelineno-0-756"></a>
<a id="__codelineno-0-757" name="__codelineno-0-757"></a>    <span class="n">list_items</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-758" name="__codelineno-0-758"></a>    <span class="n">items_only</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-759" name="__codelineno-0-759"></a>    <span class="n">stored_priority_groups</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_priority_groups</span><span class="p">()</span>
<a id="__codelineno-0-760" name="__codelineno-0-760"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<a id="__codelineno-0-761" name="__codelineno-0-761"></a>
<a id="__codelineno-0-762" name="__codelineno-0-762"></a>    <span class="k">for</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">stored_priority_groups</span><span class="p">:</span>
<a id="__codelineno-0-763" name="__codelineno-0-763"></a>        <span class="n">group_widget</span> <span class="o">=</span> <span class="n">PriorityGroupWidget</span><span class="p">(</span>
<a id="__codelineno-0-764" name="__codelineno-0-764"></a>            <span class="n">group</span><span class="p">,</span>
<a id="__codelineno-0-765" name="__codelineno-0-765"></a>        <span class="p">)</span>
<a id="__codelineno-0-766" name="__codelineno-0-766"></a>        <span class="n">group_widget</span><span class="o">.</span><span class="n">input_value_changed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">group_value_changed</span><span class="p">)</span>
<a id="__codelineno-0-767" name="__codelineno-0-767"></a>        <span class="n">group_widget</span><span class="o">.</span><span class="n">slider_value_changed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">group_value_changed</span><span class="p">)</span>
<a id="__codelineno-0-768" name="__codelineno-0-768"></a>
<a id="__codelineno-0-769" name="__codelineno-0-769"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_widgets</span><span class="p">[</span><span class="n">group</span><span class="p">[</span><span class="s2">"name"</span><span class="p">]]</span> <span class="o">=</span> <span class="n">group_widget</span>
<a id="__codelineno-0-770" name="__codelineno-0-770"></a>
<a id="__codelineno-0-771" name="__codelineno-0-771"></a>        <span class="n">pw_layers</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">find_layers_by_group</span><span class="p">(</span><span class="n">group</span><span class="p">[</span><span class="s2">"name"</span><span class="p">])</span>
<a id="__codelineno-0-772" name="__codelineno-0-772"></a>
<a id="__codelineno-0-773" name="__codelineno-0-773"></a>        <span class="n">item</span> <span class="o">=</span> <span class="n">SortableTreeWidgetItem</span><span class="p">()</span>
<a id="__codelineno-0-774" name="__codelineno-0-774"></a>        <span class="n">item</span><span class="o">.</span><span class="n">setSizeHint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">group_widget</span><span class="o">.</span><span class="n">sizeHint</span><span class="p">())</span>
<a id="__codelineno-0-775" name="__codelineno-0-775"></a>        <span class="n">item</span><span class="o">.</span><span class="n">setExpanded</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-776" name="__codelineno-0-776"></a>        <span class="n">item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">,</span> <span class="n">group</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"uuid"</span><span class="p">))</span>
<a id="__codelineno-0-777" name="__codelineno-0-777"></a>        <span class="n">item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">SORT_ROLE</span><span class="p">,</span> <span class="n">group</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"name"</span><span class="p">))</span>
<a id="__codelineno-0-778" name="__codelineno-0-778"></a>
<a id="__codelineno-0-779" name="__codelineno-0-779"></a>        <span class="c1"># Add priority layers into the group as a child items.</span>
<a id="__codelineno-0-780" name="__codelineno-0-780"></a>
<a id="__codelineno-0-781" name="__codelineno-0-781"></a>        <span class="n">item</span><span class="o">.</span><span class="n">setExpanded</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pw_layers</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-782" name="__codelineno-0-782"></a>
<a id="__codelineno-0-783" name="__codelineno-0-783"></a>        <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="n">pw_layers</span><span class="p">:</span>
<a id="__codelineno-0-784" name="__codelineno-0-784"></a>            <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-785" name="__codelineno-0-785"></a>                <span class="n">layer_item</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTreeWidgetItem</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<a id="__codelineno-0-786" name="__codelineno-0-786"></a>                <span class="n">layer_item</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"name"</span><span class="p">))</span>
<a id="__codelineno-0-787" name="__codelineno-0-787"></a>                <span class="n">layer_item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span>
<a id="__codelineno-0-788" name="__codelineno-0-788"></a>                    <span class="mi">0</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">,</span> <span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">USER_DEFINED_ATTRIBUTE</span><span class="p">)</span>
<a id="__codelineno-0-789" name="__codelineno-0-789"></a>                <span class="p">)</span>
<a id="__codelineno-0-790" name="__codelineno-0-790"></a>
<a id="__codelineno-0-791" name="__codelineno-0-791"></a>        <span class="n">list_items</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">item</span><span class="p">,</span> <span class="n">group_widget</span><span class="p">))</span>
<a id="__codelineno-0-792" name="__codelineno-0-792"></a>        <span class="n">items_only</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<a id="__codelineno-0-793" name="__codelineno-0-793"></a>
<a id="__codelineno-0-794" name="__codelineno-0-794"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">addTopLevelItems</span><span class="p">(</span><span class="n">items_only</span><span class="p">)</span>
<a id="__codelineno-0-795" name="__codelineno-0-795"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">sortItems</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AscendingOrder</span><span class="p">)</span>
<a id="__codelineno-0-796" name="__codelineno-0-796"></a>    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">list_items</span><span class="p">:</span>
<a id="__codelineno-0-797" name="__codelineno-0-797"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">setItemWidget</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.is_metric_configuration_valid" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">is_metric_configuration_valid</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.is_metric_configuration_valid" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">is_metric_configuration_valid</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Checks if the setup of the metric configuration for the scenario
analysis report is correct.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the configuration is correct else False.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1827">1827</a></span>
<span class="normal"><a href="#__codelineno-0-1828">1828</a></span>
<span class="normal"><a href="#__codelineno-0-1829">1829</a></span>
<span class="normal"><a href="#__codelineno-0-1830">1830</a></span>
<span class="normal"><a href="#__codelineno-0-1831">1831</a></span>
<span class="normal"><a href="#__codelineno-0-1832">1832</a></span>
<span class="normal"><a href="#__codelineno-0-1833">1833</a></span>
<span class="normal"><a href="#__codelineno-0-1834">1834</a></span>
<span class="normal"><a href="#__codelineno-0-1835">1835</a></span>
<span class="normal"><a href="#__codelineno-0-1836">1836</a></span>
<span class="normal"><a href="#__codelineno-0-1837">1837</a></span>
<span class="normal"><a href="#__codelineno-0-1838">1838</a></span>
<span class="normal"><a href="#__codelineno-0-1839">1839</a></span>
<span class="normal"><a href="#__codelineno-0-1840">1840</a></span>
<span class="normal"><a href="#__codelineno-0-1841">1841</a></span>
<span class="normal"><a href="#__codelineno-0-1842">1842</a></span>
<span class="normal"><a href="#__codelineno-0-1843">1843</a></span>
<span class="normal"><a href="#__codelineno-0-1844">1844</a></span>
<span class="normal"><a href="#__codelineno-0-1845">1845</a></span>
<span class="normal"><a href="#__codelineno-0-1846">1846</a></span>
<span class="normal"><a href="#__codelineno-0-1847">1847</a></span>
<span class="normal"><a href="#__codelineno-0-1848">1848</a></span>
<span class="normal"><a href="#__codelineno-0-1849">1849</a></span>
<span class="normal"><a href="#__codelineno-0-1850">1850</a></span>
<span class="normal"><a href="#__codelineno-0-1851">1851</a></span>
<span class="normal"><a href="#__codelineno-0-1852">1852</a></span>
<span class="normal"><a href="#__codelineno-0-1853">1853</a></span>
<span class="normal"><a href="#__codelineno-0-1854">1854</a></span>
<span class="normal"><a href="#__codelineno-0-1855">1855</a></span>
<span class="normal"><a href="#__codelineno-0-1856">1856</a></span>
<span class="normal"><a href="#__codelineno-0-1857">1857</a></span>
<span class="normal"><a href="#__codelineno-0-1858">1858</a></span>
<span class="normal"><a href="#__codelineno-0-1859">1859</a></span>
<span class="normal"><a href="#__codelineno-0-1860">1860</a></span>
<span class="normal"><a href="#__codelineno-0-1861">1861</a></span>
<span class="normal"><a href="#__codelineno-0-1862">1862</a></span>
<span class="normal"><a href="#__codelineno-0-1863">1863</a></span>
<span class="normal"><a href="#__codelineno-0-1864">1864</a></span>
<span class="normal"><a href="#__codelineno-0-1865">1865</a></span>
<span class="normal"><a href="#__codelineno-0-1866">1866</a></span>
<span class="normal"><a href="#__codelineno-0-1867">1867</a></span>
<span class="normal"><a href="#__codelineno-0-1868">1868</a></span>
<span class="normal"><a href="#__codelineno-0-1869">1869</a></span>
<span class="normal"><a href="#__codelineno-0-1870">1870</a></span>
<span class="normal"><a href="#__codelineno-0-1871">1871</a></span>
<span class="normal"><a href="#__codelineno-0-1872">1872</a></span>
<span class="normal"><a href="#__codelineno-0-1873">1873</a></span>
<span class="normal"><a href="#__codelineno-0-1874">1874</a></span>
<span class="normal"><a href="#__codelineno-0-1875">1875</a></span>
<span class="normal"><a href="#__codelineno-0-1876">1876</a></span>
<span class="normal"><a href="#__codelineno-0-1877">1877</a></span>
<span class="normal"><a href="#__codelineno-0-1878">1878</a></span>
<span class="normal"><a href="#__codelineno-0-1879">1879</a></span>
<span class="normal"><a href="#__codelineno-0-1880">1880</a></span>
<span class="normal"><a href="#__codelineno-0-1881">1881</a></span>
<span class="normal"><a href="#__codelineno-0-1882">1882</a></span>
<span class="normal"><a href="#__codelineno-0-1883">1883</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1827" name="__codelineno-0-1827"></a><span class="k">def</span> <span class="nf">is_metric_configuration_valid</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<a id="__codelineno-0-1828" name="__codelineno-0-1828"></a>    <span class="sd">"""Checks if the setup of the metric configuration for the scenario</span>
<a id="__codelineno-0-1829" name="__codelineno-0-1829"></a><span class="sd">    analysis report is correct.</span>
<a id="__codelineno-0-1830" name="__codelineno-0-1830"></a>
<a id="__codelineno-0-1831" name="__codelineno-0-1831"></a><span class="sd">    :returns: True if the configuration is correct else False.</span>
<a id="__codelineno-0-1832" name="__codelineno-0-1832"></a><span class="sd">    :rtype: bool</span>
<a id="__codelineno-0-1833" name="__codelineno-0-1833"></a><span class="sd">    """</span>
<a id="__codelineno-0-1834" name="__codelineno-0-1834"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">chb_metric_builder</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
<a id="__codelineno-0-1835" name="__codelineno-0-1835"></a>        <span class="c1"># Not applicable so just return True</span>
<a id="__codelineno-0-1836" name="__codelineno-0-1836"></a>        <span class="k">return</span> <span class="kc">True</span>
<a id="__codelineno-0-1837" name="__codelineno-0-1837"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-1838" name="__codelineno-0-1838"></a>        <span class="n">profile_collection</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_metric_profile_collection</span><span class="p">()</span>
<a id="__codelineno-0-1839" name="__codelineno-0-1839"></a>        <span class="k">if</span> <span class="n">profile_collection</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1840" name="__codelineno-0-1840"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-1841" name="__codelineno-0-1841"></a>                <span class="n">tr</span><span class="p">(</span>
<a id="__codelineno-0-1842" name="__codelineno-0-1842"></a>                    <span class="sa">f</span><span class="s2">"No metric profiles found. Use the metric "</span>
<a id="__codelineno-0-1843" name="__codelineno-0-1843"></a>                    <span class="sa">f</span><span class="s2">"builder to specify one or more metric "</span>
<a id="__codelineno-0-1844" name="__codelineno-0-1844"></a>                    <span class="sa">f</span><span class="s2">"profiles."</span>
<a id="__codelineno-0-1845" name="__codelineno-0-1845"></a>                <span class="p">)</span>
<a id="__codelineno-0-1846" name="__codelineno-0-1846"></a>            <span class="p">)</span>
<a id="__codelineno-0-1847" name="__codelineno-0-1847"></a>            <span class="k">return</span> <span class="kc">False</span>
<a id="__codelineno-0-1848" name="__codelineno-0-1848"></a>
<a id="__codelineno-0-1849" name="__codelineno-0-1849"></a>        <span class="n">metric_profile</span> <span class="o">=</span> <span class="n">profile_collection</span><span class="o">.</span><span class="n">get_current_profile</span><span class="p">()</span>
<a id="__codelineno-0-1850" name="__codelineno-0-1850"></a>        <span class="k">if</span> <span class="p">(</span>
<a id="__codelineno-0-1851" name="__codelineno-0-1851"></a>            <span class="n">metric_profile</span> <span class="ow">is</span> <span class="kc">None</span>
<a id="__codelineno-0-1852" name="__codelineno-0-1852"></a>            <span class="ow">or</span> <span class="n">metric_profile</span><span class="o">.</span><span class="n">config</span> <span class="ow">is</span> <span class="kc">None</span>
<a id="__codelineno-0-1853" name="__codelineno-0-1853"></a>            <span class="ow">or</span> <span class="ow">not</span> <span class="n">metric_profile</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<a id="__codelineno-0-1854" name="__codelineno-0-1854"></a>        <span class="p">):</span>
<a id="__codelineno-0-1855" name="__codelineno-0-1855"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-1856" name="__codelineno-0-1856"></a>                <span class="n">tr</span><span class="p">(</span>
<a id="__codelineno-0-1857" name="__codelineno-0-1857"></a>                    <span class="sa">f</span><span class="s2">"Metric configuration is invalid or not yet defined. "</span>
<a id="__codelineno-0-1858" name="__codelineno-0-1858"></a>                    <span class="sa">f</span><span class="s2">"Use the metric builder to check and re-run the wizard."</span>
<a id="__codelineno-0-1859" name="__codelineno-0-1859"></a>                <span class="p">)</span>
<a id="__codelineno-0-1860" name="__codelineno-0-1860"></a>            <span class="p">)</span>
<a id="__codelineno-0-1861" name="__codelineno-0-1861"></a>            <span class="k">return</span> <span class="kc">False</span>
<a id="__codelineno-0-1862" name="__codelineno-0-1862"></a>
<a id="__codelineno-0-1863" name="__codelineno-0-1863"></a>        <span class="c1"># Compare activities</span>
<a id="__codelineno-0-1864" name="__codelineno-0-1864"></a>        <span class="n">selected_activities_ids</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
<a id="__codelineno-0-1865" name="__codelineno-0-1865"></a>            <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">activity</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span> <span class="k">for</span> <span class="n">activity</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_activities</span><span class="p">()]</span>
<a id="__codelineno-0-1866" name="__codelineno-0-1866"></a>        <span class="p">)</span>
<a id="__codelineno-0-1867" name="__codelineno-0-1867"></a>        <span class="n">metric_activity_ids</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
<a id="__codelineno-0-1868" name="__codelineno-0-1868"></a>            <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">activity</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span> <span class="k">for</span> <span class="n">activity</span> <span class="ow">in</span> <span class="n">metric_profile</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">activities</span><span class="p">]</span>
<a id="__codelineno-0-1869" name="__codelineno-0-1869"></a>        <span class="p">)</span>
<a id="__codelineno-0-1870" name="__codelineno-0-1870"></a>        <span class="k">if</span> <span class="n">selected_activities_ids</span> <span class="o">==</span> <span class="n">metric_activity_ids</span><span class="p">:</span>
<a id="__codelineno-0-1871" name="__codelineno-0-1871"></a>            <span class="k">return</span> <span class="kc">True</span>
<a id="__codelineno-0-1872" name="__codelineno-0-1872"></a>        <span class="k">elif</span> <span class="n">selected_activities_ids</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">metric_activity_ids</span><span class="p">):</span>
<a id="__codelineno-0-1873" name="__codelineno-0-1873"></a>            <span class="k">return</span> <span class="kc">True</span>
<a id="__codelineno-0-1874" name="__codelineno-0-1874"></a>        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">selected_activities_ids</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">metric_activity_ids</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-1875" name="__codelineno-0-1875"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-1876" name="__codelineno-0-1876"></a>                <span class="n">tr</span><span class="p">(</span>
<a id="__codelineno-0-1877" name="__codelineno-0-1877"></a>                    <span class="sa">f</span><span class="s2">"There are activities whose metrics has not not been "</span>
<a id="__codelineno-0-1878" name="__codelineno-0-1878"></a>                    <span class="sa">f</span><span class="s2">"defined. Use the metric builder to update."</span>
<a id="__codelineno-0-1879" name="__codelineno-0-1879"></a>                <span class="p">)</span>
<a id="__codelineno-0-1880" name="__codelineno-0-1880"></a>            <span class="p">)</span>
<a id="__codelineno-0-1881" name="__codelineno-0-1881"></a>            <span class="k">return</span> <span class="kc">False</span>
<a id="__codelineno-0-1882" name="__codelineno-0-1882"></a>
<a id="__codelineno-0-1883" name="__codelineno-0-1883"></a>    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.load_layer_options" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">load_layer_options</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.load_layer_options" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">load_layer_options</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Retrieve outputs scenarion layers selection from settings and
update the releated ui components</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-281" name="__codelineno-0-281"></a><span class="k">def</span> <span class="nf">load_layer_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a>    <span class="sd">"""</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a><span class="sd">    Retrieve outputs scenarion layers selection from settings and</span>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a><span class="sd">    update the releated ui components</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a><span class="sd">    """</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">ncs_pwl_weighted</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>        <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a>            <span class="n">Settings</span><span class="o">.</span><span class="n">NCS_WEIGHTED</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">setting_type</span><span class="o">=</span><span class="nb">bool</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a>        <span class="p">)</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a>    <span class="p">)</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">landuse_project</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a>        <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>            <span class="n">Settings</span><span class="o">.</span><span class="n">LANDUSE_PROJECT</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">setting_type</span><span class="o">=</span><span class="nb">bool</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>        <span class="p">)</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>    <span class="p">)</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">highest_position</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>        <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>            <span class="n">Settings</span><span class="o">.</span><span class="n">HIGHEST_POSITION</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">setting_type</span><span class="o">=</span><span class="nb">bool</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>        <span class="p">)</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a>    <span class="p">)</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">processing_type</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>        <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a>            <span class="n">Settings</span><span class="o">.</span><span class="n">PROCESSING_TYPE</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">setting_type</span><span class="o">=</span><span class="nb">bool</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a>        <span class="p">)</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a>    <span class="p">)</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">view_status_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_view_status_button_clicked</span><span class="p">)</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a>    <span class="n">running_online_scenario_uuid</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_running_online_scenario</span><span class="p">()</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a>    <span class="n">online_task</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_scenario</span><span class="p">(</span><span class="n">running_online_scenario_uuid</span><span class="p">)</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">online_task</span><span class="p">:</span>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">view_status_btn</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">view_status_btn</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.load_report_options" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">load_report_options</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.load_report_options" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">load_report_options</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Load previously saved report options.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-319" name="__codelineno-0-319"></a><span class="k">def</span> <span class="nf">load_report_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>    <span class="sd">"""Load previously saved report options."""</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">chb_metric_builder</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a>        <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a>            <span class="n">Settings</span><span class="o">.</span><span class="n">USE_CUSTOM_METRICS</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">setting_type</span><span class="o">=</span><span class="nb">bool</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a>        <span class="p">)</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a>    <span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.load_scenario" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">load_scenario</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.load_scenario" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">load_scenario</span><span class="p">(</span><span class="n">scenario_identifier</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Edits the current selected scenario
and updates the layer box list.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1468">1468</a></span>
<span class="normal"><a href="#__codelineno-0-1469">1469</a></span>
<span class="normal"><a href="#__codelineno-0-1470">1470</a></span>
<span class="normal"><a href="#__codelineno-0-1471">1471</a></span>
<span class="normal"><a href="#__codelineno-0-1472">1472</a></span>
<span class="normal"><a href="#__codelineno-0-1473">1473</a></span>
<span class="normal"><a href="#__codelineno-0-1474">1474</a></span>
<span class="normal"><a href="#__codelineno-0-1475">1475</a></span>
<span class="normal"><a href="#__codelineno-0-1476">1476</a></span>
<span class="normal"><a href="#__codelineno-0-1477">1477</a></span>
<span class="normal"><a href="#__codelineno-0-1478">1478</a></span>
<span class="normal"><a href="#__codelineno-0-1479">1479</a></span>
<span class="normal"><a href="#__codelineno-0-1480">1480</a></span>
<span class="normal"><a href="#__codelineno-0-1481">1481</a></span>
<span class="normal"><a href="#__codelineno-0-1482">1482</a></span>
<span class="normal"><a href="#__codelineno-0-1483">1483</a></span>
<span class="normal"><a href="#__codelineno-0-1484">1484</a></span>
<span class="normal"><a href="#__codelineno-0-1485">1485</a></span>
<span class="normal"><a href="#__codelineno-0-1486">1486</a></span>
<span class="normal"><a href="#__codelineno-0-1487">1487</a></span>
<span class="normal"><a href="#__codelineno-0-1488">1488</a></span>
<span class="normal"><a href="#__codelineno-0-1489">1489</a></span>
<span class="normal"><a href="#__codelineno-0-1490">1490</a></span>
<span class="normal"><a href="#__codelineno-0-1491">1491</a></span>
<span class="normal"><a href="#__codelineno-0-1492">1492</a></span>
<span class="normal"><a href="#__codelineno-0-1493">1493</a></span>
<span class="normal"><a href="#__codelineno-0-1494">1494</a></span>
<span class="normal"><a href="#__codelineno-0-1495">1495</a></span>
<span class="normal"><a href="#__codelineno-0-1496">1496</a></span>
<span class="normal"><a href="#__codelineno-0-1497">1497</a></span>
<span class="normal"><a href="#__codelineno-0-1498">1498</a></span>
<span class="normal"><a href="#__codelineno-0-1499">1499</a></span>
<span class="normal"><a href="#__codelineno-0-1500">1500</a></span>
<span class="normal"><a href="#__codelineno-0-1501">1501</a></span>
<span class="normal"><a href="#__codelineno-0-1502">1502</a></span>
<span class="normal"><a href="#__codelineno-0-1503">1503</a></span>
<span class="normal"><a href="#__codelineno-0-1504">1504</a></span>
<span class="normal"><a href="#__codelineno-0-1505">1505</a></span>
<span class="normal"><a href="#__codelineno-0-1506">1506</a></span>
<span class="normal"><a href="#__codelineno-0-1507">1507</a></span>
<span class="normal"><a href="#__codelineno-0-1508">1508</a></span>
<span class="normal"><a href="#__codelineno-0-1509">1509</a></span>
<span class="normal"><a href="#__codelineno-0-1510">1510</a></span>
<span class="normal"><a href="#__codelineno-0-1511">1511</a></span>
<span class="normal"><a href="#__codelineno-0-1512">1512</a></span>
<span class="normal"><a href="#__codelineno-0-1513">1513</a></span>
<span class="normal"><a href="#__codelineno-0-1514">1514</a></span>
<span class="normal"><a href="#__codelineno-0-1515">1515</a></span>
<span class="normal"><a href="#__codelineno-0-1516">1516</a></span>
<span class="normal"><a href="#__codelineno-0-1517">1517</a></span>
<span class="normal"><a href="#__codelineno-0-1518">1518</a></span>
<span class="normal"><a href="#__codelineno-0-1519">1519</a></span>
<span class="normal"><a href="#__codelineno-0-1520">1520</a></span>
<span class="normal"><a href="#__codelineno-0-1521">1521</a></span>
<span class="normal"><a href="#__codelineno-0-1522">1522</a></span>
<span class="normal"><a href="#__codelineno-0-1523">1523</a></span>
<span class="normal"><a href="#__codelineno-0-1524">1524</a></span>
<span class="normal"><a href="#__codelineno-0-1525">1525</a></span>
<span class="normal"><a href="#__codelineno-0-1526">1526</a></span>
<span class="normal"><a href="#__codelineno-0-1527">1527</a></span>
<span class="normal"><a href="#__codelineno-0-1528">1528</a></span>
<span class="normal"><a href="#__codelineno-0-1529">1529</a></span>
<span class="normal"><a href="#__codelineno-0-1530">1530</a></span>
<span class="normal"><a href="#__codelineno-0-1531">1531</a></span>
<span class="normal"><a href="#__codelineno-0-1532">1532</a></span>
<span class="normal"><a href="#__codelineno-0-1533">1533</a></span>
<span class="normal"><a href="#__codelineno-0-1534">1534</a></span>
<span class="normal"><a href="#__codelineno-0-1535">1535</a></span>
<span class="normal"><a href="#__codelineno-0-1536">1536</a></span>
<span class="normal"><a href="#__codelineno-0-1537">1537</a></span>
<span class="normal"><a href="#__codelineno-0-1538">1538</a></span>
<span class="normal"><a href="#__codelineno-0-1539">1539</a></span>
<span class="normal"><a href="#__codelineno-0-1540">1540</a></span>
<span class="normal"><a href="#__codelineno-0-1541">1541</a></span>
<span class="normal"><a href="#__codelineno-0-1542">1542</a></span>
<span class="normal"><a href="#__codelineno-0-1543">1543</a></span>
<span class="normal"><a href="#__codelineno-0-1544">1544</a></span>
<span class="normal"><a href="#__codelineno-0-1545">1545</a></span>
<span class="normal"><a href="#__codelineno-0-1546">1546</a></span>
<span class="normal"><a href="#__codelineno-0-1547">1547</a></span>
<span class="normal"><a href="#__codelineno-0-1548">1548</a></span>
<span class="normal"><a href="#__codelineno-0-1549">1549</a></span>
<span class="normal"><a href="#__codelineno-0-1550">1550</a></span>
<span class="normal"><a href="#__codelineno-0-1551">1551</a></span>
<span class="normal"><a href="#__codelineno-0-1552">1552</a></span>
<span class="normal"><a href="#__codelineno-0-1553">1553</a></span>
<span class="normal"><a href="#__codelineno-0-1554">1554</a></span>
<span class="normal"><a href="#__codelineno-0-1555">1555</a></span>
<span class="normal"><a href="#__codelineno-0-1556">1556</a></span>
<span class="normal"><a href="#__codelineno-0-1557">1557</a></span>
<span class="normal"><a href="#__codelineno-0-1558">1558</a></span>
<span class="normal"><a href="#__codelineno-0-1559">1559</a></span>
<span class="normal"><a href="#__codelineno-0-1560">1560</a></span>
<span class="normal"><a href="#__codelineno-0-1561">1561</a></span>
<span class="normal"><a href="#__codelineno-0-1562">1562</a></span>
<span class="normal"><a href="#__codelineno-0-1563">1563</a></span>
<span class="normal"><a href="#__codelineno-0-1564">1564</a></span>
<span class="normal"><a href="#__codelineno-0-1565">1565</a></span>
<span class="normal"><a href="#__codelineno-0-1566">1566</a></span>
<span class="normal"><a href="#__codelineno-0-1567">1567</a></span>
<span class="normal"><a href="#__codelineno-0-1568">1568</a></span>
<span class="normal"><a href="#__codelineno-0-1569">1569</a></span>
<span class="normal"><a href="#__codelineno-0-1570">1570</a></span>
<span class="normal"><a href="#__codelineno-0-1571">1571</a></span>
<span class="normal"><a href="#__codelineno-0-1572">1572</a></span>
<span class="normal"><a href="#__codelineno-0-1573">1573</a></span>
<span class="normal"><a href="#__codelineno-0-1574">1574</a></span>
<span class="normal"><a href="#__codelineno-0-1575">1575</a></span>
<span class="normal"><a href="#__codelineno-0-1576">1576</a></span>
<span class="normal"><a href="#__codelineno-0-1577">1577</a></span>
<span class="normal"><a href="#__codelineno-0-1578">1578</a></span>
<span class="normal"><a href="#__codelineno-0-1579">1579</a></span>
<span class="normal"><a href="#__codelineno-0-1580">1580</a></span>
<span class="normal"><a href="#__codelineno-0-1581">1581</a></span>
<span class="normal"><a href="#__codelineno-0-1582">1582</a></span>
<span class="normal"><a href="#__codelineno-0-1583">1583</a></span>
<span class="normal"><a href="#__codelineno-0-1584">1584</a></span>
<span class="normal"><a href="#__codelineno-0-1585">1585</a></span>
<span class="normal"><a href="#__codelineno-0-1586">1586</a></span>
<span class="normal"><a href="#__codelineno-0-1587">1587</a></span>
<span class="normal"><a href="#__codelineno-0-1588">1588</a></span>
<span class="normal"><a href="#__codelineno-0-1589">1589</a></span>
<span class="normal"><a href="#__codelineno-0-1590">1590</a></span>
<span class="normal"><a href="#__codelineno-0-1591">1591</a></span>
<span class="normal"><a href="#__codelineno-0-1592">1592</a></span>
<span class="normal"><a href="#__codelineno-0-1593">1593</a></span>
<span class="normal"><a href="#__codelineno-0-1594">1594</a></span>
<span class="normal"><a href="#__codelineno-0-1595">1595</a></span>
<span class="normal"><a href="#__codelineno-0-1596">1596</a></span>
<span class="normal"><a href="#__codelineno-0-1597">1597</a></span>
<span class="normal"><a href="#__codelineno-0-1598">1598</a></span>
<span class="normal"><a href="#__codelineno-0-1599">1599</a></span>
<span class="normal"><a href="#__codelineno-0-1600">1600</a></span>
<span class="normal"><a href="#__codelineno-0-1601">1601</a></span>
<span class="normal"><a href="#__codelineno-0-1602">1602</a></span>
<span class="normal"><a href="#__codelineno-0-1603">1603</a></span>
<span class="normal"><a href="#__codelineno-0-1604">1604</a></span>
<span class="normal"><a href="#__codelineno-0-1605">1605</a></span>
<span class="normal"><a href="#__codelineno-0-1606">1606</a></span>
<span class="normal"><a href="#__codelineno-0-1607">1607</a></span>
<span class="normal"><a href="#__codelineno-0-1608">1608</a></span>
<span class="normal"><a href="#__codelineno-0-1609">1609</a></span>
<span class="normal"><a href="#__codelineno-0-1610">1610</a></span>
<span class="normal"><a href="#__codelineno-0-1611">1611</a></span>
<span class="normal"><a href="#__codelineno-0-1612">1612</a></span>
<span class="normal"><a href="#__codelineno-0-1613">1613</a></span>
<span class="normal"><a href="#__codelineno-0-1614">1614</a></span>
<span class="normal"><a href="#__codelineno-0-1615">1615</a></span>
<span class="normal"><a href="#__codelineno-0-1616">1616</a></span>
<span class="normal"><a href="#__codelineno-0-1617">1617</a></span>
<span class="normal"><a href="#__codelineno-0-1618">1618</a></span>
<span class="normal"><a href="#__codelineno-0-1619">1619</a></span>
<span class="normal"><a href="#__codelineno-0-1620">1620</a></span>
<span class="normal"><a href="#__codelineno-0-1621">1621</a></span>
<span class="normal"><a href="#__codelineno-0-1622">1622</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1468" name="__codelineno-0-1468"></a><span class="k">def</span> <span class="nf">load_scenario</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scenario_identifier</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<a id="__codelineno-0-1469" name="__codelineno-0-1469"></a>    <span class="sd">"""Edits the current selected scenario</span>
<a id="__codelineno-0-1470" name="__codelineno-0-1470"></a><span class="sd">    and updates the layer box list."""</span>
<a id="__codelineno-0-1471" name="__codelineno-0-1471"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">scenario_identifier</span><span class="p">:</span>
<a id="__codelineno-0-1472" name="__codelineno-0-1472"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_list</span><span class="o">.</span><span class="n">currentItem</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1473" name="__codelineno-0-1473"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-1474" name="__codelineno-0-1474"></a>                <span class="n">tr</span><span class="p">(</span><span class="s2">"Select first the scenario from the scenario list."</span><span class="p">),</span>
<a id="__codelineno-0-1475" name="__codelineno-0-1475"></a>                <span class="n">Qgis</span><span class="o">.</span><span class="n">Critical</span><span class="p">,</span>
<a id="__codelineno-0-1476" name="__codelineno-0-1476"></a>            <span class="p">)</span>
<a id="__codelineno-0-1477" name="__codelineno-0-1477"></a>            <span class="k">return</span>
<a id="__codelineno-0-1478" name="__codelineno-0-1478"></a>
<a id="__codelineno-0-1479" name="__codelineno-0-1479"></a>        <span class="n">scenario_identifier</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_list</span><span class="o">.</span><span class="n">currentItem</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">(</span>
<a id="__codelineno-0-1480" name="__codelineno-0-1480"></a>            <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span>
<a id="__codelineno-0-1481" name="__codelineno-0-1481"></a>        <span class="p">)</span>
<a id="__codelineno-0-1482" name="__codelineno-0-1482"></a>
<a id="__codelineno-0-1483" name="__codelineno-0-1483"></a>        <span class="k">if</span> <span class="n">scenario_identifier</span> <span class="o">==</span> <span class="s2">""</span><span class="p">:</span>
<a id="__codelineno-0-1484" name="__codelineno-0-1484"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-1485" name="__codelineno-0-1485"></a>                <span class="n">tr</span><span class="p">(</span><span class="s2">"Could not fetch the selected priority layer for editing."</span><span class="p">),</span>
<a id="__codelineno-0-1486" name="__codelineno-0-1486"></a>                <span class="n">Qgis</span><span class="o">.</span><span class="n">Critical</span><span class="p">,</span>
<a id="__codelineno-0-1487" name="__codelineno-0-1487"></a>            <span class="p">)</span>
<a id="__codelineno-0-1488" name="__codelineno-0-1488"></a>            <span class="k">return</span>
<a id="__codelineno-0-1489" name="__codelineno-0-1489"></a>
<a id="__codelineno-0-1490" name="__codelineno-0-1490"></a>    <span class="n">scenario</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_scenario</span><span class="p">(</span><span class="n">scenario_identifier</span><span class="p">)</span>
<a id="__codelineno-0-1491" name="__codelineno-0-1491"></a>
<a id="__codelineno-0-1492" name="__codelineno-0-1492"></a>    <span class="k">if</span> <span class="n">scenario</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1493" name="__codelineno-0-1493"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scenario_name</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">scenario</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<a id="__codelineno-0-1494" name="__codelineno-0-1494"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scenario_description</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">scenario</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>
<a id="__codelineno-0-1495" name="__codelineno-0-1495"></a>
<a id="__codelineno-0-1496" name="__codelineno-0-1496"></a>        <span class="n">map_canvas</span> <span class="o">=</span> <span class="n">iface</span><span class="o">.</span><span class="n">mapCanvas</span><span class="p">()</span>
<a id="__codelineno-0-1497" name="__codelineno-0-1497"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">setCurrentExtent</span><span class="p">(</span>
<a id="__codelineno-0-1498" name="__codelineno-0-1498"></a>            <span class="n">map_canvas</span><span class="o">.</span><span class="n">mapSettings</span><span class="p">()</span><span class="o">.</span><span class="n">destinationCrs</span><span class="p">()</span><span class="o">.</span><span class="n">bounds</span><span class="p">(),</span>
<a id="__codelineno-0-1499" name="__codelineno-0-1499"></a>            <span class="n">map_canvas</span><span class="o">.</span><span class="n">mapSettings</span><span class="p">()</span><span class="o">.</span><span class="n">destinationCrs</span><span class="p">(),</span>
<a id="__codelineno-0-1500" name="__codelineno-0-1500"></a>        <span class="p">)</span>
<a id="__codelineno-0-1501" name="__codelineno-0-1501"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">setOutputExtentFromCurrent</span><span class="p">()</span>
<a id="__codelineno-0-1502" name="__codelineno-0-1502"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">setMapCanvas</span><span class="p">(</span><span class="n">map_canvas</span><span class="p">)</span>
<a id="__codelineno-0-1503" name="__codelineno-0-1503"></a>
<a id="__codelineno-0-1504" name="__codelineno-0-1504"></a>        <span class="c1"># Set extent CRS and values</span>
<a id="__codelineno-0-1505" name="__codelineno-0-1505"></a>        <span class="n">extent_crs_text</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-1506" name="__codelineno-0-1506"></a>            <span class="n">scenario</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">crs</span>
<a id="__codelineno-0-1507" name="__codelineno-0-1507"></a>            <span class="k">if</span> <span class="n">scenario</span><span class="o">.</span><span class="n">extent</span> <span class="ow">and</span> <span class="n">scenario</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">crs</span>
<a id="__codelineno-0-1508" name="__codelineno-0-1508"></a>            <span class="k">else</span> <span class="sa">f</span><span class="s2">"EPSG:</span><span class="si">{</span><span class="n">DEFAULT_CRS_ID</span><span class="si">}</span><span class="s2">"</span>
<a id="__codelineno-0-1509" name="__codelineno-0-1509"></a>        <span class="p">)</span>
<a id="__codelineno-0-1510" name="__codelineno-0-1510"></a>        <span class="n">extent_crs</span> <span class="o">=</span> <span class="n">QgsCoordinateReferenceSystem</span><span class="p">(</span><span class="n">extent_crs_text</span><span class="p">)</span>
<a id="__codelineno-0-1511" name="__codelineno-0-1511"></a>
<a id="__codelineno-0-1512" name="__codelineno-0-1512"></a>        <span class="n">extent_list</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">bbox</span> <span class="k">if</span> <span class="n">scenario</span><span class="o">.</span><span class="n">extent</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-1513" name="__codelineno-0-1513"></a>        <span class="k">if</span> <span class="n">extent_list</span><span class="p">:</span>
<a id="__codelineno-0-1514" name="__codelineno-0-1514"></a>            <span class="n">default_extent</span> <span class="o">=</span> <span class="n">QgsRectangle</span><span class="p">(</span>
<a id="__codelineno-0-1515" name="__codelineno-0-1515"></a>                <span class="nb">float</span><span class="p">(</span><span class="n">extent_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
<a id="__codelineno-0-1516" name="__codelineno-0-1516"></a>                <span class="nb">float</span><span class="p">(</span><span class="n">extent_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span>
<a id="__codelineno-0-1517" name="__codelineno-0-1517"></a>                <span class="nb">float</span><span class="p">(</span><span class="n">extent_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
<a id="__codelineno-0-1518" name="__codelineno-0-1518"></a>                <span class="nb">float</span><span class="p">(</span><span class="n">extent_list</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span>
<a id="__codelineno-0-1519" name="__codelineno-0-1519"></a>            <span class="p">)</span>
<a id="__codelineno-0-1520" name="__codelineno-0-1520"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">setOutputExtentFromUser</span><span class="p">(</span><span class="n">default_extent</span><span class="p">,</span> <span class="n">extent_crs</span><span class="p">)</span>
<a id="__codelineno-0-1521" name="__codelineno-0-1521"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">setOutputCrs</span><span class="p">(</span><span class="n">extent_crs</span><span class="p">)</span>
<a id="__codelineno-0-1522" name="__codelineno-0-1522"></a>
<a id="__codelineno-0-1523" name="__codelineno-0-1523"></a>        <span class="c1"># Set analysis CRS</span>
<a id="__codelineno-0-1524" name="__codelineno-0-1524"></a>        <span class="n">analysis_crs_text</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">crs</span> <span class="ow">or</span> <span class="n">extent_crs_text</span>
<a id="__codelineno-0-1525" name="__codelineno-0-1525"></a>        <span class="n">analysis_crs</span> <span class="o">=</span> <span class="n">QgsCoordinateReferenceSystem</span><span class="p">(</span><span class="n">analysis_crs_text</span><span class="p">)</span>
<a id="__codelineno-0-1526" name="__codelineno-0-1526"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">crs_selector</span><span class="o">.</span><span class="n">setCrs</span><span class="p">(</span><span class="n">analysis_crs</span><span class="p">)</span>
<a id="__codelineno-0-1527" name="__codelineno-0-1527"></a>
<a id="__codelineno-0-1528" name="__codelineno-0-1528"></a>        <span class="c1"># Transform extent to analysis CRS</span>
<a id="__codelineno-0-1529" name="__codelineno-0-1529"></a>        <span class="n">transformed_analysis_extent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">transform_extent</span><span class="p">(</span>
<a id="__codelineno-0-1530" name="__codelineno-0-1530"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">outputExtent</span><span class="p">(),</span> <span class="n">extent_crs</span><span class="p">,</span> <span class="n">analysis_crs</span>
<a id="__codelineno-0-1531" name="__codelineno-0-1531"></a>        <span class="p">)</span>
<a id="__codelineno-0-1532" name="__codelineno-0-1532"></a>        <span class="n">transformed_analysis_extent_list</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1533" name="__codelineno-0-1533"></a>            <span class="n">transformed_analysis_extent</span><span class="o">.</span><span class="n">xMinimum</span><span class="p">(),</span>
<a id="__codelineno-0-1534" name="__codelineno-0-1534"></a>            <span class="n">transformed_analysis_extent</span><span class="o">.</span><span class="n">xMaximum</span><span class="p">(),</span>
<a id="__codelineno-0-1535" name="__codelineno-0-1535"></a>            <span class="n">transformed_analysis_extent</span><span class="o">.</span><span class="n">yMinimum</span><span class="p">(),</span>
<a id="__codelineno-0-1536" name="__codelineno-0-1536"></a>            <span class="n">transformed_analysis_extent</span><span class="o">.</span><span class="n">yMaximum</span><span class="p">(),</span>
<a id="__codelineno-0-1537" name="__codelineno-0-1537"></a>        <span class="p">]</span>
<a id="__codelineno-0-1538" name="__codelineno-0-1538"></a>
<a id="__codelineno-0-1539" name="__codelineno-0-1539"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rb_studyarea</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-1540" name="__codelineno-0-1540"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rb_extent</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-1541" name="__codelineno-0-1541"></a>
<a id="__codelineno-0-1542" name="__codelineno-0-1542"></a>        <span class="k">if</span> <span class="n">scenario</span><span class="o">.</span><span class="n">clip_to_studyarea</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">scenario</span><span class="o">.</span><span class="n">studyarea_path</span><span class="p">):</span>
<a id="__codelineno-0-1543" name="__codelineno-0-1543"></a>            <span class="c1"># Area of Interest from the study area layer</span>
<a id="__codelineno-0-1544" name="__codelineno-0-1544"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_aoi_source_changed</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-1545" name="__codelineno-0-1545"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rb_studyarea</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-1546" name="__codelineno-0-1546"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_aoi_layer</span> <span class="o">=</span> <span class="n">QgsVectorLayer</span><span class="p">(</span>
<a id="__codelineno-0-1547" name="__codelineno-0-1547"></a>                <span class="n">scenario</span><span class="o">.</span><span class="n">studyarea_path</span><span class="p">,</span> <span class="n">Path</span><span class="p">(</span><span class="n">scenario</span><span class="o">.</span><span class="n">studyarea_path</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span>
<a id="__codelineno-0-1548" name="__codelineno-0-1548"></a>            <span class="p">)</span>
<a id="__codelineno-0-1549" name="__codelineno-0-1549"></a>
<a id="__codelineno-0-1550" name="__codelineno-0-1550"></a>            <span class="c1"># Use the study area layer extent transformed to analysis CRS</span>
<a id="__codelineno-0-1551" name="__codelineno-0-1551"></a>            <span class="n">extent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aoi_layer</span><span class="o">.</span><span class="n">extent</span><span class="p">()</span>
<a id="__codelineno-0-1552" name="__codelineno-0-1552"></a>            <span class="n">transformed_analysis_extent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">transform_extent</span><span class="p">(</span>
<a id="__codelineno-0-1553" name="__codelineno-0-1553"></a>                <span class="n">extent</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aoi_layer</span><span class="o">.</span><span class="n">crs</span><span class="p">(),</span> <span class="n">analysis_crs</span>
<a id="__codelineno-0-1554" name="__codelineno-0-1554"></a>            <span class="p">)</span>
<a id="__codelineno-0-1555" name="__codelineno-0-1555"></a>            <span class="n">transformed_analysis_extent_list</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1556" name="__codelineno-0-1556"></a>                <span class="n">transformed_analysis_extent</span><span class="o">.</span><span class="n">xMinimum</span><span class="p">(),</span>
<a id="__codelineno-0-1557" name="__codelineno-0-1557"></a>                <span class="n">transformed_analysis_extent</span><span class="o">.</span><span class="n">xMaximum</span><span class="p">(),</span>
<a id="__codelineno-0-1558" name="__codelineno-0-1558"></a>                <span class="n">transformed_analysis_extent</span><span class="o">.</span><span class="n">yMinimum</span><span class="p">(),</span>
<a id="__codelineno-0-1559" name="__codelineno-0-1559"></a>                <span class="n">transformed_analysis_extent</span><span class="o">.</span><span class="n">yMaximum</span><span class="p">(),</span>
<a id="__codelineno-0-1560" name="__codelineno-0-1560"></a>            <span class="p">]</span>
<a id="__codelineno-0-1561" name="__codelineno-0-1561"></a>
<a id="__codelineno-0-1562" name="__codelineno-0-1562"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-1563" name="__codelineno-0-1563"></a>            <span class="c1"># Area of Interest from the extent</span>
<a id="__codelineno-0-1564" name="__codelineno-0-1564"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_aoi_source_changed</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-1565" name="__codelineno-0-1565"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rb_extent</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-1566" name="__codelineno-0-1566"></a>
<a id="__codelineno-0-1567" name="__codelineno-0-1567"></a>    <span class="n">all_activities</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span>
<a id="__codelineno-0-1568" name="__codelineno-0-1568"></a>        <span class="n">scenario</span><span class="o">.</span><span class="n">activities</span><span class="p">,</span>
<a id="__codelineno-0-1569" name="__codelineno-0-1569"></a>        <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">activity_instance</span><span class="p">:</span> <span class="n">activity_instance</span><span class="o">.</span><span class="n">style_pixel_value</span><span class="p">,</span>
<a id="__codelineno-0-1570" name="__codelineno-0-1570"></a>    <span class="p">)</span>
<a id="__codelineno-0-1571" name="__codelineno-0-1571"></a>    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">activity</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">all_activities</span><span class="p">):</span>
<a id="__codelineno-0-1572" name="__codelineno-0-1572"></a>        <span class="n">activity</span><span class="o">.</span><span class="n">style_pixel_value</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>
<a id="__codelineno-0-1573" name="__codelineno-0-1573"></a>
<a id="__codelineno-0-1574" name="__codelineno-0-1574"></a>    <span class="n">scenario</span><span class="o">.</span><span class="n">activities</span> <span class="o">=</span> <span class="n">all_activities</span>
<a id="__codelineno-0-1575" name="__codelineno-0-1575"></a>
<a id="__codelineno-0-1576" name="__codelineno-0-1576"></a>    <span class="k">if</span> <span class="n">scenario</span> <span class="ow">and</span> <span class="n">scenario</span><span class="o">.</span><span class="n">server_uuid</span><span class="p">:</span>
<a id="__codelineno-0-1577" name="__codelineno-0-1577"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_name</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">name</span>
<a id="__codelineno-0-1578" name="__codelineno-0-1578"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_description</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">description</span>
<a id="__codelineno-0-1579" name="__codelineno-0-1579"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">analysis_extent</span> <span class="o">=</span> <span class="n">SpatialExtent</span><span class="p">(</span>
<a id="__codelineno-0-1580" name="__codelineno-0-1580"></a>            <span class="n">bbox</span><span class="o">=</span><span class="n">transformed_analysis_extent_list</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="n">analysis_crs_text</span>
<a id="__codelineno-0-1581" name="__codelineno-0-1581"></a>        <span class="p">)</span>
<a id="__codelineno-0-1582" name="__codelineno-0-1582"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">analysis_activities</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">activities</span>
<a id="__codelineno-0-1583" name="__codelineno-0-1583"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">analysis_priority_layers_groups</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">priority_layer_groups</span>
<a id="__codelineno-0-1584" name="__codelineno-0-1584"></a>
<a id="__codelineno-0-1585" name="__codelineno-0-1585"></a>        <span class="n">scenario_obj</span> <span class="o">=</span> <span class="n">Scenario</span><span class="p">(</span>
<a id="__codelineno-0-1586" name="__codelineno-0-1586"></a>            <span class="n">uuid</span><span class="o">=</span><span class="n">scenario</span><span class="o">.</span><span class="n">uuid</span><span class="p">,</span>
<a id="__codelineno-0-1587" name="__codelineno-0-1587"></a>            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_name</span><span class="p">,</span>
<a id="__codelineno-0-1588" name="__codelineno-0-1588"></a>            <span class="n">description</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_description</span><span class="p">,</span>
<a id="__codelineno-0-1589" name="__codelineno-0-1589"></a>            <span class="n">extent</span><span class="o">=</span><span class="n">SpatialExtent</span><span class="p">(</span><span class="n">bbox</span><span class="o">=</span><span class="n">extent_list</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="n">extent_crs_text</span><span class="p">),</span>
<a id="__codelineno-0-1590" name="__codelineno-0-1590"></a>            <span class="n">activities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">analysis_activities</span><span class="p">,</span>
<a id="__codelineno-0-1591" name="__codelineno-0-1591"></a>            <span class="n">priority_layer_groups</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">analysis_priority_layers_groups</span><span class="p">,</span>
<a id="__codelineno-0-1592" name="__codelineno-0-1592"></a>            <span class="n">crs</span><span class="o">=</span><span class="n">analysis_crs_text</span><span class="p">,</span>
<a id="__codelineno-0-1593" name="__codelineno-0-1593"></a>        <span class="p">)</span>
<a id="__codelineno-0-1594" name="__codelineno-0-1594"></a>        <span class="n">scenario_obj</span><span class="o">.</span><span class="n">server_uuid</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">server_uuid</span>
<a id="__codelineno-0-1595" name="__codelineno-0-1595"></a>
<a id="__codelineno-0-1596" name="__codelineno-0-1596"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">processing_cancelled</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-1597" name="__codelineno-0-1597"></a>
<a id="__codelineno-0-1598" name="__codelineno-0-1598"></a>        <span class="n">progress_dialog</span> <span class="o">=</span> <span class="n">OnlineProgressDialog</span><span class="p">(</span>
<a id="__codelineno-0-1599" name="__codelineno-0-1599"></a>            <span class="n">minimum</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-0-1600" name="__codelineno-0-1600"></a>            <span class="n">maximum</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<a id="__codelineno-0-1601" name="__codelineno-0-1601"></a>            <span class="n">main_widget</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-1602" name="__codelineno-0-1602"></a>            <span class="n">scenario_id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">scenario</span><span class="o">.</span><span class="n">uuid</span><span class="p">),</span>
<a id="__codelineno-0-1603" name="__codelineno-0-1603"></a>            <span class="n">scenario_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_name</span><span class="p">,</span>
<a id="__codelineno-0-1604" name="__codelineno-0-1604"></a>        <span class="p">)</span>
<a id="__codelineno-0-1605" name="__codelineno-0-1605"></a>        <span class="n">progress_dialog</span><span class="o">.</span><span class="n">analysis_cancelled</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
<a id="__codelineno-0-1606" name="__codelineno-0-1606"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_progress_dialog_cancelled</span>
<a id="__codelineno-0-1607" name="__codelineno-0-1607"></a>        <span class="p">)</span>
<a id="__codelineno-0-1608" name="__codelineno-0-1608"></a>        <span class="n">progress_dialog</span><span class="o">.</span><span class="n">run_dialog</span><span class="p">()</span>
<a id="__codelineno-0-1609" name="__codelineno-0-1609"></a>
<a id="__codelineno-0-1610" name="__codelineno-0-1610"></a>        <span class="n">analysis_task</span> <span class="o">=</span> <span class="n">FetchScenarioOutputTask</span><span class="p">(</span>
<a id="__codelineno-0-1611" name="__codelineno-0-1611"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_name</span><span class="p">,</span>
<a id="__codelineno-0-1612" name="__codelineno-0-1612"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_description</span><span class="p">,</span>
<a id="__codelineno-0-1613" name="__codelineno-0-1613"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">analysis_activities</span><span class="p">,</span>
<a id="__codelineno-0-1614" name="__codelineno-0-1614"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">analysis_priority_layers_groups</span><span class="p">,</span>
<a id="__codelineno-0-1615" name="__codelineno-0-1615"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">analysis_extent</span><span class="p">,</span>
<a id="__codelineno-0-1616" name="__codelineno-0-1616"></a>            <span class="n">scenario</span><span class="p">,</span>
<a id="__codelineno-0-1617" name="__codelineno-0-1617"></a>            <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1618" name="__codelineno-0-1618"></a>        <span class="p">)</span>
<a id="__codelineno-0-1619" name="__codelineno-0-1619"></a>        <span class="n">analysis_task</span><span class="o">.</span><span class="n">scenario_api_uuid</span> <span class="o">=</span> <span class="n">scenario</span><span class="o">.</span><span class="n">server_uuid</span>
<a id="__codelineno-0-1620" name="__codelineno-0-1620"></a>        <span class="n">analysis_task</span><span class="o">.</span><span class="n">task_finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">update_scenario_list</span><span class="p">)</span>
<a id="__codelineno-0-1621" name="__codelineno-0-1621"></a>
<a id="__codelineno-0-1622" name="__codelineno-0-1622"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">run_cplus_main_task</span><span class="p">(</span><span class="n">progress_dialog</span><span class="p">,</span> <span class="n">scenario</span><span class="p">,</span> <span class="n">analysis_task</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.main_task" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">main_task</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.main_task" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">main_task</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Serves as a QgsTask function for the main task that contains
smaller sub-tasks running the actual processing calculations.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2250">2250</a></span>
<span class="normal"><a href="#__codelineno-0-2251">2251</a></span>
<span class="normal"><a href="#__codelineno-0-2252">2252</a></span>
<span class="normal"><a href="#__codelineno-0-2253">2253</a></span>
<span class="normal"><a href="#__codelineno-0-2254">2254</a></span>
<span class="normal"><a href="#__codelineno-0-2255">2255</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2250" name="__codelineno-0-2250"></a><span class="k">def</span> <span class="nf">main_task</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-2251" name="__codelineno-0-2251"></a>    <span class="sd">"""Serves as a QgsTask function for the main task that contains</span>
<a id="__codelineno-0-2252" name="__codelineno-0-2252"></a><span class="sd">    smaller sub-tasks running the actual processing calculations.</span>
<a id="__codelineno-0-2253" name="__codelineno-0-2253"></a><span class="sd">    """</span>
<a id="__codelineno-0-2254" name="__codelineno-0-2254"></a>
<a id="__codelineno-0-2255" name="__codelineno-0-2255"></a>    <span class="n">log</span><span class="p">(</span><span class="s2">"Running from main task."</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.move_layer_to_group" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">move_layer_to_group</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.move_layer_to_group" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">move_layer_to_group</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">group</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Moves a layer open in QGIS to another group.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>layer</code></td>
            <td>
                  <code><span title="qgis.core.QgsRasterLayer">QgsRasterLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Raster layer to move</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>group</code></td>
            <td>
                  <code><span title="QgsLayerTreeGroup">QgsLayerTreeGroup</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Group to which the raster should be moved</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2292">2292</a></span>
<span class="normal"><a href="#__codelineno-0-2293">2293</a></span>
<span class="normal"><a href="#__codelineno-0-2294">2294</a></span>
<span class="normal"><a href="#__codelineno-0-2295">2295</a></span>
<span class="normal"><a href="#__codelineno-0-2296">2296</a></span>
<span class="normal"><a href="#__codelineno-0-2297">2297</a></span>
<span class="normal"><a href="#__codelineno-0-2298">2298</a></span>
<span class="normal"><a href="#__codelineno-0-2299">2299</a></span>
<span class="normal"><a href="#__codelineno-0-2300">2300</a></span>
<span class="normal"><a href="#__codelineno-0-2301">2301</a></span>
<span class="normal"><a href="#__codelineno-0-2302">2302</a></span>
<span class="normal"><a href="#__codelineno-0-2303">2303</a></span>
<span class="normal"><a href="#__codelineno-0-2304">2304</a></span>
<span class="normal"><a href="#__codelineno-0-2305">2305</a></span>
<span class="normal"><a href="#__codelineno-0-2306">2306</a></span>
<span class="normal"><a href="#__codelineno-0-2307">2307</a></span>
<span class="normal"><a href="#__codelineno-0-2308">2308</a></span>
<span class="normal"><a href="#__codelineno-0-2309">2309</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2292" name="__codelineno-0-2292"></a><span class="k">def</span> <span class="nf">move_layer_to_group</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer</span><span class="p">,</span> <span class="n">group</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-2293" name="__codelineno-0-2293"></a>    <span class="sd">"""Moves a layer open in QGIS to another group.</span>
<a id="__codelineno-0-2294" name="__codelineno-0-2294"></a>
<a id="__codelineno-0-2295" name="__codelineno-0-2295"></a><span class="sd">    :param layer: Raster layer to move</span>
<a id="__codelineno-0-2296" name="__codelineno-0-2296"></a><span class="sd">    :type layer: QgsRasterLayer</span>
<a id="__codelineno-0-2297" name="__codelineno-0-2297"></a>
<a id="__codelineno-0-2298" name="__codelineno-0-2298"></a><span class="sd">    :param group: Group to which the raster should be moved</span>
<a id="__codelineno-0-2299" name="__codelineno-0-2299"></a><span class="sd">    :type group: QgsLayerTreeGroup</span>
<a id="__codelineno-0-2300" name="__codelineno-0-2300"></a><span class="sd">    """</span>
<a id="__codelineno-0-2301" name="__codelineno-0-2301"></a>    <span class="k">if</span> <span class="n">layer</span><span class="p">:</span>
<a id="__codelineno-0-2302" name="__codelineno-0-2302"></a>        <span class="n">instance_root</span> <span class="o">=</span> <span class="n">QgsProject</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">layerTreeRoot</span><span class="p">()</span>
<a id="__codelineno-0-2303" name="__codelineno-0-2303"></a>        <span class="n">layer</span> <span class="o">=</span> <span class="n">instance_root</span><span class="o">.</span><span class="n">findLayer</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">id</span><span class="p">())</span>
<a id="__codelineno-0-2304" name="__codelineno-0-2304"></a>        <span class="n">layer_clone</span> <span class="o">=</span> <span class="n">layer</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
<a id="__codelineno-0-2305" name="__codelineno-0-2305"></a>        <span class="n">parent</span> <span class="o">=</span> <span class="n">layer</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<a id="__codelineno-0-2306" name="__codelineno-0-2306"></a>        <span class="p">(</span>
<a id="__codelineno-0-2307" name="__codelineno-0-2307"></a>            <span class="n">group</span><span class="o">.</span><span class="n">insertChildNode</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">layer_clone</span><span class="p">)</span> <span class="k">if</span> <span class="n">group</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-2308" name="__codelineno-0-2308"></a>        <span class="p">)</span>  <span class="c1"># Add to top of group</span>
<a id="__codelineno-0-2309" name="__codelineno-0-2309"></a>        <span class="n">parent</span><span class="o">.</span><span class="n">removeChildNode</span><span class="p">(</span><span class="n">layer</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_aoi_source_changed" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">on_aoi_source_changed</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_aoi_source_changed" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">on_aoi_source_changed</span><span class="p">(</span><span class="n">button_id</span><span class="p">,</span> <span class="n">toggled</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Slot raised when the area of interest source button group has
been toggled.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span>
<span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span>
<span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-531" name="__codelineno-0-531"></a><span class="k">def</span> <span class="nf">on_aoi_source_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">button_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">toggled</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a>    <span class="sd">"""Slot raised when the area of interest source button group has</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a><span class="sd">    been toggled.</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a><span class="sd">    """</span>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">toggled</span><span class="p">:</span>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a>        <span class="k">return</span>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a>
<a id="__codelineno-0-538" name="__codelineno-0-538"></a>    <span class="k">if</span> <span class="n">button_id</span> <span class="o">==</span> <span class="n">AreaOfInterestSource</span><span class="o">.</span><span class="n">LAYER</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">studyarea_stacked_widget</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-540" name="__codelineno-0-540"></a>    <span class="k">elif</span> <span class="n">button_id</span> <span class="o">==</span> <span class="n">AreaOfInterestSource</span><span class="o">.</span><span class="n">EXTENT</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">studyarea_stacked_widget</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-542" name="__codelineno-0-542"></a>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">save_scenario</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_fetch_scenario_history_list_finished" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">on_fetch_scenario_history_list_finished</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_fetch_scenario_history_list_finished" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">on_fetch_scenario_history_list_finished</span><span class="p">(</span><span class="n">success</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Callback when plugin has finished pulling scenario history list.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>success</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if API call is successful</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1752">1752</a></span>
<span class="normal"><a href="#__codelineno-0-1753">1753</a></span>
<span class="normal"><a href="#__codelineno-0-1754">1754</a></span>
<span class="normal"><a href="#__codelineno-0-1755">1755</a></span>
<span class="normal"><a href="#__codelineno-0-1756">1756</a></span>
<span class="normal"><a href="#__codelineno-0-1757">1757</a></span>
<span class="normal"><a href="#__codelineno-0-1758">1758</a></span>
<span class="normal"><a href="#__codelineno-0-1759">1759</a></span>
<span class="normal"><a href="#__codelineno-0-1760">1760</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1752" name="__codelineno-0-1752"></a><span class="k">def</span> <span class="nf">on_fetch_scenario_history_list_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">success</span><span class="p">):</span>
<a id="__codelineno-0-1753" name="__codelineno-0-1753"></a>    <span class="sd">"""Callback when plugin has finished pulling scenario history list.</span>
<a id="__codelineno-0-1754" name="__codelineno-0-1754"></a>
<a id="__codelineno-0-1755" name="__codelineno-0-1755"></a><span class="sd">    :param success: True if API call is successful</span>
<a id="__codelineno-0-1756" name="__codelineno-0-1756"></a><span class="sd">    :type success: bool</span>
<a id="__codelineno-0-1757" name="__codelineno-0-1757"></a><span class="sd">    """</span>
<a id="__codelineno-0-1758" name="__codelineno-0-1758"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">success</span><span class="p">:</span>
<a id="__codelineno-0-1759" name="__codelineno-0-1759"></a>        <span class="k">return</span>
<a id="__codelineno-0-1760" name="__codelineno-0-1760"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">update_scenario_list</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_generate_comparison_report" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">on_generate_comparison_report</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_generate_comparison_report" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">on_generate_comparison_report</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Slot raised to generate a comparison for two or more selected
scenario results.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1671">1671</a></span>
<span class="normal"><a href="#__codelineno-0-1672">1672</a></span>
<span class="normal"><a href="#__codelineno-0-1673">1673</a></span>
<span class="normal"><a href="#__codelineno-0-1674">1674</a></span>
<span class="normal"><a href="#__codelineno-0-1675">1675</a></span>
<span class="normal"><a href="#__codelineno-0-1676">1676</a></span>
<span class="normal"><a href="#__codelineno-0-1677">1677</a></span>
<span class="normal"><a href="#__codelineno-0-1678">1678</a></span>
<span class="normal"><a href="#__codelineno-0-1679">1679</a></span>
<span class="normal"><a href="#__codelineno-0-1680">1680</a></span>
<span class="normal"><a href="#__codelineno-0-1681">1681</a></span>
<span class="normal"><a href="#__codelineno-0-1682">1682</a></span>
<span class="normal"><a href="#__codelineno-0-1683">1683</a></span>
<span class="normal"><a href="#__codelineno-0-1684">1684</a></span>
<span class="normal"><a href="#__codelineno-0-1685">1685</a></span>
<span class="normal"><a href="#__codelineno-0-1686">1686</a></span>
<span class="normal"><a href="#__codelineno-0-1687">1687</a></span>
<span class="normal"><a href="#__codelineno-0-1688">1688</a></span>
<span class="normal"><a href="#__codelineno-0-1689">1689</a></span>
<span class="normal"><a href="#__codelineno-0-1690">1690</a></span>
<span class="normal"><a href="#__codelineno-0-1691">1691</a></span>
<span class="normal"><a href="#__codelineno-0-1692">1692</a></span>
<span class="normal"><a href="#__codelineno-0-1693">1693</a></span>
<span class="normal"><a href="#__codelineno-0-1694">1694</a></span>
<span class="normal"><a href="#__codelineno-0-1695">1695</a></span>
<span class="normal"><a href="#__codelineno-0-1696">1696</a></span>
<span class="normal"><a href="#__codelineno-0-1697">1697</a></span>
<span class="normal"><a href="#__codelineno-0-1698">1698</a></span>
<span class="normal"><a href="#__codelineno-0-1699">1699</a></span>
<span class="normal"><a href="#__codelineno-0-1700">1700</a></span>
<span class="normal"><a href="#__codelineno-0-1701">1701</a></span>
<span class="normal"><a href="#__codelineno-0-1702">1702</a></span>
<span class="normal"><a href="#__codelineno-0-1703">1703</a></span>
<span class="normal"><a href="#__codelineno-0-1704">1704</a></span>
<span class="normal"><a href="#__codelineno-0-1705">1705</a></span>
<span class="normal"><a href="#__codelineno-0-1706">1706</a></span>
<span class="normal"><a href="#__codelineno-0-1707">1707</a></span>
<span class="normal"><a href="#__codelineno-0-1708">1708</a></span>
<span class="normal"><a href="#__codelineno-0-1709">1709</a></span>
<span class="normal"><a href="#__codelineno-0-1710">1710</a></span>
<span class="normal"><a href="#__codelineno-0-1711">1711</a></span>
<span class="normal"><a href="#__codelineno-0-1712">1712</a></span>
<span class="normal"><a href="#__codelineno-0-1713">1713</a></span>
<span class="normal"><a href="#__codelineno-0-1714">1714</a></span>
<span class="normal"><a href="#__codelineno-0-1715">1715</a></span>
<span class="normal"><a href="#__codelineno-0-1716">1716</a></span>
<span class="normal"><a href="#__codelineno-0-1717">1717</a></span>
<span class="normal"><a href="#__codelineno-0-1718">1718</a></span>
<span class="normal"><a href="#__codelineno-0-1719">1719</a></span>
<span class="normal"><a href="#__codelineno-0-1720">1720</a></span>
<span class="normal"><a href="#__codelineno-0-1721">1721</a></span>
<span class="normal"><a href="#__codelineno-0-1722">1722</a></span>
<span class="normal"><a href="#__codelineno-0-1723">1723</a></span>
<span class="normal"><a href="#__codelineno-0-1724">1724</a></span>
<span class="normal"><a href="#__codelineno-0-1725">1725</a></span>
<span class="normal"><a href="#__codelineno-0-1726">1726</a></span>
<span class="normal"><a href="#__codelineno-0-1727">1727</a></span>
<span class="normal"><a href="#__codelineno-0-1728">1728</a></span>
<span class="normal"><a href="#__codelineno-0-1729">1729</a></span>
<span class="normal"><a href="#__codelineno-0-1730">1730</a></span>
<span class="normal"><a href="#__codelineno-0-1731">1731</a></span>
<span class="normal"><a href="#__codelineno-0-1732">1732</a></span>
<span class="normal"><a href="#__codelineno-0-1733">1733</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1671" name="__codelineno-0-1671"></a><span class="k">def</span> <span class="nf">on_generate_comparison_report</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-1672" name="__codelineno-0-1672"></a>    <span class="sd">"""Slot raised to generate a comparison for two or more selected</span>
<a id="__codelineno-0-1673" name="__codelineno-0-1673"></a><span class="sd">    scenario results.</span>
<a id="__codelineno-0-1674" name="__codelineno-0-1674"></a><span class="sd">    """</span>
<a id="__codelineno-0-1675" name="__codelineno-0-1675"></a>    <span class="n">selected_items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_list</span><span class="o">.</span><span class="n">selectedItems</span><span class="p">()</span>
<a id="__codelineno-0-1676" name="__codelineno-0-1676"></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">selected_items</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
<a id="__codelineno-0-1677" name="__codelineno-0-1677"></a>        <span class="n">msg</span> <span class="o">=</span> <span class="n">tr</span><span class="p">(</span>
<a id="__codelineno-0-1678" name="__codelineno-0-1678"></a>            <span class="s2">"You must select at least two scenarios to generate the comparison report."</span>
<a id="__codelineno-0-1679" name="__codelineno-0-1679"></a>        <span class="p">)</span>
<a id="__codelineno-0-1680" name="__codelineno-0-1680"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<a id="__codelineno-0-1681" name="__codelineno-0-1681"></a>        <span class="k">return</span>
<a id="__codelineno-0-1682" name="__codelineno-0-1682"></a>
<a id="__codelineno-0-1683" name="__codelineno-0-1683"></a>    <span class="n">scenario_results</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-1684" name="__codelineno-0-1684"></a>    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">selected_items</span><span class="p">:</span>
<a id="__codelineno-0-1685" name="__codelineno-0-1685"></a>        <span class="n">scenario_identifier</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">)</span>
<a id="__codelineno-0-1686" name="__codelineno-0-1686"></a>        <span class="n">scenario</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_scenario</span><span class="p">(</span><span class="n">scenario_identifier</span><span class="p">)</span>
<a id="__codelineno-0-1687" name="__codelineno-0-1687"></a>        <span class="n">scenario_result</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_scenario_result</span><span class="p">(</span><span class="n">scenario_identifier</span><span class="p">)</span>
<a id="__codelineno-0-1688" name="__codelineno-0-1688"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">scenario_result</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">scenario</span><span class="p">:</span>
<a id="__codelineno-0-1689" name="__codelineno-0-1689"></a>            <span class="k">continue</span>
<a id="__codelineno-0-1690" name="__codelineno-0-1690"></a>
<a id="__codelineno-0-1691" name="__codelineno-0-1691"></a>        <span class="n">all_activities</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span>
<a id="__codelineno-0-1692" name="__codelineno-0-1692"></a>            <span class="n">scenario</span><span class="o">.</span><span class="n">activities</span><span class="p">,</span>
<a id="__codelineno-0-1693" name="__codelineno-0-1693"></a>            <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">activity_instance</span><span class="p">:</span> <span class="n">activity_instance</span><span class="o">.</span><span class="n">style_pixel_value</span><span class="p">,</span>
<a id="__codelineno-0-1694" name="__codelineno-0-1694"></a>        <span class="p">)</span>
<a id="__codelineno-0-1695" name="__codelineno-0-1695"></a>        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">activity</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">all_activities</span><span class="p">):</span>
<a id="__codelineno-0-1696" name="__codelineno-0-1696"></a>            <span class="n">activity</span><span class="o">.</span><span class="n">style_pixel_value</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>
<a id="__codelineno-0-1697" name="__codelineno-0-1697"></a>
<a id="__codelineno-0-1698" name="__codelineno-0-1698"></a>        <span class="n">scenario</span><span class="o">.</span><span class="n">activities</span> <span class="o">=</span> <span class="n">all_activities</span>
<a id="__codelineno-0-1699" name="__codelineno-0-1699"></a>
<a id="__codelineno-0-1700" name="__codelineno-0-1700"></a>        <span class="n">scenario_result</span><span class="o">.</span><span class="n">scenario</span> <span class="o">=</span> <span class="n">scenario</span>
<a id="__codelineno-0-1701" name="__codelineno-0-1701"></a>        <span class="n">scenario_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">scenario_result</span><span class="p">)</span>
<a id="__codelineno-0-1702" name="__codelineno-0-1702"></a>
<a id="__codelineno-0-1703" name="__codelineno-0-1703"></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">scenario_results</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
<a id="__codelineno-0-1704" name="__codelineno-0-1704"></a>        <span class="n">msg</span> <span class="o">=</span> <span class="n">tr</span><span class="p">(</span><span class="s2">"Unable to retrieve the results for all the selected scenarios."</span><span class="p">)</span>
<a id="__codelineno-0-1705" name="__codelineno-0-1705"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<a id="__codelineno-0-1706" name="__codelineno-0-1706"></a>        <span class="k">return</span>
<a id="__codelineno-0-1707" name="__codelineno-0-1707"></a>
<a id="__codelineno-0-1708" name="__codelineno-0-1708"></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">scenario_results</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">MAXIMUM_COMPARISON_REPORTS</span><span class="p">:</span>
<a id="__codelineno-0-1709" name="__codelineno-0-1709"></a>        <span class="n">msg</span> <span class="o">=</span> <span class="n">tr</span><span class="p">(</span>
<a id="__codelineno-0-1710" name="__codelineno-0-1710"></a>            <span class="s2">"Exceeded maximum number of scenarios for generating the comparison report. Limit is"</span>
<a id="__codelineno-0-1711" name="__codelineno-0-1711"></a>        <span class="p">)</span>
<a id="__codelineno-0-1712" name="__codelineno-0-1712"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">MAXIMUM_COMPARISON_REPORTS</span><span class="si">}</span><span class="s2">."</span><span class="p">)</span>
<a id="__codelineno-0-1713" name="__codelineno-0-1713"></a>        <span class="k">return</span>
<a id="__codelineno-0-1714" name="__codelineno-0-1714"></a>
<a id="__codelineno-0-1715" name="__codelineno-0-1715"></a>    <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">scenario_results</span><span class="p">:</span>
<a id="__codelineno-0-1716" name="__codelineno-0-1716"></a>        <span class="n">msg_tr</span> <span class="o">=</span> <span class="n">tr</span><span class="p">(</span><span class="s2">"Loading map layers for scenario"</span><span class="p">)</span>
<a id="__codelineno-0-1717" name="__codelineno-0-1717"></a>        <span class="n">log</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">msg_tr</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">scenario</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a id="__codelineno-0-1718" name="__codelineno-0-1718"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">post_analysis</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-1719" name="__codelineno-0-1719"></a>
<a id="__codelineno-0-1720" name="__codelineno-0-1720"></a>    <span class="n">submit_result</span> <span class="o">=</span> <span class="n">report_manager</span><span class="o">.</span><span class="n">generate_comparison_report</span><span class="p">(</span><span class="n">scenario_results</span><span class="p">)</span>
<a id="__codelineno-0-1721" name="__codelineno-0-1721"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">submit_result</span><span class="o">.</span><span class="n">status</span><span class="p">:</span>
<a id="__codelineno-0-1722" name="__codelineno-0-1722"></a>        <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span>
<a id="__codelineno-0-1723" name="__codelineno-0-1723"></a>            <span class="s2">"Unable to submit report request for creating the comparison report."</span>
<a id="__codelineno-0-1724" name="__codelineno-0-1724"></a>        <span class="p">)</span>
<a id="__codelineno-0-1725" name="__codelineno-0-1725"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a id="__codelineno-0-1726" name="__codelineno-0-1726"></a>        <span class="k">return</span>
<a id="__codelineno-0-1727" name="__codelineno-0-1727"></a>
<a id="__codelineno-0-1728" name="__codelineno-0-1728"></a>    <span class="n">QgsApplication</span><span class="o">.</span><span class="n">processEvents</span><span class="p">()</span>
<a id="__codelineno-0-1729" name="__codelineno-0-1729"></a>
<a id="__codelineno-0-1730" name="__codelineno-0-1730"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">report_progress_dialog</span> <span class="o">=</span> <span class="n">ReportProgressDialog</span><span class="p">(</span>
<a id="__codelineno-0-1731" name="__codelineno-0-1731"></a>        <span class="n">tr</span><span class="p">(</span><span class="s2">"Generating comparison report"</span><span class="p">),</span> <span class="n">submit_result</span>
<a id="__codelineno-0-1732" name="__codelineno-0-1732"></a>    <span class="p">)</span>
<a id="__codelineno-0-1733" name="__codelineno-0-1733"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">report_progress_dialog</span><span class="o">.</span><span class="n">run_dialog</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_log_message_received" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">on_log_message_received</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_log_message_received" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">on_log_message_received</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">level</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Slot to handle log tab updates and processing logs</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>message</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The received message from QGIS message log</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>tag</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Message log tag</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>level</code></td>
            <td>
                  <code><span title="qgis.core.Qgis.MessageLevel">MessageLevel</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Message level enum value</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-327" name="__codelineno-0-327"></a><span class="k">def</span> <span class="nf">on_log_message_received</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a>    <span class="sd">"""Slot to handle log tab updates and processing logs</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a><span class="sd">    :param message: The received message from QGIS message log</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a><span class="sd">    :type message: str</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a><span class="sd">    :param tag: Message log tag</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a><span class="sd">    :type tag: str</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a><span class="sd">    :param level: Message level enum value</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a><span class="sd">    :type level: Qgis.MessageLevel</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a><span class="sd">    """</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>    <span class="k">if</span> <span class="n">tag</span> <span class="o">==</span> <span class="n">PLUGIN_MESSAGE_LOG_TAB</span><span class="p">:</span>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a>        <span class="c1"># If there is no current running analysis</span>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a>        <span class="c1"># task don't save the log message.</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_analysis_task</span><span class="p">:</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a>            <span class="k">return</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a>            <span class="n">to_zone</span> <span class="o">=</span> <span class="n">tz</span><span class="o">.</span><span class="n">tzlocal</span><span class="p">()</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a>            <span class="n">message_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a>            <span class="k">if</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">message_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span> <span class="o">==</span> <span class="p">[</span><span class="s2">"date_time"</span><span class="p">,</span> <span class="s2">"log"</span><span class="p">]:</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a>                <span class="n">message</span> <span class="o">=</span> <span class="n">message_dict</span><span class="p">[</span><span class="s2">"log"</span><span class="p">]</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a>                <span class="n">message_time</span> <span class="o">=</span> <span class="n">message_dict</span><span class="p">[</span><span class="s2">"date_time"</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">"Z"</span><span class="p">,</span> <span class="s2">"+00:00"</span><span class="p">)</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a>                <span class="n">message_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">fromisoformat</span><span class="p">(</span><span class="n">message_time</span><span class="p">)</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a>                <span class="n">message_time</span> <span class="o">=</span> <span class="n">message_time</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">to_zone</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a>                    <span class="s2">"%Y-%m-</span><span class="si">%d</span><span class="s2">T%H:%M:%S"</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a>                <span class="p">)</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a>                <span class="n">message_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">"%Y-%m-</span><span class="si">%d</span><span class="s2">T%H:%M:%S"</span><span class="p">)</span>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a>        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>            <span class="n">message_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">"%Y-%m-</span><span class="si">%d</span><span class="s2">T%H:%M:%S"</span><span class="p">)</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a>        <span class="n">message</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>            <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">log_text_box</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span><span class="si">}</span><span class="s2"> "</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>            <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">message_time</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">QGIS_MESSAGE_LEVEL_DICT</span><span class="p">[</span><span class="n">level</span><span class="p">]</span><span class="si">}</span><span class="s2"> "</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>            <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">"</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a>        <span class="p">)</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">log_text_box</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>        <span class="n">log_text_cursor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">log_text_box</span><span class="o">.</span><span class="n">textCursor</span><span class="p">()</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>        <span class="n">log_text_cursor</span><span class="o">.</span><span class="n">movePosition</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QTextCursor</span><span class="o">.</span><span class="n">End</span><span class="p">)</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">log_text_box</span><span class="o">.</span><span class="n">setTextCursor</span><span class="p">(</span><span class="n">log_text_cursor</span><span class="p">)</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">current_analysis_task</span><span class="o">.</span><span class="n">scenario_directory</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>            <span class="p">)</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a>            <span class="n">processing_log_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">current_analysis_task</span><span class="o">.</span><span class="n">scenario_directory</span><span class="p">,</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a>                <span class="n">SCENARIO_LOG_FILE_NAME</span><span class="p">,</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>            <span class="p">)</span>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a>            <span class="n">write_to_file</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">processing_log_file</span><span class="p">)</span>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a>        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a>            <span class="k">pass</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_manage_npv_pwls" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">on_manage_npv_pwls</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_manage_npv_pwls" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">on_manage_npv_pwls</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Slot raised to show the dialog for managing NPV PWLs.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1015">1015</a></span>
<span class="normal"><a href="#__codelineno-0-1016">1016</a></span>
<span class="normal"><a href="#__codelineno-0-1017">1017</a></span>
<span class="normal"><a href="#__codelineno-0-1018">1018</a></span>
<span class="normal"><a href="#__codelineno-0-1019">1019</a></span>
<span class="normal"><a href="#__codelineno-0-1020">1020</a></span>
<span class="normal"><a href="#__codelineno-0-1021">1021</a></span>
<span class="normal"><a href="#__codelineno-0-1022">1022</a></span>
<span class="normal"><a href="#__codelineno-0-1023">1023</a></span>
<span class="normal"><a href="#__codelineno-0-1024">1024</a></span>
<span class="normal"><a href="#__codelineno-0-1025">1025</a></span>
<span class="normal"><a href="#__codelineno-0-1026">1026</a></span>
<span class="normal"><a href="#__codelineno-0-1027">1027</a></span>
<span class="normal"><a href="#__codelineno-0-1028">1028</a></span>
<span class="normal"><a href="#__codelineno-0-1029">1029</a></span>
<span class="normal"><a href="#__codelineno-0-1030">1030</a></span>
<span class="normal"><a href="#__codelineno-0-1031">1031</a></span>
<span class="normal"><a href="#__codelineno-0-1032">1032</a></span>
<span class="normal"><a href="#__codelineno-0-1033">1033</a></span>
<span class="normal"><a href="#__codelineno-0-1034">1034</a></span>
<span class="normal"><a href="#__codelineno-0-1035">1035</a></span>
<span class="normal"><a href="#__codelineno-0-1036">1036</a></span>
<span class="normal"><a href="#__codelineno-0-1037">1037</a></span>
<span class="normal"><a href="#__codelineno-0-1038">1038</a></span>
<span class="normal"><a href="#__codelineno-0-1039">1039</a></span>
<span class="normal"><a href="#__codelineno-0-1040">1040</a></span>
<span class="normal"><a href="#__codelineno-0-1041">1041</a></span>
<span class="normal"><a href="#__codelineno-0-1042">1042</a></span>
<span class="normal"><a href="#__codelineno-0-1043">1043</a></span>
<span class="normal"><a href="#__codelineno-0-1044">1044</a></span>
<span class="normal"><a href="#__codelineno-0-1045">1045</a></span>
<span class="normal"><a href="#__codelineno-0-1046">1046</a></span>
<span class="normal"><a href="#__codelineno-0-1047">1047</a></span>
<span class="normal"><a href="#__codelineno-0-1048">1048</a></span>
<span class="normal"><a href="#__codelineno-0-1049">1049</a></span>
<span class="normal"><a href="#__codelineno-0-1050">1050</a></span>
<span class="normal"><a href="#__codelineno-0-1051">1051</a></span>
<span class="normal"><a href="#__codelineno-0-1052">1052</a></span>
<span class="normal"><a href="#__codelineno-0-1053">1053</a></span>
<span class="normal"><a href="#__codelineno-0-1054">1054</a></span>
<span class="normal"><a href="#__codelineno-0-1055">1055</a></span>
<span class="normal"><a href="#__codelineno-0-1056">1056</a></span>
<span class="normal"><a href="#__codelineno-0-1057">1057</a></span>
<span class="normal"><a href="#__codelineno-0-1058">1058</a></span>
<span class="normal"><a href="#__codelineno-0-1059">1059</a></span>
<span class="normal"><a href="#__codelineno-0-1060">1060</a></span>
<span class="normal"><a href="#__codelineno-0-1061">1061</a></span>
<span class="normal"><a href="#__codelineno-0-1062">1062</a></span>
<span class="normal"><a href="#__codelineno-0-1063">1063</a></span>
<span class="normal"><a href="#__codelineno-0-1064">1064</a></span>
<span class="normal"><a href="#__codelineno-0-1065">1065</a></span>
<span class="normal"><a href="#__codelineno-0-1066">1066</a></span>
<span class="normal"><a href="#__codelineno-0-1067">1067</a></span>
<span class="normal"><a href="#__codelineno-0-1068">1068</a></span>
<span class="normal"><a href="#__codelineno-0-1069">1069</a></span>
<span class="normal"><a href="#__codelineno-0-1070">1070</a></span>
<span class="normal"><a href="#__codelineno-0-1071">1071</a></span>
<span class="normal"><a href="#__codelineno-0-1072">1072</a></span>
<span class="normal"><a href="#__codelineno-0-1073">1073</a></span>
<span class="normal"><a href="#__codelineno-0-1074">1074</a></span>
<span class="normal"><a href="#__codelineno-0-1075">1075</a></span>
<span class="normal"><a href="#__codelineno-0-1076">1076</a></span>
<span class="normal"><a href="#__codelineno-0-1077">1077</a></span>
<span class="normal"><a href="#__codelineno-0-1078">1078</a></span>
<span class="normal"><a href="#__codelineno-0-1079">1079</a></span>
<span class="normal"><a href="#__codelineno-0-1080">1080</a></span>
<span class="normal"><a href="#__codelineno-0-1081">1081</a></span>
<span class="normal"><a href="#__codelineno-0-1082">1082</a></span>
<span class="normal"><a href="#__codelineno-0-1083">1083</a></span>
<span class="normal"><a href="#__codelineno-0-1084">1084</a></span>
<span class="normal"><a href="#__codelineno-0-1085">1085</a></span>
<span class="normal"><a href="#__codelineno-0-1086">1086</a></span>
<span class="normal"><a href="#__codelineno-0-1087">1087</a></span>
<span class="normal"><a href="#__codelineno-0-1088">1088</a></span>
<span class="normal"><a href="#__codelineno-0-1089">1089</a></span>
<span class="normal"><a href="#__codelineno-0-1090">1090</a></span>
<span class="normal"><a href="#__codelineno-0-1091">1091</a></span>
<span class="normal"><a href="#__codelineno-0-1092">1092</a></span>
<span class="normal"><a href="#__codelineno-0-1093">1093</a></span>
<span class="normal"><a href="#__codelineno-0-1094">1094</a></span>
<span class="normal"><a href="#__codelineno-0-1095">1095</a></span>
<span class="normal"><a href="#__codelineno-0-1096">1096</a></span>
<span class="normal"><a href="#__codelineno-0-1097">1097</a></span>
<span class="normal"><a href="#__codelineno-0-1098">1098</a></span>
<span class="normal"><a href="#__codelineno-0-1099">1099</a></span>
<span class="normal"><a href="#__codelineno-0-1100">1100</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1015" name="__codelineno-0-1015"></a><span class="k">def</span> <span class="nf">on_manage_npv_pwls</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-1016" name="__codelineno-0-1016"></a>    <span class="sd">"""Slot raised to show the dialog for managing NPV PWLs."""</span>
<a id="__codelineno-0-1017" name="__codelineno-0-1017"></a>    <span class="n">financial_dialog</span> <span class="o">=</span> <span class="n">NpvPwlManagerDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<a id="__codelineno-0-1018" name="__codelineno-0-1018"></a>    <span class="k">if</span> <span class="n">financial_dialog</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span> <span class="o">==</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QDialog</span><span class="o">.</span><span class="n">Accepted</span><span class="p">:</span>
<a id="__codelineno-0-1019" name="__codelineno-0-1019"></a>        <span class="n">npv_collection</span> <span class="o">=</span> <span class="n">financial_dialog</span><span class="o">.</span><span class="n">npv_collection</span>
<a id="__codelineno-0-1020" name="__codelineno-0-1020"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">npv_processing_context</span> <span class="o">=</span> <span class="n">QgsProcessingContext</span><span class="p">()</span>
<a id="__codelineno-0-1021" name="__codelineno-0-1021"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">npv_feedback</span> <span class="o">=</span> <span class="n">QgsProcessingFeedback</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-1022" name="__codelineno-0-1022"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">npv_multi_step_feedback</span> <span class="o">=</span> <span class="n">QgsProcessingMultiStepFeedback</span><span class="p">(</span>
<a id="__codelineno-0-1023" name="__codelineno-0-1023"></a>            <span class="nb">len</span><span class="p">(</span><span class="n">npv_collection</span><span class="o">.</span><span class="n">mappings</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">npv_feedback</span>
<a id="__codelineno-0-1024" name="__codelineno-0-1024"></a>        <span class="p">)</span>
<a id="__codelineno-0-1025" name="__codelineno-0-1025"></a>
<a id="__codelineno-0-1026" name="__codelineno-0-1026"></a>        <span class="c1"># Get CRS and pixel size from at least one of the</span>
<a id="__codelineno-0-1027" name="__codelineno-0-1027"></a>        <span class="c1"># NCS pathways in the collection.</span>
<a id="__codelineno-0-1028" name="__codelineno-0-1028"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">npv_collection</span><span class="o">.</span><span class="n">mappings</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-1029" name="__codelineno-0-1029"></a>            <span class="n">log</span><span class="p">(</span>
<a id="__codelineno-0-1030" name="__codelineno-0-1030"></a>                <span class="n">message</span><span class="o">=</span><span class="n">tr</span><span class="p">(</span><span class="s2">"No NPV mappings to extract the CRS and pixel size."</span><span class="p">),</span>
<a id="__codelineno-0-1031" name="__codelineno-0-1031"></a>                <span class="n">info</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-1032" name="__codelineno-0-1032"></a>            <span class="p">)</span>
<a id="__codelineno-0-1033" name="__codelineno-0-1033"></a>            <span class="k">return</span>
<a id="__codelineno-0-1034" name="__codelineno-0-1034"></a>
<a id="__codelineno-0-1035" name="__codelineno-0-1035"></a>        <span class="n">reference_layer</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-1036" name="__codelineno-0-1036"></a>        <span class="k">for</span> <span class="n">pathway_npv</span> <span class="ow">in</span> <span class="n">npv_collection</span><span class="o">.</span><span class="n">mappings</span><span class="p">:</span>
<a id="__codelineno-0-1037" name="__codelineno-0-1037"></a>            <span class="k">if</span> <span class="n">pathway_npv</span><span class="o">.</span><span class="n">pathway</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1038" name="__codelineno-0-1038"></a>                <span class="k">continue</span>
<a id="__codelineno-0-1039" name="__codelineno-0-1039"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-1040" name="__codelineno-0-1040"></a>                <span class="k">if</span> <span class="n">pathway_npv</span><span class="o">.</span><span class="n">pathway</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
<a id="__codelineno-0-1041" name="__codelineno-0-1041"></a>                    <span class="n">reference_ncs_pathway</span> <span class="o">=</span> <span class="n">pathway_npv</span><span class="o">.</span><span class="n">pathway</span>
<a id="__codelineno-0-1042" name="__codelineno-0-1042"></a>                    <span class="n">reference_layer</span> <span class="o">=</span> <span class="n">reference_ncs_pathway</span><span class="o">.</span><span class="n">to_map_layer</span><span class="p">()</span>
<a id="__codelineno-0-1043" name="__codelineno-0-1043"></a>                    <span class="k">break</span>
<a id="__codelineno-0-1044" name="__codelineno-0-1044"></a>
<a id="__codelineno-0-1045" name="__codelineno-0-1045"></a>        <span class="k">if</span> <span class="n">reference_layer</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1046" name="__codelineno-0-1046"></a>            <span class="c1"># Attempt to get reference layer from the snapping layer</span>
<a id="__codelineno-0-1047" name="__codelineno-0-1047"></a>            <span class="n">snap_layer_path</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span>
<a id="__codelineno-0-1048" name="__codelineno-0-1048"></a>                <span class="n">Settings</span><span class="o">.</span><span class="n">SNAP_LAYER</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span> <span class="n">setting_type</span><span class="o">=</span><span class="nb">str</span>
<a id="__codelineno-0-1049" name="__codelineno-0-1049"></a>            <span class="p">)</span>
<a id="__codelineno-0-1050" name="__codelineno-0-1050"></a>            <span class="n">reference_layer</span> <span class="o">=</span> <span class="n">QgsRasterLayer</span><span class="p">(</span><span class="n">snap_layer_path</span><span class="p">,</span> <span class="s2">"reference_layer"</span><span class="p">)</span>
<a id="__codelineno-0-1051" name="__codelineno-0-1051"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">reference_layer</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span>
<a id="__codelineno-0-1052" name="__codelineno-0-1052"></a>                <span class="n">log</span><span class="p">(</span>
<a id="__codelineno-0-1053" name="__codelineno-0-1053"></a>                    <span class="n">message</span><span class="o">=</span><span class="n">tr</span><span class="p">(</span>
<a id="__codelineno-0-1054" name="__codelineno-0-1054"></a>                        <span class="s2">"There is no valid reference layer to extract the pixel size."</span>
<a id="__codelineno-0-1055" name="__codelineno-0-1055"></a>                    <span class="p">),</span>
<a id="__codelineno-0-1056" name="__codelineno-0-1056"></a>                    <span class="n">info</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-1057" name="__codelineno-0-1057"></a>                <span class="p">)</span>
<a id="__codelineno-0-1058" name="__codelineno-0-1058"></a>                <span class="k">return</span>
<a id="__codelineno-0-1059" name="__codelineno-0-1059"></a>
<a id="__codelineno-0-1060" name="__codelineno-0-1060"></a>        <span class="n">reference_crs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">crs_selector</span><span class="o">.</span><span class="n">crs</span><span class="p">()</span>
<a id="__codelineno-0-1061" name="__codelineno-0-1061"></a>        <span class="n">reference_pixel_size</span> <span class="o">=</span> <span class="n">reference_layer</span><span class="o">.</span><span class="n">rasterUnitsPerPixelX</span><span class="p">()</span>
<a id="__codelineno-0-1062" name="__codelineno-0-1062"></a>
<a id="__codelineno-0-1063" name="__codelineno-0-1063"></a>        <span class="c1"># Get the reference extent</span>
<a id="__codelineno-0-1064" name="__codelineno-0-1064"></a>        <span class="n">source_extent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">outputExtent</span><span class="p">()</span>
<a id="__codelineno-0-1065" name="__codelineno-0-1065"></a>        <span class="n">source_crs</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-1066" name="__codelineno-0-1066"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">outputCrs</span><span class="p">()</span>
<a id="__codelineno-0-1067" name="__codelineno-0-1067"></a>            <span class="ow">or</span> <span class="n">QgsCoordinateReferenceSystem</span><span class="o">.</span><span class="n">fromEpsgId</span><span class="p">(</span><span class="n">DEFAULT_CRS_ID</span><span class="p">)</span>
<a id="__codelineno-0-1068" name="__codelineno-0-1068"></a>        <span class="p">)</span>
<a id="__codelineno-0-1069" name="__codelineno-0-1069"></a>
<a id="__codelineno-0-1070" name="__codelineno-0-1070"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">can_clip_to_studyarea</span><span class="p">():</span>
<a id="__codelineno-0-1071" name="__codelineno-0-1071"></a>            <span class="n">studyarea_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_studyarea_path</span><span class="p">()</span>
<a id="__codelineno-0-1072" name="__codelineno-0-1072"></a>            <span class="n">studyarea_layer</span> <span class="o">=</span> <span class="n">QgsVectorLayer</span><span class="p">(</span><span class="n">studyarea_path</span><span class="p">,</span> <span class="s2">"studyarea"</span><span class="p">)</span>
<a id="__codelineno-0-1073" name="__codelineno-0-1073"></a>            <span class="k">if</span> <span class="n">studyarea_layer</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span>
<a id="__codelineno-0-1074" name="__codelineno-0-1074"></a>                <span class="n">source_extent</span> <span class="o">=</span> <span class="n">studyarea_layer</span><span class="o">.</span><span class="n">extent</span><span class="p">()</span>
<a id="__codelineno-0-1075" name="__codelineno-0-1075"></a>                <span class="n">source_crs</span> <span class="o">=</span> <span class="n">studyarea_layer</span><span class="o">.</span><span class="n">crs</span><span class="p">()</span>
<a id="__codelineno-0-1076" name="__codelineno-0-1076"></a>
<a id="__codelineno-0-1077" name="__codelineno-0-1077"></a>        <span class="n">reference_extent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">transform_extent</span><span class="p">(</span>
<a id="__codelineno-0-1078" name="__codelineno-0-1078"></a>            <span class="n">source_extent</span><span class="p">,</span> <span class="n">source_crs</span><span class="p">,</span> <span class="n">reference_crs</span>
<a id="__codelineno-0-1079" name="__codelineno-0-1079"></a>        <span class="p">)</span>
<a id="__codelineno-0-1080" name="__codelineno-0-1080"></a>        <span class="n">reference_extent_str</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-1081" name="__codelineno-0-1081"></a>            <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">reference_extent</span><span class="o">.</span><span class="n">xMinimum</span><span class="p">()</span><span class="si">!s}</span><span class="s2">,"</span>
<a id="__codelineno-0-1082" name="__codelineno-0-1082"></a>            <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">reference_extent</span><span class="o">.</span><span class="n">xMaximum</span><span class="p">()</span><span class="si">!s}</span><span class="s2">,"</span>
<a id="__codelineno-0-1083" name="__codelineno-0-1083"></a>            <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">reference_extent</span><span class="o">.</span><span class="n">yMinimum</span><span class="p">()</span><span class="si">!s}</span><span class="s2">,"</span>
<a id="__codelineno-0-1084" name="__codelineno-0-1084"></a>            <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">reference_extent</span><span class="o">.</span><span class="n">yMaximum</span><span class="p">()</span><span class="si">!s}</span><span class="s2">"</span>
<a id="__codelineno-0-1085" name="__codelineno-0-1085"></a>        <span class="p">)</span>
<a id="__codelineno-0-1086" name="__codelineno-0-1086"></a>
<a id="__codelineno-0-1087" name="__codelineno-0-1087"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">npv_progress_dialog</span> <span class="o">=</span> <span class="n">NpvPwlProgressDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">npv_feedback</span><span class="p">)</span>
<a id="__codelineno-0-1088" name="__codelineno-0-1088"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">npv_progress_dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<a id="__codelineno-0-1089" name="__codelineno-0-1089"></a>
<a id="__codelineno-0-1090" name="__codelineno-0-1090"></a>        <span class="n">create_npv_pwls</span><span class="p">(</span>
<a id="__codelineno-0-1091" name="__codelineno-0-1091"></a>            <span class="n">npv_collection</span><span class="p">,</span>
<a id="__codelineno-0-1092" name="__codelineno-0-1092"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">npv_processing_context</span><span class="p">,</span>
<a id="__codelineno-0-1093" name="__codelineno-0-1093"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">npv_multi_step_feedback</span><span class="p">,</span>
<a id="__codelineno-0-1094" name="__codelineno-0-1094"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">npv_feedback</span><span class="p">,</span>
<a id="__codelineno-0-1095" name="__codelineno-0-1095"></a>            <span class="n">reference_crs</span><span class="o">.</span><span class="n">authid</span><span class="p">(),</span>
<a id="__codelineno-0-1096" name="__codelineno-0-1096"></a>            <span class="n">reference_pixel_size</span><span class="p">,</span>
<a id="__codelineno-0-1097" name="__codelineno-0-1097"></a>            <span class="n">reference_extent_str</span><span class="p">,</span>
<a id="__codelineno-0-1098" name="__codelineno-0-1098"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_npv_pwl_created</span><span class="p">,</span>
<a id="__codelineno-0-1099" name="__codelineno-0-1099"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_npv_pwl_removed</span><span class="p">,</span>
<a id="__codelineno-0-1100" name="__codelineno-0-1100"></a>        <span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_manage_pwls_relative_impact_matrix" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">on_manage_pwls_relative_impact_matrix</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_manage_pwls_relative_impact_matrix" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">on_manage_pwls_relative_impact_matrix</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Slot raised to show the dialog for managing relative impact matrix of PWLs.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1356">1356</a></span>
<span class="normal"><a href="#__codelineno-0-1357">1357</a></span>
<span class="normal"><a href="#__codelineno-0-1358">1358</a></span>
<span class="normal"><a href="#__codelineno-0-1359">1359</a></span>
<span class="normal"><a href="#__codelineno-0-1360">1360</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1356" name="__codelineno-0-1356"></a><span class="k">def</span> <span class="nf">on_manage_pwls_relative_impact_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-1357" name="__codelineno-0-1357"></a>    <span class="sd">"""Slot raised to show the dialog for managing relative impact matrix of PWLs."""</span>
<a id="__codelineno-0-1358" name="__codelineno-0-1358"></a>    <span class="n">ncs_pwl_relative_impact_dialog</span> <span class="o">=</span> <span class="n">NcsPwlImpactManagerDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<a id="__codelineno-0-1359" name="__codelineno-0-1359"></a>    <span class="k">if</span> <span class="n">ncs_pwl_relative_impact_dialog</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span> <span class="o">==</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QDialog</span><span class="o">.</span><span class="n">Accepted</span><span class="p">:</span>
<a id="__codelineno-0-1360" name="__codelineno-0-1360"></a>        <span class="k">pass</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_npv_pwl_created" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">on_npv_pwl_created</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_npv_pwl_created" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">on_npv_pwl_created</span><span class="p">(</span><span class="n">pathway_npv</span><span class="p">,</span> <span class="n">npv_pwl_path</span><span class="p">,</span> <span class="n">algorithm</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">feedback</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Callback that creates an PWL item when the corresponding
raster layer has been created.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>pathway_npv</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="NcsPathwayNpv (src.cplus_plugin.models.financial.NcsPathwayNpv)" href="../../models/api_financials/#src.cplus_plugin.models.financial.NcsPathwayNpv">NcsPathwayNpv</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>NPV mapping for an NCS pathway.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>npv_pwl_path</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Absolute file path of the created NPV PWL.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>algorithm</code></td>
            <td>
                  <code><span title="qgis.core.QgsProcessingAlgorithm">QgsProcessingAlgorithm</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Processing algorithm that created the NPV PWL.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>context</code></td>
            <td>
                  <code><span title="qgis.core.QgsProcessingContext">QgsProcessingContext</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contextual information that was used to create the NPV PWL in processing.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>feedback</code></td>
            <td>
                  <code><span title="qgis.core.QgsProcessingFeedback">QgsProcessingFeedback</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Feedback to update on the processing progress.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1108">1108</a></span>
<span class="normal"><a href="#__codelineno-0-1109">1109</a></span>
<span class="normal"><a href="#__codelineno-0-1110">1110</a></span>
<span class="normal"><a href="#__codelineno-0-1111">1111</a></span>
<span class="normal"><a href="#__codelineno-0-1112">1112</a></span>
<span class="normal"><a href="#__codelineno-0-1113">1113</a></span>
<span class="normal"><a href="#__codelineno-0-1114">1114</a></span>
<span class="normal"><a href="#__codelineno-0-1115">1115</a></span>
<span class="normal"><a href="#__codelineno-0-1116">1116</a></span>
<span class="normal"><a href="#__codelineno-0-1117">1117</a></span>
<span class="normal"><a href="#__codelineno-0-1118">1118</a></span>
<span class="normal"><a href="#__codelineno-0-1119">1119</a></span>
<span class="normal"><a href="#__codelineno-0-1120">1120</a></span>
<span class="normal"><a href="#__codelineno-0-1121">1121</a></span>
<span class="normal"><a href="#__codelineno-0-1122">1122</a></span>
<span class="normal"><a href="#__codelineno-0-1123">1123</a></span>
<span class="normal"><a href="#__codelineno-0-1124">1124</a></span>
<span class="normal"><a href="#__codelineno-0-1125">1125</a></span>
<span class="normal"><a href="#__codelineno-0-1126">1126</a></span>
<span class="normal"><a href="#__codelineno-0-1127">1127</a></span>
<span class="normal"><a href="#__codelineno-0-1128">1128</a></span>
<span class="normal"><a href="#__codelineno-0-1129">1129</a></span>
<span class="normal"><a href="#__codelineno-0-1130">1130</a></span>
<span class="normal"><a href="#__codelineno-0-1131">1131</a></span>
<span class="normal"><a href="#__codelineno-0-1132">1132</a></span>
<span class="normal"><a href="#__codelineno-0-1133">1133</a></span>
<span class="normal"><a href="#__codelineno-0-1134">1134</a></span>
<span class="normal"><a href="#__codelineno-0-1135">1135</a></span>
<span class="normal"><a href="#__codelineno-0-1136">1136</a></span>
<span class="normal"><a href="#__codelineno-0-1137">1137</a></span>
<span class="normal"><a href="#__codelineno-0-1138">1138</a></span>
<span class="normal"><a href="#__codelineno-0-1139">1139</a></span>
<span class="normal"><a href="#__codelineno-0-1140">1140</a></span>
<span class="normal"><a href="#__codelineno-0-1141">1141</a></span>
<span class="normal"><a href="#__codelineno-0-1142">1142</a></span>
<span class="normal"><a href="#__codelineno-0-1143">1143</a></span>
<span class="normal"><a href="#__codelineno-0-1144">1144</a></span>
<span class="normal"><a href="#__codelineno-0-1145">1145</a></span>
<span class="normal"><a href="#__codelineno-0-1146">1146</a></span>
<span class="normal"><a href="#__codelineno-0-1147">1147</a></span>
<span class="normal"><a href="#__codelineno-0-1148">1148</a></span>
<span class="normal"><a href="#__codelineno-0-1149">1149</a></span>
<span class="normal"><a href="#__codelineno-0-1150">1150</a></span>
<span class="normal"><a href="#__codelineno-0-1151">1151</a></span>
<span class="normal"><a href="#__codelineno-0-1152">1152</a></span>
<span class="normal"><a href="#__codelineno-0-1153">1153</a></span>
<span class="normal"><a href="#__codelineno-0-1154">1154</a></span>
<span class="normal"><a href="#__codelineno-0-1155">1155</a></span>
<span class="normal"><a href="#__codelineno-0-1156">1156</a></span>
<span class="normal"><a href="#__codelineno-0-1157">1157</a></span>
<span class="normal"><a href="#__codelineno-0-1158">1158</a></span>
<span class="normal"><a href="#__codelineno-0-1159">1159</a></span>
<span class="normal"><a href="#__codelineno-0-1160">1160</a></span>
<span class="normal"><a href="#__codelineno-0-1161">1161</a></span>
<span class="normal"><a href="#__codelineno-0-1162">1162</a></span>
<span class="normal"><a href="#__codelineno-0-1163">1163</a></span>
<span class="normal"><a href="#__codelineno-0-1164">1164</a></span>
<span class="normal"><a href="#__codelineno-0-1165">1165</a></span>
<span class="normal"><a href="#__codelineno-0-1166">1166</a></span>
<span class="normal"><a href="#__codelineno-0-1167">1167</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1108" name="__codelineno-0-1108"></a><span class="k">def</span> <span class="nf">on_npv_pwl_created</span><span class="p">(</span>
<a id="__codelineno-0-1109" name="__codelineno-0-1109"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-1110" name="__codelineno-0-1110"></a>    <span class="n">pathway_npv</span><span class="p">:</span> <span class="n">NcsPathwayNpv</span><span class="p">,</span>
<a id="__codelineno-0-1111" name="__codelineno-0-1111"></a>    <span class="n">npv_pwl_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-1112" name="__codelineno-0-1112"></a>    <span class="n">algorithm</span><span class="p">:</span> <span class="n">QgsProcessingAlgorithm</span><span class="p">,</span>
<a id="__codelineno-0-1113" name="__codelineno-0-1113"></a>    <span class="n">context</span><span class="p">:</span> <span class="n">QgsProcessingContext</span><span class="p">,</span>
<a id="__codelineno-0-1114" name="__codelineno-0-1114"></a>    <span class="n">feedback</span><span class="p">:</span> <span class="n">QgsProcessingFeedback</span><span class="p">,</span>
<a id="__codelineno-0-1115" name="__codelineno-0-1115"></a><span class="p">):</span>
<a id="__codelineno-0-1116" name="__codelineno-0-1116"></a>    <span class="sd">"""Callback that creates an PWL item when the corresponding</span>
<a id="__codelineno-0-1117" name="__codelineno-0-1117"></a><span class="sd">    raster layer has been created.</span>
<a id="__codelineno-0-1118" name="__codelineno-0-1118"></a>
<a id="__codelineno-0-1119" name="__codelineno-0-1119"></a><span class="sd">    :param pathway_npv: NPV mapping for an NCS pathway.</span>
<a id="__codelineno-0-1120" name="__codelineno-0-1120"></a><span class="sd">    :type pathway_npv: NcsPathwayNpv</span>
<a id="__codelineno-0-1121" name="__codelineno-0-1121"></a>
<a id="__codelineno-0-1122" name="__codelineno-0-1122"></a><span class="sd">    :param npv_pwl_path: Absolute file path of the created NPV PWL.</span>
<a id="__codelineno-0-1123" name="__codelineno-0-1123"></a><span class="sd">    :type npv_pwl_path: str</span>
<a id="__codelineno-0-1124" name="__codelineno-0-1124"></a>
<a id="__codelineno-0-1125" name="__codelineno-0-1125"></a><span class="sd">    :param algorithm: Processing algorithm that created the NPV PWL.</span>
<a id="__codelineno-0-1126" name="__codelineno-0-1126"></a><span class="sd">    :type algorithm: QgsProcessingAlgorithm</span>
<a id="__codelineno-0-1127" name="__codelineno-0-1127"></a>
<a id="__codelineno-0-1128" name="__codelineno-0-1128"></a><span class="sd">    :param context: Contextual information that was used to create</span>
<a id="__codelineno-0-1129" name="__codelineno-0-1129"></a><span class="sd">    the NPV PWL in processing.</span>
<a id="__codelineno-0-1130" name="__codelineno-0-1130"></a><span class="sd">    :type context: QgsProcessingContext</span>
<a id="__codelineno-0-1131" name="__codelineno-0-1131"></a>
<a id="__codelineno-0-1132" name="__codelineno-0-1132"></a><span class="sd">    :param feedback: Feedback to update on the processing progress.</span>
<a id="__codelineno-0-1133" name="__codelineno-0-1133"></a><span class="sd">    :type feedback: QgsProcessingFeedback</span>
<a id="__codelineno-0-1134" name="__codelineno-0-1134"></a><span class="sd">    """</span>
<a id="__codelineno-0-1135" name="__codelineno-0-1135"></a>    <span class="c1"># Check if the PWL entry already exists in the settings. If it</span>
<a id="__codelineno-0-1136" name="__codelineno-0-1136"></a>    <span class="c1"># exists then no further updates required as the filename of the</span>
<a id="__codelineno-0-1137" name="__codelineno-0-1137"></a>    <span class="c1"># PWL layer is still the same.</span>
<a id="__codelineno-0-1138" name="__codelineno-0-1138"></a>    <span class="n">updated_pwl</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">find_layer_by_name</span><span class="p">(</span><span class="n">pathway_npv</span><span class="o">.</span><span class="n">base_name</span><span class="p">)</span>
<a id="__codelineno-0-1139" name="__codelineno-0-1139"></a>    <span class="k">if</span> <span class="n">updated_pwl</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1140" name="__codelineno-0-1140"></a>        <span class="c1"># Create NPV PWL</span>
<a id="__codelineno-0-1141" name="__codelineno-0-1141"></a>        <span class="n">desc_tr</span> <span class="o">=</span> <span class="n">tr</span><span class="p">(</span><span class="s2">"Normalized NPV for"</span><span class="p">)</span>
<a id="__codelineno-0-1142" name="__codelineno-0-1142"></a>        <span class="n">pwl_desc</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">desc_tr</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">pathway_npv</span><span class="o">.</span><span class="n">pathway</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">."</span>
<a id="__codelineno-0-1143" name="__codelineno-0-1143"></a>        <span class="n">npv_layer_info</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-1144" name="__codelineno-0-1144"></a>            <span class="s2">"uuid"</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()),</span>
<a id="__codelineno-0-1145" name="__codelineno-0-1145"></a>            <span class="s2">"name"</span><span class="p">:</span> <span class="n">pathway_npv</span><span class="o">.</span><span class="n">base_name</span><span class="p">,</span>
<a id="__codelineno-0-1146" name="__codelineno-0-1146"></a>            <span class="s2">"description"</span><span class="p">:</span> <span class="n">pwl_desc</span><span class="p">,</span>
<a id="__codelineno-0-1147" name="__codelineno-0-1147"></a>            <span class="s2">"groups"</span><span class="p">:</span> <span class="p">[],</span>
<a id="__codelineno-0-1148" name="__codelineno-0-1148"></a>            <span class="s2">"path"</span><span class="p">:</span> <span class="n">npv_pwl_path</span><span class="p">,</span>
<a id="__codelineno-0-1149" name="__codelineno-0-1149"></a>            <span class="s2">"type"</span><span class="p">:</span> <span class="n">PriorityLayerType</span><span class="o">.</span><span class="n">NPV</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
<a id="__codelineno-0-1150" name="__codelineno-0-1150"></a>            <span class="n">USER_DEFINED_ATTRIBUTE</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-1151" name="__codelineno-0-1151"></a>        <span class="p">}</span>
<a id="__codelineno-0-1152" name="__codelineno-0-1152"></a>        <span class="n">settings_manager</span><span class="o">.</span><span class="n">save_priority_layer</span><span class="p">(</span><span class="n">npv_layer_info</span><span class="p">)</span>
<a id="__codelineno-0-1153" name="__codelineno-0-1153"></a>
<a id="__codelineno-0-1154" name="__codelineno-0-1154"></a>        <span class="c1"># Updated the PWL for the NCS pathway</span>
<a id="__codelineno-0-1155" name="__codelineno-0-1155"></a>        <span class="n">pathway</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_ncs_pathway</span><span class="p">(</span><span class="n">pathway_npv</span><span class="o">.</span><span class="n">pathway_id</span><span class="p">)</span>
<a id="__codelineno-0-1156" name="__codelineno-0-1156"></a>        <span class="k">if</span> <span class="n">pathway</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1157" name="__codelineno-0-1157"></a>            <span class="n">pathway</span><span class="o">.</span><span class="n">priority_layers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">npv_layer_info</span><span class="p">)</span>
<a id="__codelineno-0-1158" name="__codelineno-0-1158"></a>            <span class="n">settings_manager</span><span class="o">.</span><span class="n">update_ncs_pathway</span><span class="p">(</span><span class="n">pathway</span><span class="p">)</span>
<a id="__codelineno-0-1159" name="__codelineno-0-1159"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-1160" name="__codelineno-0-1160"></a>            <span class="n">msg_tr</span> <span class="o">=</span> <span class="n">tr</span><span class="p">(</span><span class="s2">"ncs pathway not found to attach the NPV PWL."</span><span class="p">)</span>
<a id="__codelineno-0-1161" name="__codelineno-0-1161"></a>            <span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">pathway_npv</span><span class="o">.</span><span class="n">pathway</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">msg_tr</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="n">info</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-1162" name="__codelineno-0-1162"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-1163" name="__codelineno-0-1163"></a>        <span class="c1"># Just update the path</span>
<a id="__codelineno-0-1164" name="__codelineno-0-1164"></a>        <span class="n">updated_pwl</span><span class="p">[</span><span class="s2">"path"</span><span class="p">]</span> <span class="o">=</span> <span class="n">npv_pwl_path</span>
<a id="__codelineno-0-1165" name="__codelineno-0-1165"></a>        <span class="n">settings_manager</span><span class="o">.</span><span class="n">save_priority_layer</span><span class="p">(</span><span class="n">updated_pwl</span><span class="p">)</span>
<a id="__codelineno-0-1166" name="__codelineno-0-1166"></a>
<a id="__codelineno-0-1167" name="__codelineno-0-1167"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">update_priority_layers</span><span class="p">(</span><span class="n">update_groups</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_npv_pwl_removed" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">on_npv_pwl_removed</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_npv_pwl_removed" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">on_npv_pwl_removed</span><span class="p">(</span><span class="n">pwl_identifier</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Callback that is executed when an NPV PWL has
been removed because it was disabled by the user.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1102">1102</a></span>
<span class="normal"><a href="#__codelineno-0-1103">1103</a></span>
<span class="normal"><a href="#__codelineno-0-1104">1104</a></span>
<span class="normal"><a href="#__codelineno-0-1105">1105</a></span>
<span class="normal"><a href="#__codelineno-0-1106">1106</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1102" name="__codelineno-0-1102"></a><span class="k">def</span> <span class="nf">on_npv_pwl_removed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pwl_identifier</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<a id="__codelineno-0-1103" name="__codelineno-0-1103"></a>    <span class="sd">"""Callback that is executed when an NPV PWL has</span>
<a id="__codelineno-0-1104" name="__codelineno-0-1104"></a><span class="sd">    been removed because it was disabled by the user."""</span>
<a id="__codelineno-0-1105" name="__codelineno-0-1105"></a>    <span class="c1"># We use this to refresh the view to reflect the removed NPV PWL.</span>
<a id="__codelineno-0-1106" name="__codelineno-0-1106"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">update_priority_layers</span><span class="p">(</span><span class="n">update_groups</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_online_task_check_finished" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">on_online_task_check_finished</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_online_task_check_finished" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">on_online_task_check_finished</span><span class="p">(</span><span class="n">status</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Handler for view online task and generate report button.</p>
<p>The button itself will be shown when Cplus plugin becomes visible.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-223" name="__codelineno-0-223"></a><span class="k">def</span> <span class="nf">on_online_task_check_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">):</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a>    <span class="sd">"""</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a><span class="sd">    Handler for view online task and generate report button.</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a><span class="sd">    The button itself will be shown when Cplus plugin becomes visible.</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a><span class="sd">    """</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a>    <span class="n">running_online_scenario_uuid</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_running_online_scenario</span><span class="p">()</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a>    <span class="n">online_task</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_scenario</span><span class="p">(</span><span class="n">running_online_scenario_uuid</span><span class="p">)</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>    <span class="k">if</span> <span class="n">online_task</span><span class="p">:</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>        <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="n">JOB_COMPLETED_STATUS</span><span class="p">:</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>            <span class="n">message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"Task </span><span class="si">{</span><span class="n">online_task</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> has completed successfully. You can download the result from Log tab."</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a>            <span class="n">button_text</span> <span class="o">=</span> <span class="s2">"OK"</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a>        <span class="k">elif</span> <span class="n">status</span> <span class="o">==</span> <span class="n">JOB_RUNNING_STATUS</span><span class="p">:</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a>            <span class="n">message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"Task </span><span class="si">{</span><span class="n">online_task</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> is still running."</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a>            <span class="n">button_text</span> <span class="o">=</span> <span class="s2">"View status"</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>            <span class="n">message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"Task </span><span class="si">{</span><span class="n">online_task</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">status</span><span class="si">}</span><span class="s2">."</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a>            <span class="n">button_text</span> <span class="o">=</span> <span class="s2">"OK"</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>        <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">message_bar</span><span class="o">.</span><span class="n">createMessage</span><span class="p">(</span><span class="n">tr</span><span class="p">(</span><span class="n">message</span><span class="p">))</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a>        <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="n">JOB_RUNNING_STATUS</span><span class="p">:</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a>            <span class="n">button</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a>            <span class="n">button</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">button_text</span><span class="p">)</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a>            <span class="n">load_scenario</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">load_scenario</span><span class="p">,</span> <span class="n">running_online_scenario_uuid</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a>            <span class="p">)</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a>            <span class="n">button</span><span class="o">.</span><span class="n">pressed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">load_scenario</span><span class="p">)</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a>            <span class="n">widget</span><span class="o">.</span><span class="n">layout</span><span class="p">()</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">button</span><span class="p">)</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_message_bar</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_profile_action_group_triggered" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">on_profile_action_group_triggered</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_profile_action_group_triggered" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">on_profile_action_group_triggered</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Slot raised when the action group for profiles
has been triggered.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>action</code></td>
            <td>
                  <code><span title="qgis.PyQt.QtWidgets.QAction">QAction</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Action in the group that has been triggered.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2888">2888</a></span>
<span class="normal"><a href="#__codelineno-0-2889">2889</a></span>
<span class="normal"><a href="#__codelineno-0-2890">2890</a></span>
<span class="normal"><a href="#__codelineno-0-2891">2891</a></span>
<span class="normal"><a href="#__codelineno-0-2892">2892</a></span>
<span class="normal"><a href="#__codelineno-0-2893">2893</a></span>
<span class="normal"><a href="#__codelineno-0-2894">2894</a></span>
<span class="normal"><a href="#__codelineno-0-2895">2895</a></span>
<span class="normal"><a href="#__codelineno-0-2896">2896</a></span>
<span class="normal"><a href="#__codelineno-0-2897">2897</a></span>
<span class="normal"><a href="#__codelineno-0-2898">2898</a></span>
<span class="normal"><a href="#__codelineno-0-2899">2899</a></span>
<span class="normal"><a href="#__codelineno-0-2900">2900</a></span>
<span class="normal"><a href="#__codelineno-0-2901">2901</a></span>
<span class="normal"><a href="#__codelineno-0-2902">2902</a></span>
<span class="normal"><a href="#__codelineno-0-2903">2903</a></span>
<span class="normal"><a href="#__codelineno-0-2904">2904</a></span>
<span class="normal"><a href="#__codelineno-0-2905">2905</a></span>
<span class="normal"><a href="#__codelineno-0-2906">2906</a></span>
<span class="normal"><a href="#__codelineno-0-2907">2907</a></span>
<span class="normal"><a href="#__codelineno-0-2908">2908</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2888" name="__codelineno-0-2888"></a><span class="k">def</span> <span class="nf">on_profile_action_group_triggered</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">):</span>
<a id="__codelineno-0-2889" name="__codelineno-0-2889"></a>    <span class="sd">"""Slot raised when the action group for profiles</span>
<a id="__codelineno-0-2890" name="__codelineno-0-2890"></a><span class="sd">    has been triggered.</span>
<a id="__codelineno-0-2891" name="__codelineno-0-2891"></a>
<a id="__codelineno-0-2892" name="__codelineno-0-2892"></a><span class="sd">    :param action: Action in the group that has been triggered.</span>
<a id="__codelineno-0-2893" name="__codelineno-0-2893"></a><span class="sd">    :type action: QtWidgets.QAction</span>
<a id="__codelineno-0-2894" name="__codelineno-0-2894"></a><span class="sd">    """</span>
<a id="__codelineno-0-2895" name="__codelineno-0-2895"></a>    <span class="n">metric_profile_collection</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_metric_profile_collection</span><span class="p">()</span>
<a id="__codelineno-0-2896" name="__codelineno-0-2896"></a>    <span class="k">if</span> <span class="n">metric_profile_collection</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-2897" name="__codelineno-0-2897"></a>        <span class="k">return</span>
<a id="__codelineno-0-2898" name="__codelineno-0-2898"></a>
<a id="__codelineno-0-2899" name="__codelineno-0-2899"></a>    <span class="c1"># Set current profile</span>
<a id="__codelineno-0-2900" name="__codelineno-0-2900"></a>    <span class="n">current_profile</span> <span class="o">=</span> <span class="s2">""</span>
<a id="__codelineno-0-2901" name="__codelineno-0-2901"></a>    <span class="k">for</span> <span class="n">profile</span> <span class="ow">in</span> <span class="n">metric_profile_collection</span><span class="o">.</span><span class="n">profiles</span><span class="p">:</span>
<a id="__codelineno-0-2902" name="__codelineno-0-2902"></a>        <span class="k">if</span> <span class="n">profile</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">action</span><span class="o">.</span><span class="n">text</span><span class="p">():</span>
<a id="__codelineno-0-2903" name="__codelineno-0-2903"></a>            <span class="n">current_profile</span> <span class="o">=</span> <span class="n">profile</span><span class="o">.</span><span class="n">id</span>
<a id="__codelineno-0-2904" name="__codelineno-0-2904"></a>            <span class="k">break</span>
<a id="__codelineno-0-2905" name="__codelineno-0-2905"></a>
<a id="__codelineno-0-2906" name="__codelineno-0-2906"></a>    <span class="k">if</span> <span class="n">current_profile</span><span class="p">:</span>
<a id="__codelineno-0-2907" name="__codelineno-0-2907"></a>        <span class="n">metric_profile_collection</span><span class="o">.</span><span class="n">current_profile</span> <span class="o">=</span> <span class="n">current_profile</span>
<a id="__codelineno-0-2908" name="__codelineno-0-2908"></a>        <span class="n">settings_manager</span><span class="o">.</span><span class="n">save_metric_profile_collection</span><span class="p">(</span><span class="n">metric_profile_collection</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_progress_dialog_cancelled" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">on_progress_dialog_cancelled</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_progress_dialog_cancelled" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">on_progress_dialog_cancelled</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Slot raised when analysis has been cancelled in progress dialog.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-3072">3072</a></span>
<span class="normal"><a href="#__codelineno-0-3073">3073</a></span>
<span class="normal"><a href="#__codelineno-0-3074">3074</a></span>
<span class="normal"><a href="#__codelineno-0-3075">3075</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-3072" name="__codelineno-0-3072"></a><span class="k">def</span> <span class="nf">on_progress_dialog_cancelled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-3073" name="__codelineno-0-3073"></a>    <span class="sd">"""Slot raised when analysis has been cancelled in progress dialog."""</span>
<a id="__codelineno-0-3074" name="__codelineno-0-3074"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_scenario_btn</span><span class="o">.</span><span class="n">isEnabled</span><span class="p">():</span>
<a id="__codelineno-0-3075" name="__codelineno-0-3075"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">enable_analysis_controls</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_report_error" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">on_report_error</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_report_error" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">on_report_error</span><span class="p">(</span><span class="n">progress_dialog</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Slot raised when report task error has occured.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>progress_dialog</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ProgressDialog (src.cplus_plugin.gui.progress_dialog.ProgressDialog)" href="../api_progress_dialog/#src.cplus_plugin.gui.progress_dialog.ProgressDialog">ProgressDialog</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dialog responsible for showing all the analysis operations progress.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2976">2976</a></span>
<span class="normal"><a href="#__codelineno-0-2977">2977</a></span>
<span class="normal"><a href="#__codelineno-0-2978">2978</a></span>
<span class="normal"><a href="#__codelineno-0-2979">2979</a></span>
<span class="normal"><a href="#__codelineno-0-2980">2980</a></span>
<span class="normal"><a href="#__codelineno-0-2981">2981</a></span>
<span class="normal"><a href="#__codelineno-0-2982">2982</a></span>
<span class="normal"><a href="#__codelineno-0-2983">2983</a></span>
<span class="normal"><a href="#__codelineno-0-2984">2984</a></span>
<span class="normal"><a href="#__codelineno-0-2985">2985</a></span>
<span class="normal"><a href="#__codelineno-0-2986">2986</a></span>
<span class="normal"><a href="#__codelineno-0-2987">2987</a></span>
<span class="normal"><a href="#__codelineno-0-2988">2988</a></span>
<span class="normal"><a href="#__codelineno-0-2989">2989</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2976" name="__codelineno-0-2976"></a><span class="k">def</span> <span class="nf">on_report_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">progress_dialog</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<a id="__codelineno-0-2977" name="__codelineno-0-2977"></a>    <span class="sd">"""Slot raised when report task error has occured.</span>
<a id="__codelineno-0-2978" name="__codelineno-0-2978"></a>
<a id="__codelineno-0-2979" name="__codelineno-0-2979"></a><span class="sd">    :param progress_dialog: Dialog responsible for showing</span>
<a id="__codelineno-0-2980" name="__codelineno-0-2980"></a><span class="sd">     all the analysis operations progress.</span>
<a id="__codelineno-0-2981" name="__codelineno-0-2981"></a><span class="sd">    :type progress_dialog: ProgressDialog</span>
<a id="__codelineno-0-2982" name="__codelineno-0-2982"></a><span class="sd">    """</span>
<a id="__codelineno-0-2983" name="__codelineno-0-2983"></a>    <span class="n">progress_dialog</span><span class="o">.</span><span class="n">report_running</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-2984" name="__codelineno-0-2984"></a>    <span class="n">progress_dialog</span><span class="o">.</span><span class="n">change_status_message</span><span class="p">(</span>
<a id="__codelineno-0-2985" name="__codelineno-0-2985"></a>        <span class="n">tr</span><span class="p">(</span><span class="s2">"Error generating report, see logs for more info."</span><span class="p">)</span>
<a id="__codelineno-0-2986" name="__codelineno-0-2986"></a>    <span class="p">)</span>
<a id="__codelineno-0-2987" name="__codelineno-0-2987"></a>    <span class="n">log</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<a id="__codelineno-0-2988" name="__codelineno-0-2988"></a>
<a id="__codelineno-0-2989" name="__codelineno-0-2989"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">enable_analysis_controls</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_report_finished" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">on_report_finished</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_report_finished" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">on_report_finished</span><span class="p">(</span><span class="n">progress_dialog</span><span class="p">,</span> <span class="n">scenario_id</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Slot raised when report task has finished.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>progress_dialog</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ProgressDialog (src.cplus_plugin.gui.progress_dialog.ProgressDialog)" href="../api_progress_dialog/#src.cplus_plugin.gui.progress_dialog.ProgressDialog">ProgressDialog</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dialog responsible for showing all the analysis operations progress.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>scenario_id</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Scenario analysis id</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-3027">3027</a></span>
<span class="normal"><a href="#__codelineno-0-3028">3028</a></span>
<span class="normal"><a href="#__codelineno-0-3029">3029</a></span>
<span class="normal"><a href="#__codelineno-0-3030">3030</a></span>
<span class="normal"><a href="#__codelineno-0-3031">3031</a></span>
<span class="normal"><a href="#__codelineno-0-3032">3032</a></span>
<span class="normal"><a href="#__codelineno-0-3033">3033</a></span>
<span class="normal"><a href="#__codelineno-0-3034">3034</a></span>
<span class="normal"><a href="#__codelineno-0-3035">3035</a></span>
<span class="normal"><a href="#__codelineno-0-3036">3036</a></span>
<span class="normal"><a href="#__codelineno-0-3037">3037</a></span>
<span class="normal"><a href="#__codelineno-0-3038">3038</a></span>
<span class="normal"><a href="#__codelineno-0-3039">3039</a></span>
<span class="normal"><a href="#__codelineno-0-3040">3040</a></span>
<span class="normal"><a href="#__codelineno-0-3041">3041</a></span>
<span class="normal"><a href="#__codelineno-0-3042">3042</a></span>
<span class="normal"><a href="#__codelineno-0-3043">3043</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-3027" name="__codelineno-0-3027"></a><span class="k">def</span> <span class="nf">on_report_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">progress_dialog</span><span class="p">,</span> <span class="n">scenario_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<a id="__codelineno-0-3028" name="__codelineno-0-3028"></a>    <span class="sd">"""Slot raised when report task has finished.</span>
<a id="__codelineno-0-3029" name="__codelineno-0-3029"></a>
<a id="__codelineno-0-3030" name="__codelineno-0-3030"></a><span class="sd">    :param progress_dialog: Dialog responsible for showing</span>
<a id="__codelineno-0-3031" name="__codelineno-0-3031"></a><span class="sd">     all the analysis operations progress.</span>
<a id="__codelineno-0-3032" name="__codelineno-0-3032"></a><span class="sd">    :type progress_dialog: ProgressDialog</span>
<a id="__codelineno-0-3033" name="__codelineno-0-3033"></a>
<a id="__codelineno-0-3034" name="__codelineno-0-3034"></a><span class="sd">    :param scenario_id: Scenario analysis id</span>
<a id="__codelineno-0-3035" name="__codelineno-0-3035"></a><span class="sd">    :type scenario_id: str</span>
<a id="__codelineno-0-3036" name="__codelineno-0-3036"></a><span class="sd">    """</span>
<a id="__codelineno-0-3037" name="__codelineno-0-3037"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">report_job_is_for_current_scenario</span><span class="p">(</span><span class="n">scenario_id</span><span class="p">):</span>
<a id="__codelineno-0-3038" name="__codelineno-0-3038"></a>        <span class="k">return</span>
<a id="__codelineno-0-3039" name="__codelineno-0-3039"></a>
<a id="__codelineno-0-3040" name="__codelineno-0-3040"></a>    <span class="n">progress_dialog</span><span class="o">.</span><span class="n">set_report_complete</span><span class="p">()</span>
<a id="__codelineno-0-3041" name="__codelineno-0-3041"></a>    <span class="n">progress_dialog</span><span class="o">.</span><span class="n">change_status_message</span><span class="p">(</span><span class="n">tr</span><span class="p">(</span><span class="s2">"Report generation complete"</span><span class="p">))</span>
<a id="__codelineno-0-3042" name="__codelineno-0-3042"></a>
<a id="__codelineno-0-3043" name="__codelineno-0-3043"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">enable_analysis_controls</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_report_running" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">on_report_running</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_report_running" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">on_report_running</span><span class="p">(</span><span class="n">progress_dialog</span><span class="p">,</span> <span class="n">scenario_id</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Slot raised when report task has started.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>progress_dialog</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ProgressDialog (src.cplus_plugin.gui.progress_dialog.ProgressDialog)" href="../api_progress_dialog/#src.cplus_plugin.gui.progress_dialog.ProgressDialog">ProgressDialog</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dialog responsible for showing all the analysis operations progress.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>scenario_id</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Scenario analysis id</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2944">2944</a></span>
<span class="normal"><a href="#__codelineno-0-2945">2945</a></span>
<span class="normal"><a href="#__codelineno-0-2946">2946</a></span>
<span class="normal"><a href="#__codelineno-0-2947">2947</a></span>
<span class="normal"><a href="#__codelineno-0-2948">2948</a></span>
<span class="normal"><a href="#__codelineno-0-2949">2949</a></span>
<span class="normal"><a href="#__codelineno-0-2950">2950</a></span>
<span class="normal"><a href="#__codelineno-0-2951">2951</a></span>
<span class="normal"><a href="#__codelineno-0-2952">2952</a></span>
<span class="normal"><a href="#__codelineno-0-2953">2953</a></span>
<span class="normal"><a href="#__codelineno-0-2954">2954</a></span>
<span class="normal"><a href="#__codelineno-0-2955">2955</a></span>
<span class="normal"><a href="#__codelineno-0-2956">2956</a></span>
<span class="normal"><a href="#__codelineno-0-2957">2957</a></span>
<span class="normal"><a href="#__codelineno-0-2958">2958</a></span>
<span class="normal"><a href="#__codelineno-0-2959">2959</a></span>
<span class="normal"><a href="#__codelineno-0-2960">2960</a></span>
<span class="normal"><a href="#__codelineno-0-2961">2961</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2944" name="__codelineno-0-2944"></a><span class="k">def</span> <span class="nf">on_report_running</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">progress_dialog</span><span class="p">,</span> <span class="n">scenario_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<a id="__codelineno-0-2945" name="__codelineno-0-2945"></a>    <span class="sd">"""Slot raised when report task has started.</span>
<a id="__codelineno-0-2946" name="__codelineno-0-2946"></a>
<a id="__codelineno-0-2947" name="__codelineno-0-2947"></a><span class="sd">    :param progress_dialog: Dialog responsible for showing</span>
<a id="__codelineno-0-2948" name="__codelineno-0-2948"></a><span class="sd">     all the analysis operations progress.</span>
<a id="__codelineno-0-2949" name="__codelineno-0-2949"></a><span class="sd">    :type progress_dialog: ProgressDialog</span>
<a id="__codelineno-0-2950" name="__codelineno-0-2950"></a>
<a id="__codelineno-0-2951" name="__codelineno-0-2951"></a><span class="sd">    :param scenario_id: Scenario analysis id</span>
<a id="__codelineno-0-2952" name="__codelineno-0-2952"></a><span class="sd">    :type scenario_id: str</span>
<a id="__codelineno-0-2953" name="__codelineno-0-2953"></a><span class="sd">    """</span>
<a id="__codelineno-0-2954" name="__codelineno-0-2954"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">report_job_is_for_current_scenario</span><span class="p">(</span><span class="n">scenario_id</span><span class="p">):</span>
<a id="__codelineno-0-2955" name="__codelineno-0-2955"></a>        <span class="k">return</span>
<a id="__codelineno-0-2956" name="__codelineno-0-2956"></a>
<a id="__codelineno-0-2957" name="__codelineno-0-2957"></a>    <span class="n">progress_dialog</span><span class="o">.</span><span class="n">update_progress_bar</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-2958" name="__codelineno-0-2958"></a>    <span class="n">progress_dialog</span><span class="o">.</span><span class="n">report_running</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-2959" name="__codelineno-0-2959"></a>    <span class="n">progress_dialog</span><span class="o">.</span><span class="n">change_status_message</span><span class="p">(</span>
<a id="__codelineno-0-2960" name="__codelineno-0-2960"></a>        <span class="n">tr</span><span class="p">(</span><span class="s2">"Generating report for the analysis output"</span><span class="p">)</span>
<a id="__codelineno-0-2961" name="__codelineno-0-2961"></a>    <span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_report_status_changed" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">on_report_status_changed</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_report_status_changed" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">on_report_status_changed</span><span class="p">(</span><span class="n">progress_dialog</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Slot raised when report task status has changed.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>progress_dialog</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ProgressDialog (src.cplus_plugin.gui.progress_dialog.ProgressDialog)" href="../api_progress_dialog/#src.cplus_plugin.gui.progress_dialog.ProgressDialog">ProgressDialog</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dialog responsible for showing all the analysis operations progress.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>message</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Status message.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2963">2963</a></span>
<span class="normal"><a href="#__codelineno-0-2964">2964</a></span>
<span class="normal"><a href="#__codelineno-0-2965">2965</a></span>
<span class="normal"><a href="#__codelineno-0-2966">2966</a></span>
<span class="normal"><a href="#__codelineno-0-2967">2967</a></span>
<span class="normal"><a href="#__codelineno-0-2968">2968</a></span>
<span class="normal"><a href="#__codelineno-0-2969">2969</a></span>
<span class="normal"><a href="#__codelineno-0-2970">2970</a></span>
<span class="normal"><a href="#__codelineno-0-2971">2971</a></span>
<span class="normal"><a href="#__codelineno-0-2972">2972</a></span>
<span class="normal"><a href="#__codelineno-0-2973">2973</a></span>
<span class="normal"><a href="#__codelineno-0-2974">2974</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2963" name="__codelineno-0-2963"></a><span class="k">def</span> <span class="nf">on_report_status_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">progress_dialog</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<a id="__codelineno-0-2964" name="__codelineno-0-2964"></a>    <span class="sd">"""Slot raised when report task status has changed.</span>
<a id="__codelineno-0-2965" name="__codelineno-0-2965"></a>
<a id="__codelineno-0-2966" name="__codelineno-0-2966"></a><span class="sd">    :param progress_dialog: Dialog responsible for showing</span>
<a id="__codelineno-0-2967" name="__codelineno-0-2967"></a><span class="sd">     all the analysis operations progress.</span>
<a id="__codelineno-0-2968" name="__codelineno-0-2968"></a><span class="sd">    :type progress_dialog: ProgressDialog</span>
<a id="__codelineno-0-2969" name="__codelineno-0-2969"></a>
<a id="__codelineno-0-2970" name="__codelineno-0-2970"></a><span class="sd">    :param message: Status message.</span>
<a id="__codelineno-0-2971" name="__codelineno-0-2971"></a><span class="sd">    :type message: str</span>
<a id="__codelineno-0-2972" name="__codelineno-0-2972"></a><span class="sd">    """</span>
<a id="__codelineno-0-2973" name="__codelineno-0-2973"></a>    <span class="n">status_message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">tr</span><span class="p">(</span><span class="s1">'Report generation'</span><span class="p">)</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">..."</span>
<a id="__codelineno-0-2974" name="__codelineno-0-2974"></a>    <span class="n">progress_dialog</span><span class="o">.</span><span class="n">change_status_message</span><span class="p">(</span><span class="n">status_message</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_reporting_progress_changed" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">on_reporting_progress_changed</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_reporting_progress_changed" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">on_reporting_progress_changed</span><span class="p">(</span><span class="n">progress_dialog</span><span class="p">,</span> <span class="n">progress</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Slot raised when the reporting progress has changed.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>progress_dialog</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ProgressDialog (src.cplus_plugin.gui.progress_dialog.ProgressDialog)" href="../api_progress_dialog/#src.cplus_plugin.gui.progress_dialog.ProgressDialog">ProgressDialog</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dialog responsible for showing all the analysis operations progress.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>progress</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Analysis progress value between 0 and 100</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-3015">3015</a></span>
<span class="normal"><a href="#__codelineno-0-3016">3016</a></span>
<span class="normal"><a href="#__codelineno-0-3017">3017</a></span>
<span class="normal"><a href="#__codelineno-0-3018">3018</a></span>
<span class="normal"><a href="#__codelineno-0-3019">3019</a></span>
<span class="normal"><a href="#__codelineno-0-3020">3020</a></span>
<span class="normal"><a href="#__codelineno-0-3021">3021</a></span>
<span class="normal"><a href="#__codelineno-0-3022">3022</a></span>
<span class="normal"><a href="#__codelineno-0-3023">3023</a></span>
<span class="normal"><a href="#__codelineno-0-3024">3024</a></span>
<span class="normal"><a href="#__codelineno-0-3025">3025</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-3015" name="__codelineno-0-3015"></a><span class="k">def</span> <span class="nf">on_reporting_progress_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">progress_dialog</span><span class="p">,</span> <span class="n">progress</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
<a id="__codelineno-0-3016" name="__codelineno-0-3016"></a>    <span class="sd">"""Slot raised when the reporting progress has changed.</span>
<a id="__codelineno-0-3017" name="__codelineno-0-3017"></a>
<a id="__codelineno-0-3018" name="__codelineno-0-3018"></a><span class="sd">    :param progress_dialog: Dialog responsible for showing</span>
<a id="__codelineno-0-3019" name="__codelineno-0-3019"></a><span class="sd">     all the analysis operations progress.</span>
<a id="__codelineno-0-3020" name="__codelineno-0-3020"></a><span class="sd">    :type progress_dialog: ProgressDialog</span>
<a id="__codelineno-0-3021" name="__codelineno-0-3021"></a>
<a id="__codelineno-0-3022" name="__codelineno-0-3022"></a><span class="sd">    :param progress: Analysis progress value between 0 and 100</span>
<a id="__codelineno-0-3023" name="__codelineno-0-3023"></a><span class="sd">    :type progress: float</span>
<a id="__codelineno-0-3024" name="__codelineno-0-3024"></a><span class="sd">    """</span>
<a id="__codelineno-0-3025" name="__codelineno-0-3025"></a>    <span class="n">progress_dialog</span><span class="o">.</span><span class="n">update_progress_bar</span><span class="p">(</span><span class="n">progress</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_scenario_list_selection_changed" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">on_scenario_list_selection_changed</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_scenario_list_selection_changed" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">on_scenario_list_selection_changed</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Slot raised when the selection of scenarios changes.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1735">1735</a></span>
<span class="normal"><a href="#__codelineno-0-1736">1736</a></span>
<span class="normal"><a href="#__codelineno-0-1737">1737</a></span>
<span class="normal"><a href="#__codelineno-0-1738">1738</a></span>
<span class="normal"><a href="#__codelineno-0-1739">1739</a></span>
<span class="normal"><a href="#__codelineno-0-1740">1740</a></span>
<span class="normal"><a href="#__codelineno-0-1741">1741</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1735" name="__codelineno-0-1735"></a><span class="k">def</span> <span class="nf">on_scenario_list_selection_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-1736" name="__codelineno-0-1736"></a>    <span class="sd">"""Slot raised when the selection of scenarios changes."""</span>
<a id="__codelineno-0-1737" name="__codelineno-0-1737"></a>    <span class="n">selected_items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_list</span><span class="o">.</span><span class="n">selectedItems</span><span class="p">()</span>
<a id="__codelineno-0-1738" name="__codelineno-0-1738"></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">selected_items</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
<a id="__codelineno-0-1739" name="__codelineno-0-1739"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">comparison_report_btn</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-1740" name="__codelineno-0-1740"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-1741" name="__codelineno-0-1741"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">comparison_report_btn</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_show_metrics_wizard" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">on_show_metrics_wizard</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_show_metrics_wizard" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">on_show_metrics_wizard</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Slot raised to show the metric customization
wizard for creating the scenario analysis report.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2828">2828</a></span>
<span class="normal"><a href="#__codelineno-0-2829">2829</a></span>
<span class="normal"><a href="#__codelineno-0-2830">2830</a></span>
<span class="normal"><a href="#__codelineno-0-2831">2831</a></span>
<span class="normal"><a href="#__codelineno-0-2832">2832</a></span>
<span class="normal"><a href="#__codelineno-0-2833">2833</a></span>
<span class="normal"><a href="#__codelineno-0-2834">2834</a></span>
<span class="normal"><a href="#__codelineno-0-2835">2835</a></span>
<span class="normal"><a href="#__codelineno-0-2836">2836</a></span>
<span class="normal"><a href="#__codelineno-0-2837">2837</a></span>
<span class="normal"><a href="#__codelineno-0-2838">2838</a></span>
<span class="normal"><a href="#__codelineno-0-2839">2839</a></span>
<span class="normal"><a href="#__codelineno-0-2840">2840</a></span>
<span class="normal"><a href="#__codelineno-0-2841">2841</a></span>
<span class="normal"><a href="#__codelineno-0-2842">2842</a></span>
<span class="normal"><a href="#__codelineno-0-2843">2843</a></span>
<span class="normal"><a href="#__codelineno-0-2844">2844</a></span>
<span class="normal"><a href="#__codelineno-0-2845">2845</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2828" name="__codelineno-0-2828"></a><span class="k">def</span> <span class="nf">on_show_metrics_wizard</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-2829" name="__codelineno-0-2829"></a>    <span class="sd">"""Slot raised to show the metric customization</span>
<a id="__codelineno-0-2830" name="__codelineno-0-2830"></a><span class="sd">    wizard for creating the scenario analysis report.</span>
<a id="__codelineno-0-2831" name="__codelineno-0-2831"></a><span class="sd">    """</span>
<a id="__codelineno-0-2832" name="__codelineno-0-2832"></a>    <span class="n">metrics_builder</span> <span class="o">=</span> <span class="n">ActivityMetricsBuilder</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<a id="__codelineno-0-2833" name="__codelineno-0-2833"></a>    <span class="n">metrics_builder</span><span class="o">.</span><span class="n">activities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_activities</span><span class="p">()</span>
<a id="__codelineno-0-2834" name="__codelineno-0-2834"></a>
<a id="__codelineno-0-2835" name="__codelineno-0-2835"></a>    <span class="c1"># Load previously saved profile collection</span>
<a id="__codelineno-0-2836" name="__codelineno-0-2836"></a>    <span class="n">metric_profile_collection</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_metric_profile_collection</span><span class="p">()</span>
<a id="__codelineno-0-2837" name="__codelineno-0-2837"></a>    <span class="k">if</span> <span class="n">metric_profile_collection</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-2838" name="__codelineno-0-2838"></a>        <span class="n">metrics_builder</span><span class="o">.</span><span class="n">profile_collection</span> <span class="o">=</span> <span class="n">metric_profile_collection</span>
<a id="__codelineno-0-2839" name="__codelineno-0-2839"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-2840" name="__codelineno-0-2840"></a>        <span class="n">metrics_builder</span><span class="o">.</span><span class="n">initialize_collection</span><span class="p">()</span>
<a id="__codelineno-0-2841" name="__codelineno-0-2841"></a>
<a id="__codelineno-0-2842" name="__codelineno-0-2842"></a>    <span class="k">if</span> <span class="n">metrics_builder</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span> <span class="o">==</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QDialog</span><span class="o">.</span><span class="n">Accepted</span><span class="p">:</span>
<a id="__codelineno-0-2843" name="__codelineno-0-2843"></a>        <span class="n">metric_profile_collection</span> <span class="o">=</span> <span class="n">metrics_builder</span><span class="o">.</span><span class="n">profile_collection</span>
<a id="__codelineno-0-2844" name="__codelineno-0-2844"></a>        <span class="n">settings_manager</span><span class="o">.</span><span class="n">save_metric_profile_collection</span><span class="p">(</span><span class="n">metric_profile_collection</span><span class="p">)</span>
<a id="__codelineno-0-2845" name="__codelineno-0-2845"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_metric_button_profiles</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_tab_step_changed" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">on_tab_step_changed</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_tab_step_changed" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">on_tab_step_changed</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Slot raised when the current tab changes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>index</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Zero-based index position of new current tab</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2729">2729</a></span>
<span class="normal"><a href="#__codelineno-0-2730">2730</a></span>
<span class="normal"><a href="#__codelineno-0-2731">2731</a></span>
<span class="normal"><a href="#__codelineno-0-2732">2732</a></span>
<span class="normal"><a href="#__codelineno-0-2733">2733</a></span>
<span class="normal"><a href="#__codelineno-0-2734">2734</a></span>
<span class="normal"><a href="#__codelineno-0-2735">2735</a></span>
<span class="normal"><a href="#__codelineno-0-2736">2736</a></span>
<span class="normal"><a href="#__codelineno-0-2737">2737</a></span>
<span class="normal"><a href="#__codelineno-0-2738">2738</a></span>
<span class="normal"><a href="#__codelineno-0-2739">2739</a></span>
<span class="normal"><a href="#__codelineno-0-2740">2740</a></span>
<span class="normal"><a href="#__codelineno-0-2741">2741</a></span>
<span class="normal"><a href="#__codelineno-0-2742">2742</a></span>
<span class="normal"><a href="#__codelineno-0-2743">2743</a></span>
<span class="normal"><a href="#__codelineno-0-2744">2744</a></span>
<span class="normal"><a href="#__codelineno-0-2745">2745</a></span>
<span class="normal"><a href="#__codelineno-0-2746">2746</a></span>
<span class="normal"><a href="#__codelineno-0-2747">2747</a></span>
<span class="normal"><a href="#__codelineno-0-2748">2748</a></span>
<span class="normal"><a href="#__codelineno-0-2749">2749</a></span>
<span class="normal"><a href="#__codelineno-0-2750">2750</a></span>
<span class="normal"><a href="#__codelineno-0-2751">2751</a></span>
<span class="normal"><a href="#__codelineno-0-2752">2752</a></span>
<span class="normal"><a href="#__codelineno-0-2753">2753</a></span>
<span class="normal"><a href="#__codelineno-0-2754">2754</a></span>
<span class="normal"><a href="#__codelineno-0-2755">2755</a></span>
<span class="normal"><a href="#__codelineno-0-2756">2756</a></span>
<span class="normal"><a href="#__codelineno-0-2757">2757</a></span>
<span class="normal"><a href="#__codelineno-0-2758">2758</a></span>
<span class="normal"><a href="#__codelineno-0-2759">2759</a></span>
<span class="normal"><a href="#__codelineno-0-2760">2760</a></span>
<span class="normal"><a href="#__codelineno-0-2761">2761</a></span>
<span class="normal"><a href="#__codelineno-0-2762">2762</a></span>
<span class="normal"><a href="#__codelineno-0-2763">2763</a></span>
<span class="normal"><a href="#__codelineno-0-2764">2764</a></span>
<span class="normal"><a href="#__codelineno-0-2765">2765</a></span>
<span class="normal"><a href="#__codelineno-0-2766">2766</a></span>
<span class="normal"><a href="#__codelineno-0-2767">2767</a></span>
<span class="normal"><a href="#__codelineno-0-2768">2768</a></span>
<span class="normal"><a href="#__codelineno-0-2769">2769</a></span>
<span class="normal"><a href="#__codelineno-0-2770">2770</a></span>
<span class="normal"><a href="#__codelineno-0-2771">2771</a></span>
<span class="normal"><a href="#__codelineno-0-2772">2772</a></span>
<span class="normal"><a href="#__codelineno-0-2773">2773</a></span>
<span class="normal"><a href="#__codelineno-0-2774">2774</a></span>
<span class="normal"><a href="#__codelineno-0-2775">2775</a></span>
<span class="normal"><a href="#__codelineno-0-2776">2776</a></span>
<span class="normal"><a href="#__codelineno-0-2777">2777</a></span>
<span class="normal"><a href="#__codelineno-0-2778">2778</a></span>
<span class="normal"><a href="#__codelineno-0-2779">2779</a></span>
<span class="normal"><a href="#__codelineno-0-2780">2780</a></span>
<span class="normal"><a href="#__codelineno-0-2781">2781</a></span>
<span class="normal"><a href="#__codelineno-0-2782">2782</a></span>
<span class="normal"><a href="#__codelineno-0-2783">2783</a></span>
<span class="normal"><a href="#__codelineno-0-2784">2784</a></span>
<span class="normal"><a href="#__codelineno-0-2785">2785</a></span>
<span class="normal"><a href="#__codelineno-0-2786">2786</a></span>
<span class="normal"><a href="#__codelineno-0-2787">2787</a></span>
<span class="normal"><a href="#__codelineno-0-2788">2788</a></span>
<span class="normal"><a href="#__codelineno-0-2789">2789</a></span>
<span class="normal"><a href="#__codelineno-0-2790">2790</a></span>
<span class="normal"><a href="#__codelineno-0-2791">2791</a></span>
<span class="normal"><a href="#__codelineno-0-2792">2792</a></span>
<span class="normal"><a href="#__codelineno-0-2793">2793</a></span>
<span class="normal"><a href="#__codelineno-0-2794">2794</a></span>
<span class="normal"><a href="#__codelineno-0-2795">2795</a></span>
<span class="normal"><a href="#__codelineno-0-2796">2796</a></span>
<span class="normal"><a href="#__codelineno-0-2797">2797</a></span>
<span class="normal"><a href="#__codelineno-0-2798">2798</a></span>
<span class="normal"><a href="#__codelineno-0-2799">2799</a></span>
<span class="normal"><a href="#__codelineno-0-2800">2800</a></span>
<span class="normal"><a href="#__codelineno-0-2801">2801</a></span>
<span class="normal"><a href="#__codelineno-0-2802">2802</a></span>
<span class="normal"><a href="#__codelineno-0-2803">2803</a></span>
<span class="normal"><a href="#__codelineno-0-2804">2804</a></span>
<span class="normal"><a href="#__codelineno-0-2805">2805</a></span>
<span class="normal"><a href="#__codelineno-0-2806">2806</a></span>
<span class="normal"><a href="#__codelineno-0-2807">2807</a></span>
<span class="normal"><a href="#__codelineno-0-2808">2808</a></span>
<span class="normal"><a href="#__codelineno-0-2809">2809</a></span>
<span class="normal"><a href="#__codelineno-0-2810">2810</a></span>
<span class="normal"><a href="#__codelineno-0-2811">2811</a></span>
<span class="normal"><a href="#__codelineno-0-2812">2812</a></span>
<span class="normal"><a href="#__codelineno-0-2813">2813</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2729" name="__codelineno-0-2729"></a><span class="k">def</span> <span class="nf">on_tab_step_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<a id="__codelineno-0-2730" name="__codelineno-0-2730"></a>    <span class="sd">"""Slot raised when the current tab changes.</span>
<a id="__codelineno-0-2731" name="__codelineno-0-2731"></a>
<a id="__codelineno-0-2732" name="__codelineno-0-2732"></a><span class="sd">    :param index: Zero-based index position of new current tab</span>
<a id="__codelineno-0-2733" name="__codelineno-0-2733"></a><span class="sd">    :type index: int</span>
<a id="__codelineno-0-2734" name="__codelineno-0-2734"></a><span class="sd">    """</span>
<a id="__codelineno-0-2735" name="__codelineno-0-2735"></a>    <span class="n">activity_tab_index</span> <span class="o">=</span> <span class="mi">1</span>
<a id="__codelineno-0-2736" name="__codelineno-0-2736"></a>    <span class="n">priority_group_tab_index</span> <span class="o">=</span> <span class="mi">2</span>
<a id="__codelineno-0-2737" name="__codelineno-0-2737"></a>
<a id="__codelineno-0-2738" name="__codelineno-0-2738"></a>    <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="n">activity_tab_index</span><span class="p">:</span>
<a id="__codelineno-0-2739" name="__codelineno-0-2739"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">activity_widget</span><span class="o">.</span><span class="n">can_show_error_messages</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-2740" name="__codelineno-0-2740"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">activity_widget</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
<a id="__codelineno-0-2741" name="__codelineno-0-2741"></a>
<a id="__codelineno-0-2742" name="__codelineno-0-2742"></a>        <span class="c1"># Check if CRS is valid</span>
<a id="__codelineno-0-2743" name="__codelineno-0-2743"></a>        <span class="n">crs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">crs_selector</span><span class="o">.</span><span class="n">crs</span><span class="p">()</span>
<a id="__codelineno-0-2744" name="__codelineno-0-2744"></a>        <span class="k">if</span> <span class="n">crs</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">crs</span><span class="o">.</span><span class="n">isValid</span><span class="p">()</span> <span class="ow">or</span> <span class="n">crs</span><span class="o">.</span><span class="n">isGeographic</span><span class="p">():</span>
<a id="__codelineno-0-2745" name="__codelineno-0-2745"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span><span class="s2">"Please select a valid coordinate system."</span><span class="p">))</span>
<a id="__codelineno-0-2746" name="__codelineno-0-2746"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tab_widget</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-2747" name="__codelineno-0-2747"></a>
<a id="__codelineno-0-2748" name="__codelineno-0-2748"></a>    <span class="k">elif</span> <span class="n">index</span> <span class="o">==</span> <span class="n">priority_group_tab_index</span><span class="p">:</span>
<a id="__codelineno-0-2749" name="__codelineno-0-2749"></a>        <span class="n">tab_valid</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-2750" name="__codelineno-0-2750"></a>        <span class="n">msg</span> <span class="o">=</span> <span class="s2">""</span>
<a id="__codelineno-0-2751" name="__codelineno-0-2751"></a>
<a id="__codelineno-0-2752" name="__codelineno-0-2752"></a>        <span class="c1"># Check if NCS pathways are valid</span>
<a id="__codelineno-0-2753" name="__codelineno-0-2753"></a>        <span class="n">ncs_valid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">activity_widget</span><span class="o">.</span><span class="n">is_ncs_valid</span><span class="p">()</span>
<a id="__codelineno-0-2754" name="__codelineno-0-2754"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">ncs_valid</span><span class="p">:</span>
<a id="__codelineno-0-2755" name="__codelineno-0-2755"></a>            <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span>
<a id="__codelineno-0-2756" name="__codelineno-0-2756"></a>                <span class="s2">"NCS pathways are not valid or there is an ongoing validation process. "</span>
<a id="__codelineno-0-2757" name="__codelineno-0-2757"></a>                <span class="s2">"Use the validation inspector to see more details."</span>
<a id="__codelineno-0-2758" name="__codelineno-0-2758"></a>            <span class="p">)</span>
<a id="__codelineno-0-2759" name="__codelineno-0-2759"></a>            <span class="n">tab_valid</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-2760" name="__codelineno-0-2760"></a>
<a id="__codelineno-0-2761" name="__codelineno-0-2761"></a>        <span class="c1"># Validate activity selection</span>
<a id="__codelineno-0-2762" name="__codelineno-0-2762"></a>        <span class="n">selected_activities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">activity_widget</span><span class="o">.</span><span class="n">selected_activity_items</span><span class="p">()</span>
<a id="__codelineno-0-2763" name="__codelineno-0-2763"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">selected_activities</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-2764" name="__codelineno-0-2764"></a>            <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span><span class="s2">"Please select at least one activity."</span><span class="p">)</span>
<a id="__codelineno-0-2765" name="__codelineno-0-2765"></a>            <span class="n">tab_valid</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-2766" name="__codelineno-0-2766"></a>
<a id="__codelineno-0-2767" name="__codelineno-0-2767"></a>        <span class="c1"># Verify that the selected activities have at least one NCS pathway</span>
<a id="__codelineno-0-2768" name="__codelineno-0-2768"></a>        <span class="n">zero_pathway_activities</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-2769" name="__codelineno-0-2769"></a>        <span class="k">for</span> <span class="n">activity_item</span> <span class="ow">in</span> <span class="n">selected_activities</span><span class="p">:</span>
<a id="__codelineno-0-2770" name="__codelineno-0-2770"></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">activity_item</span><span class="o">.</span><span class="n">activity</span><span class="o">.</span><span class="n">pathways</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-2771" name="__codelineno-0-2771"></a>                <span class="n">zero_pathway_activities</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">activity_item</span><span class="o">.</span><span class="n">activity</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<a id="__codelineno-0-2772" name="__codelineno-0-2772"></a>
<a id="__codelineno-0-2773" name="__codelineno-0-2773"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">zero_pathway_activities</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-2774" name="__codelineno-0-2774"></a>            <span class="n">activity_tr</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-2775" name="__codelineno-0-2775"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span><span class="s2">"activity has"</span><span class="p">)</span>
<a id="__codelineno-0-2776" name="__codelineno-0-2776"></a>                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">zero_pathway_activities</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<a id="__codelineno-0-2777" name="__codelineno-0-2777"></a>                <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span><span class="s2">"activities have"</span><span class="p">)</span>
<a id="__codelineno-0-2778" name="__codelineno-0-2778"></a>            <span class="p">)</span>
<a id="__codelineno-0-2779" name="__codelineno-0-2779"></a>            <span class="n">tr_msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span><span class="s2">"no NCS pathways defined."</span><span class="p">)</span>
<a id="__codelineno-0-2780" name="__codelineno-0-2780"></a>            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="s1">', '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">zero_pathway_activities</span><span class="p">)</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">activity_tr</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">tr_msg</span><span class="si">}</span><span class="s2">"</span>
<a id="__codelineno-0-2781" name="__codelineno-0-2781"></a>            <span class="n">tab_valid</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-2782" name="__codelineno-0-2782"></a>
<a id="__codelineno-0-2783" name="__codelineno-0-2783"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">tab_valid</span><span class="p">:</span>
<a id="__codelineno-0-2784" name="__codelineno-0-2784"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<a id="__codelineno-0-2785" name="__codelineno-0-2785"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tab_widget</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="n">activity_tab_index</span><span class="p">)</span>
<a id="__codelineno-0-2786" name="__codelineno-0-2786"></a>
<a id="__codelineno-0-2787" name="__codelineno-0-2787"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-2788" name="__codelineno-0-2788"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">message_bar</span><span class="o">.</span><span class="n">clearWidgets</span><span class="p">()</span>
<a id="__codelineno-0-2789" name="__codelineno-0-2789"></a>
<a id="__codelineno-0-2790" name="__codelineno-0-2790"></a>    <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="n">priority_group_tab_index</span><span class="p">:</span>
<a id="__codelineno-0-2791" name="__codelineno-0-2791"></a>        <span class="n">analysis_activities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_activities</span><span class="p">()</span>
<a id="__codelineno-0-2792" name="__codelineno-0-2792"></a>        <span class="n">is_online_processing</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-2793" name="__codelineno-0-2793"></a>        <span class="k">for</span> <span class="n">activity</span> <span class="ow">in</span> <span class="n">analysis_activities</span><span class="p">:</span>
<a id="__codelineno-0-2794" name="__codelineno-0-2794"></a>            <span class="k">for</span> <span class="n">pathway</span> <span class="ow">in</span> <span class="n">activity</span><span class="o">.</span><span class="n">pathways</span><span class="p">:</span>
<a id="__codelineno-0-2795" name="__codelineno-0-2795"></a>                <span class="k">if</span> <span class="n">pathway</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"cplus://"</span><span class="p">):</span>
<a id="__codelineno-0-2796" name="__codelineno-0-2796"></a>                    <span class="n">is_online_processing</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-2797" name="__codelineno-0-2797"></a>                    <span class="k">break</span>
<a id="__codelineno-0-2798" name="__codelineno-0-2798"></a>
<a id="__codelineno-0-2799" name="__codelineno-0-2799"></a>        <span class="n">priority_layers</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_priority_layers</span><span class="p">()</span>
<a id="__codelineno-0-2800" name="__codelineno-0-2800"></a>        <span class="k">for</span> <span class="n">priority_layer</span> <span class="ow">in</span> <span class="n">priority_layers</span><span class="p">:</span>
<a id="__codelineno-0-2801" name="__codelineno-0-2801"></a>            <span class="k">if</span> <span class="n">priority_layer</span><span class="p">[</span><span class="s2">"path"</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"cplus://"</span><span class="p">):</span>
<a id="__codelineno-0-2802" name="__codelineno-0-2802"></a>                <span class="k">for</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">priority_layer</span><span class="p">[</span><span class="s2">"groups"</span><span class="p">]:</span>
<a id="__codelineno-0-2803" name="__codelineno-0-2803"></a>                    <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">group</span><span class="p">[</span><span class="s2">"value"</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-2804" name="__codelineno-0-2804"></a>                        <span class="n">is_online_processing</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-2805" name="__codelineno-0-2805"></a>                        <span class="k">break</span>
<a id="__codelineno-0-2806" name="__codelineno-0-2806"></a>
<a id="__codelineno-0-2807" name="__codelineno-0-2807"></a>        <span class="k">if</span> <span class="n">analysis_activities</span><span class="p">:</span>
<a id="__codelineno-0-2808" name="__codelineno-0-2808"></a>            <span class="k">if</span> <span class="n">is_online_processing</span><span class="p">:</span>
<a id="__codelineno-0-2809" name="__codelineno-0-2809"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">processing_type</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-2810" name="__codelineno-0-2810"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">processing_type</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-2811" name="__codelineno-0-2811"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-2812" name="__codelineno-0-2812"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">processing_type</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-2813" name="__codelineno-0-2813"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">processing_type</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_use_custom_metrics" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">on_use_custom_metrics</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_use_custom_metrics" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">on_use_custom_metrics</span><span class="p">(</span><span class="n">checked</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Slot raised when use custom metrics has been enabled or disabled.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>checked</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True to use custom metrics else False.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2819">2819</a></span>
<span class="normal"><a href="#__codelineno-0-2820">2820</a></span>
<span class="normal"><a href="#__codelineno-0-2821">2821</a></span>
<span class="normal"><a href="#__codelineno-0-2822">2822</a></span>
<span class="normal"><a href="#__codelineno-0-2823">2823</a></span>
<span class="normal"><a href="#__codelineno-0-2824">2824</a></span>
<span class="normal"><a href="#__codelineno-0-2825">2825</a></span>
<span class="normal"><a href="#__codelineno-0-2826">2826</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2819" name="__codelineno-0-2819"></a><span class="k">def</span> <span class="nf">on_use_custom_metrics</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">checked</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
<a id="__codelineno-0-2820" name="__codelineno-0-2820"></a>    <span class="sd">"""Slot raised when use custom metrics has been enabled or disabled.</span>
<a id="__codelineno-0-2821" name="__codelineno-0-2821"></a>
<a id="__codelineno-0-2822" name="__codelineno-0-2822"></a><span class="sd">    :param checked: True to use custom metrics else False.</span>
<a id="__codelineno-0-2823" name="__codelineno-0-2823"></a><span class="sd">    :type checked: bool</span>
<a id="__codelineno-0-2824" name="__codelineno-0-2824"></a><span class="sd">    """</span>
<a id="__codelineno-0-2825" name="__codelineno-0-2825"></a>    <span class="n">settings_manager</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">Settings</span><span class="o">.</span><span class="n">USE_CUSTOM_METRICS</span><span class="p">,</span> <span class="n">checked</span><span class="p">)</span>
<a id="__codelineno-0-2826" name="__codelineno-0-2826"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">btn_metric_builder</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="n">checked</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_view_status_button_clicked" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">on_view_status_button_clicked</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.on_view_status_button_clicked" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">on_view_status_button_clicked</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Handler when view status report button in tab 4 is clicked.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-214" name="__codelineno-0-214"></a><span class="k">def</span> <span class="nf">on_view_status_button_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a>    <span class="sd">"""Handler when view status report button in tab 4 is clicked."""</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a>    <span class="n">log</span><span class="p">(</span><span class="s2">"View status button"</span><span class="p">)</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a>    <span class="n">running_online_scenario_uuid</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_running_online_scenario</span><span class="p">()</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a>    <span class="n">online_task</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_scenario</span><span class="p">(</span><span class="n">running_online_scenario_uuid</span><span class="p">)</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a>    <span class="k">if</span> <span class="n">online_task</span><span class="p">:</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">load_scenario</span><span class="p">(</span><span class="n">running_online_scenario_uuid</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.open_help" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">open_help</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.open_help" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">open_help</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Opens the user documentation for the plugin in a browser</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1011">1011</a></span>
<span class="normal"><a href="#__codelineno-0-1012">1012</a></span>
<span class="normal"><a href="#__codelineno-0-1013">1013</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1011" name="__codelineno-0-1011"></a><span class="k">def</span> <span class="nf">open_help</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-1012" name="__codelineno-0-1012"></a>    <span class="sd">"""Opens the user documentation for the plugin in a browser"""</span>
<a id="__codelineno-0-1013" name="__codelineno-0-1013"></a>    <span class="n">open_documentation</span><span class="p">(</span><span class="n">USER_DOCUMENTATION_SITE</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.open_settings" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">open_settings</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.open_settings" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">open_settings</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Options the CPLUS settings in the QGIS options dialog.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2815">2815</a></span>
<span class="normal"><a href="#__codelineno-0-2816">2816</a></span>
<span class="normal"><a href="#__codelineno-0-2817">2817</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2815" name="__codelineno-0-2815"></a><span class="k">def</span> <span class="nf">open_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-2816" name="__codelineno-0-2816"></a>    <span class="sd">"""Options the CPLUS settings in the QGIS options dialog."""</span>
<a id="__codelineno-0-2817" name="__codelineno-0-2817"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">iface</span><span class="o">.</span><span class="n">showOptionsDialog</span><span class="p">(</span><span class="n">currentPage</span><span class="o">=</span><span class="n">OPTIONS_TITLE</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.outputs_options_changed" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">outputs_options_changed</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.outputs_options_changed" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">outputs_options_changed</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Handles selected outputs changes</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-259" name="__codelineno-0-259"></a><span class="k">def</span> <span class="nf">outputs_options_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a>    <span class="sd">"""</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a><span class="sd">    Handles selected outputs changes</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a><span class="sd">    """</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a>    <span class="n">settings_manager</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a>        <span class="n">Settings</span><span class="o">.</span><span class="n">NCS_WEIGHTED</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ncs_pwl_weighted</span><span class="o">.</span><span class="n">isChecked</span><span class="p">()</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a>    <span class="p">)</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a>    <span class="n">settings_manager</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a>        <span class="n">Settings</span><span class="o">.</span><span class="n">LANDUSE_PROJECT</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">landuse_project</span><span class="o">.</span><span class="n">isChecked</span><span class="p">()</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a>    <span class="p">)</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a>    <span class="n">settings_manager</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a>        <span class="n">Settings</span><span class="o">.</span><span class="n">HIGHEST_POSITION</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">highest_position</span><span class="o">.</span><span class="n">isChecked</span><span class="p">()</span>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a>    <span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.post_analysis" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">post_analysis</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.post_analysis" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">post_analysis</span><span class="p">(</span><span class="n">scenario_result</span><span class="p">,</span> <span class="n">task</span><span class="p">,</span> <span class="n">report_manager</span><span class="p">,</span> <span class="n">progress_dialog</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Handles analysis outputs from the final analysis results.
Adds the resulting scenario raster to the canvas with styling.
Adds each of the activities to the canvas with styling.
Adds each activities' pathways to the canvas.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>scenario_result</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ScenarioResult (src.cplus_plugin.models.base.ScenarioResult)" href="../../models/api_base/#src.cplus_plugin.models.base.ScenarioResult">ScenarioResult</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ScenarioResult of output results</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>task</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ScenarioAnalysisTask (src.cplus_plugin.tasks.ScenarioAnalysisTask)" href="../../core/api_tasks/#src.cplus_plugin.tasks.ScenarioAnalysisTask">ScenarioAnalysisTask</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Analysis task</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>report_manager</code></td>
            <td>
                  <code><span title="ReportManager">ReportManager</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Report manager used to generate analysis report_templates</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2311">2311</a></span>
<span class="normal"><a href="#__codelineno-0-2312">2312</a></span>
<span class="normal"><a href="#__codelineno-0-2313">2313</a></span>
<span class="normal"><a href="#__codelineno-0-2314">2314</a></span>
<span class="normal"><a href="#__codelineno-0-2315">2315</a></span>
<span class="normal"><a href="#__codelineno-0-2316">2316</a></span>
<span class="normal"><a href="#__codelineno-0-2317">2317</a></span>
<span class="normal"><a href="#__codelineno-0-2318">2318</a></span>
<span class="normal"><a href="#__codelineno-0-2319">2319</a></span>
<span class="normal"><a href="#__codelineno-0-2320">2320</a></span>
<span class="normal"><a href="#__codelineno-0-2321">2321</a></span>
<span class="normal"><a href="#__codelineno-0-2322">2322</a></span>
<span class="normal"><a href="#__codelineno-0-2323">2323</a></span>
<span class="normal"><a href="#__codelineno-0-2324">2324</a></span>
<span class="normal"><a href="#__codelineno-0-2325">2325</a></span>
<span class="normal"><a href="#__codelineno-0-2326">2326</a></span>
<span class="normal"><a href="#__codelineno-0-2327">2327</a></span>
<span class="normal"><a href="#__codelineno-0-2328">2328</a></span>
<span class="normal"><a href="#__codelineno-0-2329">2329</a></span>
<span class="normal"><a href="#__codelineno-0-2330">2330</a></span>
<span class="normal"><a href="#__codelineno-0-2331">2331</a></span>
<span class="normal"><a href="#__codelineno-0-2332">2332</a></span>
<span class="normal"><a href="#__codelineno-0-2333">2333</a></span>
<span class="normal"><a href="#__codelineno-0-2334">2334</a></span>
<span class="normal"><a href="#__codelineno-0-2335">2335</a></span>
<span class="normal"><a href="#__codelineno-0-2336">2336</a></span>
<span class="normal"><a href="#__codelineno-0-2337">2337</a></span>
<span class="normal"><a href="#__codelineno-0-2338">2338</a></span>
<span class="normal"><a href="#__codelineno-0-2339">2339</a></span>
<span class="normal"><a href="#__codelineno-0-2340">2340</a></span>
<span class="normal"><a href="#__codelineno-0-2341">2341</a></span>
<span class="normal"><a href="#__codelineno-0-2342">2342</a></span>
<span class="normal"><a href="#__codelineno-0-2343">2343</a></span>
<span class="normal"><a href="#__codelineno-0-2344">2344</a></span>
<span class="normal"><a href="#__codelineno-0-2345">2345</a></span>
<span class="normal"><a href="#__codelineno-0-2346">2346</a></span>
<span class="normal"><a href="#__codelineno-0-2347">2347</a></span>
<span class="normal"><a href="#__codelineno-0-2348">2348</a></span>
<span class="normal"><a href="#__codelineno-0-2349">2349</a></span>
<span class="normal"><a href="#__codelineno-0-2350">2350</a></span>
<span class="normal"><a href="#__codelineno-0-2351">2351</a></span>
<span class="normal"><a href="#__codelineno-0-2352">2352</a></span>
<span class="normal"><a href="#__codelineno-0-2353">2353</a></span>
<span class="normal"><a href="#__codelineno-0-2354">2354</a></span>
<span class="normal"><a href="#__codelineno-0-2355">2355</a></span>
<span class="normal"><a href="#__codelineno-0-2356">2356</a></span>
<span class="normal"><a href="#__codelineno-0-2357">2357</a></span>
<span class="normal"><a href="#__codelineno-0-2358">2358</a></span>
<span class="normal"><a href="#__codelineno-0-2359">2359</a></span>
<span class="normal"><a href="#__codelineno-0-2360">2360</a></span>
<span class="normal"><a href="#__codelineno-0-2361">2361</a></span>
<span class="normal"><a href="#__codelineno-0-2362">2362</a></span>
<span class="normal"><a href="#__codelineno-0-2363">2363</a></span>
<span class="normal"><a href="#__codelineno-0-2364">2364</a></span>
<span class="normal"><a href="#__codelineno-0-2365">2365</a></span>
<span class="normal"><a href="#__codelineno-0-2366">2366</a></span>
<span class="normal"><a href="#__codelineno-0-2367">2367</a></span>
<span class="normal"><a href="#__codelineno-0-2368">2368</a></span>
<span class="normal"><a href="#__codelineno-0-2369">2369</a></span>
<span class="normal"><a href="#__codelineno-0-2370">2370</a></span>
<span class="normal"><a href="#__codelineno-0-2371">2371</a></span>
<span class="normal"><a href="#__codelineno-0-2372">2372</a></span>
<span class="normal"><a href="#__codelineno-0-2373">2373</a></span>
<span class="normal"><a href="#__codelineno-0-2374">2374</a></span>
<span class="normal"><a href="#__codelineno-0-2375">2375</a></span>
<span class="normal"><a href="#__codelineno-0-2376">2376</a></span>
<span class="normal"><a href="#__codelineno-0-2377">2377</a></span>
<span class="normal"><a href="#__codelineno-0-2378">2378</a></span>
<span class="normal"><a href="#__codelineno-0-2379">2379</a></span>
<span class="normal"><a href="#__codelineno-0-2380">2380</a></span>
<span class="normal"><a href="#__codelineno-0-2381">2381</a></span>
<span class="normal"><a href="#__codelineno-0-2382">2382</a></span>
<span class="normal"><a href="#__codelineno-0-2383">2383</a></span>
<span class="normal"><a href="#__codelineno-0-2384">2384</a></span>
<span class="normal"><a href="#__codelineno-0-2385">2385</a></span>
<span class="normal"><a href="#__codelineno-0-2386">2386</a></span>
<span class="normal"><a href="#__codelineno-0-2387">2387</a></span>
<span class="normal"><a href="#__codelineno-0-2388">2388</a></span>
<span class="normal"><a href="#__codelineno-0-2389">2389</a></span>
<span class="normal"><a href="#__codelineno-0-2390">2390</a></span>
<span class="normal"><a href="#__codelineno-0-2391">2391</a></span>
<span class="normal"><a href="#__codelineno-0-2392">2392</a></span>
<span class="normal"><a href="#__codelineno-0-2393">2393</a></span>
<span class="normal"><a href="#__codelineno-0-2394">2394</a></span>
<span class="normal"><a href="#__codelineno-0-2395">2395</a></span>
<span class="normal"><a href="#__codelineno-0-2396">2396</a></span>
<span class="normal"><a href="#__codelineno-0-2397">2397</a></span>
<span class="normal"><a href="#__codelineno-0-2398">2398</a></span>
<span class="normal"><a href="#__codelineno-0-2399">2399</a></span>
<span class="normal"><a href="#__codelineno-0-2400">2400</a></span>
<span class="normal"><a href="#__codelineno-0-2401">2401</a></span>
<span class="normal"><a href="#__codelineno-0-2402">2402</a></span>
<span class="normal"><a href="#__codelineno-0-2403">2403</a></span>
<span class="normal"><a href="#__codelineno-0-2404">2404</a></span>
<span class="normal"><a href="#__codelineno-0-2405">2405</a></span>
<span class="normal"><a href="#__codelineno-0-2406">2406</a></span>
<span class="normal"><a href="#__codelineno-0-2407">2407</a></span>
<span class="normal"><a href="#__codelineno-0-2408">2408</a></span>
<span class="normal"><a href="#__codelineno-0-2409">2409</a></span>
<span class="normal"><a href="#__codelineno-0-2410">2410</a></span>
<span class="normal"><a href="#__codelineno-0-2411">2411</a></span>
<span class="normal"><a href="#__codelineno-0-2412">2412</a></span>
<span class="normal"><a href="#__codelineno-0-2413">2413</a></span>
<span class="normal"><a href="#__codelineno-0-2414">2414</a></span>
<span class="normal"><a href="#__codelineno-0-2415">2415</a></span>
<span class="normal"><a href="#__codelineno-0-2416">2416</a></span>
<span class="normal"><a href="#__codelineno-0-2417">2417</a></span>
<span class="normal"><a href="#__codelineno-0-2418">2418</a></span>
<span class="normal"><a href="#__codelineno-0-2419">2419</a></span>
<span class="normal"><a href="#__codelineno-0-2420">2420</a></span>
<span class="normal"><a href="#__codelineno-0-2421">2421</a></span>
<span class="normal"><a href="#__codelineno-0-2422">2422</a></span>
<span class="normal"><a href="#__codelineno-0-2423">2423</a></span>
<span class="normal"><a href="#__codelineno-0-2424">2424</a></span>
<span class="normal"><a href="#__codelineno-0-2425">2425</a></span>
<span class="normal"><a href="#__codelineno-0-2426">2426</a></span>
<span class="normal"><a href="#__codelineno-0-2427">2427</a></span>
<span class="normal"><a href="#__codelineno-0-2428">2428</a></span>
<span class="normal"><a href="#__codelineno-0-2429">2429</a></span>
<span class="normal"><a href="#__codelineno-0-2430">2430</a></span>
<span class="normal"><a href="#__codelineno-0-2431">2431</a></span>
<span class="normal"><a href="#__codelineno-0-2432">2432</a></span>
<span class="normal"><a href="#__codelineno-0-2433">2433</a></span>
<span class="normal"><a href="#__codelineno-0-2434">2434</a></span>
<span class="normal"><a href="#__codelineno-0-2435">2435</a></span>
<span class="normal"><a href="#__codelineno-0-2436">2436</a></span>
<span class="normal"><a href="#__codelineno-0-2437">2437</a></span>
<span class="normal"><a href="#__codelineno-0-2438">2438</a></span>
<span class="normal"><a href="#__codelineno-0-2439">2439</a></span>
<span class="normal"><a href="#__codelineno-0-2440">2440</a></span>
<span class="normal"><a href="#__codelineno-0-2441">2441</a></span>
<span class="normal"><a href="#__codelineno-0-2442">2442</a></span>
<span class="normal"><a href="#__codelineno-0-2443">2443</a></span>
<span class="normal"><a href="#__codelineno-0-2444">2444</a></span>
<span class="normal"><a href="#__codelineno-0-2445">2445</a></span>
<span class="normal"><a href="#__codelineno-0-2446">2446</a></span>
<span class="normal"><a href="#__codelineno-0-2447">2447</a></span>
<span class="normal"><a href="#__codelineno-0-2448">2448</a></span>
<span class="normal"><a href="#__codelineno-0-2449">2449</a></span>
<span class="normal"><a href="#__codelineno-0-2450">2450</a></span>
<span class="normal"><a href="#__codelineno-0-2451">2451</a></span>
<span class="normal"><a href="#__codelineno-0-2452">2452</a></span>
<span class="normal"><a href="#__codelineno-0-2453">2453</a></span>
<span class="normal"><a href="#__codelineno-0-2454">2454</a></span>
<span class="normal"><a href="#__codelineno-0-2455">2455</a></span>
<span class="normal"><a href="#__codelineno-0-2456">2456</a></span>
<span class="normal"><a href="#__codelineno-0-2457">2457</a></span>
<span class="normal"><a href="#__codelineno-0-2458">2458</a></span>
<span class="normal"><a href="#__codelineno-0-2459">2459</a></span>
<span class="normal"><a href="#__codelineno-0-2460">2460</a></span>
<span class="normal"><a href="#__codelineno-0-2461">2461</a></span>
<span class="normal"><a href="#__codelineno-0-2462">2462</a></span>
<span class="normal"><a href="#__codelineno-0-2463">2463</a></span>
<span class="normal"><a href="#__codelineno-0-2464">2464</a></span>
<span class="normal"><a href="#__codelineno-0-2465">2465</a></span>
<span class="normal"><a href="#__codelineno-0-2466">2466</a></span>
<span class="normal"><a href="#__codelineno-0-2467">2467</a></span>
<span class="normal"><a href="#__codelineno-0-2468">2468</a></span>
<span class="normal"><a href="#__codelineno-0-2469">2469</a></span>
<span class="normal"><a href="#__codelineno-0-2470">2470</a></span>
<span class="normal"><a href="#__codelineno-0-2471">2471</a></span>
<span class="normal"><a href="#__codelineno-0-2472">2472</a></span>
<span class="normal"><a href="#__codelineno-0-2473">2473</a></span>
<span class="normal"><a href="#__codelineno-0-2474">2474</a></span>
<span class="normal"><a href="#__codelineno-0-2475">2475</a></span>
<span class="normal"><a href="#__codelineno-0-2476">2476</a></span>
<span class="normal"><a href="#__codelineno-0-2477">2477</a></span>
<span class="normal"><a href="#__codelineno-0-2478">2478</a></span>
<span class="normal"><a href="#__codelineno-0-2479">2479</a></span>
<span class="normal"><a href="#__codelineno-0-2480">2480</a></span>
<span class="normal"><a href="#__codelineno-0-2481">2481</a></span>
<span class="normal"><a href="#__codelineno-0-2482">2482</a></span>
<span class="normal"><a href="#__codelineno-0-2483">2483</a></span>
<span class="normal"><a href="#__codelineno-0-2484">2484</a></span>
<span class="normal"><a href="#__codelineno-0-2485">2485</a></span>
<span class="normal"><a href="#__codelineno-0-2486">2486</a></span>
<span class="normal"><a href="#__codelineno-0-2487">2487</a></span>
<span class="normal"><a href="#__codelineno-0-2488">2488</a></span>
<span class="normal"><a href="#__codelineno-0-2489">2489</a></span>
<span class="normal"><a href="#__codelineno-0-2490">2490</a></span>
<span class="normal"><a href="#__codelineno-0-2491">2491</a></span>
<span class="normal"><a href="#__codelineno-0-2492">2492</a></span>
<span class="normal"><a href="#__codelineno-0-2493">2493</a></span>
<span class="normal"><a href="#__codelineno-0-2494">2494</a></span>
<span class="normal"><a href="#__codelineno-0-2495">2495</a></span>
<span class="normal"><a href="#__codelineno-0-2496">2496</a></span>
<span class="normal"><a href="#__codelineno-0-2497">2497</a></span>
<span class="normal"><a href="#__codelineno-0-2498">2498</a></span>
<span class="normal"><a href="#__codelineno-0-2499">2499</a></span>
<span class="normal"><a href="#__codelineno-0-2500">2500</a></span>
<span class="normal"><a href="#__codelineno-0-2501">2501</a></span>
<span class="normal"><a href="#__codelineno-0-2502">2502</a></span>
<span class="normal"><a href="#__codelineno-0-2503">2503</a></span>
<span class="normal"><a href="#__codelineno-0-2504">2504</a></span>
<span class="normal"><a href="#__codelineno-0-2505">2505</a></span>
<span class="normal"><a href="#__codelineno-0-2506">2506</a></span>
<span class="normal"><a href="#__codelineno-0-2507">2507</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2311" name="__codelineno-0-2311"></a><span class="k">def</span> <span class="nf">post_analysis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scenario_result</span><span class="p">,</span> <span class="n">task</span><span class="p">,</span> <span class="n">report_manager</span><span class="p">,</span> <span class="n">progress_dialog</span><span class="p">):</span>
<a id="__codelineno-0-2312" name="__codelineno-0-2312"></a>    <span class="sd">"""Handles analysis outputs from the final analysis results.</span>
<a id="__codelineno-0-2313" name="__codelineno-0-2313"></a><span class="sd">    Adds the resulting scenario raster to the canvas with styling.</span>
<a id="__codelineno-0-2314" name="__codelineno-0-2314"></a><span class="sd">    Adds each of the activities to the canvas with styling.</span>
<a id="__codelineno-0-2315" name="__codelineno-0-2315"></a><span class="sd">    Adds each activities' pathways to the canvas.</span>
<a id="__codelineno-0-2316" name="__codelineno-0-2316"></a>
<a id="__codelineno-0-2317" name="__codelineno-0-2317"></a><span class="sd">    :param scenario_result: ScenarioResult of output results</span>
<a id="__codelineno-0-2318" name="__codelineno-0-2318"></a><span class="sd">    :type scenario_result: ScenarioResult</span>
<a id="__codelineno-0-2319" name="__codelineno-0-2319"></a>
<a id="__codelineno-0-2320" name="__codelineno-0-2320"></a><span class="sd">    :param task: Analysis task</span>
<a id="__codelineno-0-2321" name="__codelineno-0-2321"></a><span class="sd">    :type task: ScenarioAnalysisTask</span>
<a id="__codelineno-0-2322" name="__codelineno-0-2322"></a>
<a id="__codelineno-0-2323" name="__codelineno-0-2323"></a><span class="sd">    :param report_manager: Report manager used to generate analysis report_templates</span>
<a id="__codelineno-0-2324" name="__codelineno-0-2324"></a><span class="sd">    :type report_manager: ReportManager</span>
<a id="__codelineno-0-2325" name="__codelineno-0-2325"></a><span class="sd">    """</span>
<a id="__codelineno-0-2326" name="__codelineno-0-2326"></a>
<a id="__codelineno-0-2327" name="__codelineno-0-2327"></a>    <span class="c1"># If the processing were stopped, no file will be added</span>
<a id="__codelineno-0-2328" name="__codelineno-0-2328"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">processing_cancelled</span> <span class="ow">and</span> <span class="n">scenario_result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-2329" name="__codelineno-0-2329"></a>        <span class="n">list_activities</span> <span class="o">=</span> <span class="n">scenario_result</span><span class="o">.</span><span class="n">scenario</span><span class="o">.</span><span class="n">activities</span>
<a id="__codelineno-0-2330" name="__codelineno-0-2330"></a>        <span class="k">if</span> <span class="n">task</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-2331" name="__codelineno-0-2331"></a>            <span class="n">activities</span> <span class="o">=</span> <span class="n">task</span><span class="o">.</span><span class="n">analysis_activities</span>
<a id="__codelineno-0-2332" name="__codelineno-0-2332"></a>        <span class="k">elif</span> <span class="n">scenario_result</span><span class="o">.</span><span class="n">scenario</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-2333" name="__codelineno-0-2333"></a>            <span class="n">activities</span> <span class="o">=</span> <span class="n">scenario_result</span><span class="o">.</span><span class="n">scenario</span><span class="o">.</span><span class="n">activities</span>
<a id="__codelineno-0-2334" name="__codelineno-0-2334"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-2335" name="__codelineno-0-2335"></a>            <span class="n">activities</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-2336" name="__codelineno-0-2336"></a>        <span class="n">raster</span> <span class="o">=</span> <span class="n">scenario_result</span><span class="o">.</span><span class="n">analysis_output</span><span class="p">[</span><span class="s2">"OUTPUT"</span><span class="p">]</span>
<a id="__codelineno-0-2337" name="__codelineno-0-2337"></a>        <span class="n">activities_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">raster</span><span class="p">),</span> <span class="s2">"activities"</span><span class="p">)</span>
<a id="__codelineno-0-2338" name="__codelineno-0-2338"></a>
<a id="__codelineno-0-2339" name="__codelineno-0-2339"></a>        <span class="c1"># Layer options</span>
<a id="__codelineno-0-2340" name="__codelineno-0-2340"></a>        <span class="n">load_weighted_ncs</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span>
<a id="__codelineno-0-2341" name="__codelineno-0-2341"></a>            <span class="n">Settings</span><span class="o">.</span><span class="n">NCS_WEIGHTED</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">setting_type</span><span class="o">=</span><span class="nb">bool</span>
<a id="__codelineno-0-2342" name="__codelineno-0-2342"></a>        <span class="p">)</span>
<a id="__codelineno-0-2343" name="__codelineno-0-2343"></a>        <span class="n">load_landuse</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span>
<a id="__codelineno-0-2344" name="__codelineno-0-2344"></a>            <span class="n">Settings</span><span class="o">.</span><span class="n">LANDUSE_PROJECT</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">setting_type</span><span class="o">=</span><span class="nb">bool</span>
<a id="__codelineno-0-2345" name="__codelineno-0-2345"></a>        <span class="p">)</span>
<a id="__codelineno-0-2346" name="__codelineno-0-2346"></a>        <span class="n">load_highest_position</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span>
<a id="__codelineno-0-2347" name="__codelineno-0-2347"></a>            <span class="n">Settings</span><span class="o">.</span><span class="n">HIGHEST_POSITION</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">setting_type</span><span class="o">=</span><span class="nb">bool</span>
<a id="__codelineno-0-2348" name="__codelineno-0-2348"></a>        <span class="p">)</span>
<a id="__codelineno-0-2349" name="__codelineno-0-2349"></a>
<a id="__codelineno-0-2350" name="__codelineno-0-2350"></a>        <span class="n">scenario_name</span> <span class="o">=</span> <span class="n">scenario_result</span><span class="o">.</span><span class="n">scenario</span><span class="o">.</span><span class="n">name</span>
<a id="__codelineno-0-2351" name="__codelineno-0-2351"></a>        <span class="n">qgis_instance</span> <span class="o">=</span> <span class="n">QgsProject</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span>
<a id="__codelineno-0-2352" name="__codelineno-0-2352"></a>        <span class="n">instance_root</span> <span class="o">=</span> <span class="n">qgis_instance</span><span class="o">.</span><span class="n">layerTreeRoot</span><span class="p">()</span>
<a id="__codelineno-0-2353" name="__codelineno-0-2353"></a>
<a id="__codelineno-0-2354" name="__codelineno-0-2354"></a>        <span class="c1"># Check if there are other groups for the scenario</span>
<a id="__codelineno-0-2355" name="__codelineno-0-2355"></a>        <span class="c1"># and assign a suffix.</span>
<a id="__codelineno-0-2356" name="__codelineno-0-2356"></a>        <span class="n">counter</span> <span class="o">=</span> <span class="mi">1</span>
<a id="__codelineno-0-2357" name="__codelineno-0-2357"></a>        <span class="n">group_name</span> <span class="o">=</span> <span class="n">scenario_name</span>
<a id="__codelineno-0-2358" name="__codelineno-0-2358"></a>
<a id="__codelineno-0-2359" name="__codelineno-0-2359"></a>        <span class="c1"># Control to prevent infinite loop</span>
<a id="__codelineno-0-2360" name="__codelineno-0-2360"></a>        <span class="n">max_limit</span> <span class="o">=</span> <span class="mi">100</span>
<a id="__codelineno-0-2361" name="__codelineno-0-2361"></a>        <span class="k">while</span> <span class="kc">True</span> <span class="ow">and</span> <span class="n">counter</span> <span class="o">&lt;=</span> <span class="n">max_limit</span><span class="p">:</span>
<a id="__codelineno-0-2362" name="__codelineno-0-2362"></a>            <span class="n">scenario_grp</span> <span class="o">=</span> <span class="n">instance_root</span><span class="o">.</span><span class="n">findGroup</span><span class="p">(</span><span class="n">group_name</span><span class="p">)</span>
<a id="__codelineno-0-2363" name="__codelineno-0-2363"></a>            <span class="k">if</span> <span class="n">scenario_grp</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-2364" name="__codelineno-0-2364"></a>                <span class="k">break</span>
<a id="__codelineno-0-2365" name="__codelineno-0-2365"></a>            <span class="n">group_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">scenario_name</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">counter</span><span class="si">!s}</span><span class="s2">"</span>
<a id="__codelineno-0-2366" name="__codelineno-0-2366"></a>            <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-0-2367" name="__codelineno-0-2367"></a>
<a id="__codelineno-0-2368" name="__codelineno-0-2368"></a>        <span class="c1"># Groups</span>
<a id="__codelineno-0-2369" name="__codelineno-0-2369"></a>        <span class="n">activity_group</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-2370" name="__codelineno-0-2370"></a>        <span class="n">pathways_group</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-2371" name="__codelineno-0-2371"></a>
<a id="__codelineno-0-2372" name="__codelineno-0-2372"></a>        <span class="n">scenario_group</span> <span class="o">=</span> <span class="n">instance_root</span><span class="o">.</span><span class="n">insertGroup</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">group_name</span><span class="p">)</span>
<a id="__codelineno-0-2373" name="__codelineno-0-2373"></a>        <span class="k">if</span> <span class="n">load_landuse</span><span class="p">:</span>
<a id="__codelineno-0-2374" name="__codelineno-0-2374"></a>            <span class="n">activity_group</span> <span class="o">=</span> <span class="n">scenario_group</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">tr</span><span class="p">(</span><span class="n">ACTIVITY_GROUP_LAYER_NAME</span><span class="p">))</span>
<a id="__codelineno-0-2375" name="__codelineno-0-2375"></a>        <span class="k">if</span> <span class="n">load_weighted_ncs</span><span class="p">:</span>
<a id="__codelineno-0-2376" name="__codelineno-0-2376"></a>            <span class="n">pathways_group</span> <span class="o">=</span> <span class="n">scenario_group</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span>
<a id="__codelineno-0-2377" name="__codelineno-0-2377"></a>                <span class="n">tr</span><span class="p">(</span><span class="n">NCS_PATHWAYS_WEIGHTED_GROUP_LAYER_NAME</span><span class="p">)</span>
<a id="__codelineno-0-2378" name="__codelineno-0-2378"></a>            <span class="p">)</span>
<a id="__codelineno-0-2379" name="__codelineno-0-2379"></a>            <span class="n">pathways_group</span><span class="o">.</span><span class="n">setExpanded</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-2380" name="__codelineno-0-2380"></a>            <span class="n">pathways_group</span><span class="o">.</span><span class="n">setItemVisibilityCheckedRecursive</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-2381" name="__codelineno-0-2381"></a>
<a id="__codelineno-0-2382" name="__codelineno-0-2382"></a>        <span class="c1"># Group settings</span>
<a id="__codelineno-0-2383" name="__codelineno-0-2383"></a>        <span class="n">activity_group</span><span class="o">.</span><span class="n">setExpanded</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span> <span class="k">if</span> <span class="n">activity_group</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-2384" name="__codelineno-0-2384"></a>
<a id="__codelineno-0-2385" name="__codelineno-0-2385"></a>        <span class="c1"># Add scenario result layer to the canvas with styling</span>
<a id="__codelineno-0-2386" name="__codelineno-0-2386"></a>        <span class="n">layer_file</span> <span class="o">=</span> <span class="n">scenario_result</span><span class="o">.</span><span class="n">analysis_output</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"OUTPUT"</span><span class="p">)</span>
<a id="__codelineno-0-2387" name="__codelineno-0-2387"></a>        <span class="n">layer_dt</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-2388" name="__codelineno-0-2388"></a>            <span class="n">scenario_result</span><span class="o">.</span><span class="n">created_date</span>
<a id="__codelineno-0-2389" name="__codelineno-0-2389"></a>            <span class="k">if</span> <span class="n">scenario_result</span><span class="o">.</span><span class="n">created_date</span>
<a id="__codelineno-0-2390" name="__codelineno-0-2390"></a>            <span class="k">else</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<a id="__codelineno-0-2391" name="__codelineno-0-2391"></a>        <span class="p">)</span>
<a id="__codelineno-0-2392" name="__codelineno-0-2392"></a>        <span class="n">layer_name</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-2393" name="__codelineno-0-2393"></a>            <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">SCENARIO_OUTPUT_LAYER_NAME</span><span class="si">}</span><span class="s2">_"</span>
<a id="__codelineno-0-2394" name="__codelineno-0-2394"></a>            <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">layer_dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">"%Y_%m_</span><span class="si">%d</span><span class="s2">_%H_%M_%S"</span><span class="p">)</span><span class="si">}</span><span class="s1">'</span>
<a id="__codelineno-0-2395" name="__codelineno-0-2395"></a>        <span class="p">)</span>
<a id="__codelineno-0-2396" name="__codelineno-0-2396"></a>
<a id="__codelineno-0-2397" name="__codelineno-0-2397"></a>        <span class="k">if</span> <span class="p">(</span>
<a id="__codelineno-0-2398" name="__codelineno-0-2398"></a>            <span class="n">scenario_result</span><span class="o">.</span><span class="n">output_layer_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<a id="__codelineno-0-2399" name="__codelineno-0-2399"></a>            <span class="ow">and</span> <span class="n">scenario_result</span><span class="o">.</span><span class="n">output_layer_name</span> <span class="o">!=</span> <span class="s2">""</span>
<a id="__codelineno-0-2400" name="__codelineno-0-2400"></a>        <span class="p">):</span>
<a id="__codelineno-0-2401" name="__codelineno-0-2401"></a>            <span class="n">layer_name</span> <span class="o">=</span> <span class="n">scenario_result</span><span class="o">.</span><span class="n">output_layer_name</span>
<a id="__codelineno-0-2402" name="__codelineno-0-2402"></a>
<a id="__codelineno-0-2403" name="__codelineno-0-2403"></a>        <span class="k">if</span> <span class="p">(</span>
<a id="__codelineno-0-2404" name="__codelineno-0-2404"></a>            <span class="n">scenario_result</span><span class="o">.</span><span class="n">output_layer_name</span> <span class="ow">is</span> <span class="kc">None</span>
<a id="__codelineno-0-2405" name="__codelineno-0-2405"></a>            <span class="ow">or</span> <span class="n">scenario_result</span><span class="o">.</span><span class="n">output_layer_name</span> <span class="ow">is</span> <span class="s2">""</span>
<a id="__codelineno-0-2406" name="__codelineno-0-2406"></a>        <span class="p">):</span>
<a id="__codelineno-0-2407" name="__codelineno-0-2407"></a>            <span class="n">scenario_result</span><span class="o">.</span><span class="n">output_layer_name</span> <span class="o">=</span> <span class="n">layer_name</span>
<a id="__codelineno-0-2408" name="__codelineno-0-2408"></a>
<a id="__codelineno-0-2409" name="__codelineno-0-2409"></a>        <span class="n">layer</span> <span class="o">=</span> <span class="n">QgsRasterLayer</span><span class="p">(</span><span class="n">layer_file</span><span class="p">,</span> <span class="n">layer_name</span><span class="p">,</span> <span class="n">QGIS_GDAL_PROVIDER</span><span class="p">)</span>
<a id="__codelineno-0-2410" name="__codelineno-0-2410"></a>        <span class="n">scenario_layer</span> <span class="o">=</span> <span class="n">qgis_instance</span><span class="o">.</span><span class="n">addMapLayer</span><span class="p">(</span><span class="n">layer</span><span class="p">)</span>
<a id="__codelineno-0-2411" name="__codelineno-0-2411"></a>
<a id="__codelineno-0-2412" name="__codelineno-0-2412"></a>        <span class="c1"># Scenario result layer styling</span>
<a id="__codelineno-0-2413" name="__codelineno-0-2413"></a>        <span class="n">renderer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">style_activities_layer</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">activities</span><span class="p">)</span>
<a id="__codelineno-0-2414" name="__codelineno-0-2414"></a>        <span class="n">layer</span><span class="o">.</span><span class="n">setRenderer</span><span class="p">(</span><span class="n">renderer</span><span class="p">)</span>
<a id="__codelineno-0-2415" name="__codelineno-0-2415"></a>        <span class="n">layer</span><span class="o">.</span><span class="n">triggerRepaint</span><span class="p">()</span>
<a id="__codelineno-0-2416" name="__codelineno-0-2416"></a>
<a id="__codelineno-0-2417" name="__codelineno-0-2417"></a>        <span class="sd">"""A workaround to add a layer to a group.</span>
<a id="__codelineno-0-2418" name="__codelineno-0-2418"></a><span class="sd">        Adding it using group.insertChildNode or group.addLayer causes issues,</span>
<a id="__codelineno-0-2419" name="__codelineno-0-2419"></a><span class="sd">        but adding to the root is fine.</span>
<a id="__codelineno-0-2420" name="__codelineno-0-2420"></a><span class="sd">        This approach adds it to the root, and then moves it to the group.</span>
<a id="__codelineno-0-2421" name="__codelineno-0-2421"></a><span class="sd">        """</span>
<a id="__codelineno-0-2422" name="__codelineno-0-2422"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">move_layer_to_group</span><span class="p">(</span><span class="n">scenario_layer</span><span class="p">,</span> <span class="n">scenario_group</span><span class="p">)</span>
<a id="__codelineno-0-2423" name="__codelineno-0-2423"></a>
<a id="__codelineno-0-2424" name="__codelineno-0-2424"></a>        <span class="c1"># Add activities and pathways</span>
<a id="__codelineno-0-2425" name="__codelineno-0-2425"></a>        <span class="n">activity_index</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-2426" name="__codelineno-0-2426"></a>        <span class="k">if</span> <span class="n">load_landuse</span><span class="p">:</span>
<a id="__codelineno-0-2427" name="__codelineno-0-2427"></a>            <span class="k">for</span> <span class="n">activity</span> <span class="ow">in</span> <span class="n">list_activities</span><span class="p">:</span>
<a id="__codelineno-0-2428" name="__codelineno-0-2428"></a>                <span class="n">activity_name</span> <span class="o">=</span> <span class="n">activity</span><span class="o">.</span><span class="n">name</span>
<a id="__codelineno-0-2429" name="__codelineno-0-2429"></a>                <span class="n">activity_layer</span> <span class="o">=</span> <span class="n">QgsRasterLayer</span><span class="p">(</span><span class="n">activity</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">activity</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<a id="__codelineno-0-2430" name="__codelineno-0-2430"></a>                <span class="n">activity_layer</span><span class="o">.</span><span class="n">setCustomProperty</span><span class="p">(</span>
<a id="__codelineno-0-2431" name="__codelineno-0-2431"></a>                    <span class="n">ACTIVITY_IDENTIFIER_PROPERTY</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">activity</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span>
<a id="__codelineno-0-2432" name="__codelineno-0-2432"></a>                <span class="p">)</span>
<a id="__codelineno-0-2433" name="__codelineno-0-2433"></a>                <span class="n">list_pathways</span> <span class="o">=</span> <span class="n">activity</span><span class="o">.</span><span class="n">pathways</span>
<a id="__codelineno-0-2434" name="__codelineno-0-2434"></a>
<a id="__codelineno-0-2435" name="__codelineno-0-2435"></a>                <span class="c1"># Add activity layer with styling, if available</span>
<a id="__codelineno-0-2436" name="__codelineno-0-2436"></a>                <span class="k">if</span> <span class="n">activity_layer</span><span class="p">:</span>
<a id="__codelineno-0-2437" name="__codelineno-0-2437"></a>                    <span class="n">renderer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">style_activity_layer</span><span class="p">(</span><span class="n">activity_layer</span><span class="p">,</span> <span class="n">activity</span><span class="p">)</span>
<a id="__codelineno-0-2438" name="__codelineno-0-2438"></a>
<a id="__codelineno-0-2439" name="__codelineno-0-2439"></a>                    <span class="n">added_activity_layer</span> <span class="o">=</span> <span class="n">qgis_instance</span><span class="o">.</span><span class="n">addMapLayer</span><span class="p">(</span><span class="n">activity_layer</span><span class="p">)</span>
<a id="__codelineno-0-2440" name="__codelineno-0-2440"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">move_layer_to_group</span><span class="p">(</span><span class="n">added_activity_layer</span><span class="p">,</span> <span class="n">activity_group</span><span class="p">)</span>
<a id="__codelineno-0-2441" name="__codelineno-0-2441"></a>
<a id="__codelineno-0-2442" name="__codelineno-0-2442"></a>                    <span class="n">activity_layer</span><span class="o">.</span><span class="n">setRenderer</span><span class="p">(</span><span class="n">renderer</span><span class="p">)</span>
<a id="__codelineno-0-2443" name="__codelineno-0-2443"></a>                    <span class="n">activity_layer</span><span class="o">.</span><span class="n">triggerRepaint</span><span class="p">()</span>
<a id="__codelineno-0-2444" name="__codelineno-0-2444"></a>
<a id="__codelineno-0-2445" name="__codelineno-0-2445"></a>                <span class="c1"># Add activity pathways</span>
<a id="__codelineno-0-2446" name="__codelineno-0-2446"></a>                <span class="k">if</span> <span class="n">load_weighted_ncs</span><span class="p">:</span>
<a id="__codelineno-0-2447" name="__codelineno-0-2447"></a>                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_pathways</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-2448" name="__codelineno-0-2448"></a>                        <span class="n">activity_pathway_group</span> <span class="o">=</span> <span class="n">pathways_group</span><span class="o">.</span><span class="n">insertGroup</span><span class="p">(</span>
<a id="__codelineno-0-2449" name="__codelineno-0-2449"></a>                            <span class="n">activity_index</span><span class="p">,</span> <span class="n">activity_name</span>
<a id="__codelineno-0-2450" name="__codelineno-0-2450"></a>                        <span class="p">)</span>
<a id="__codelineno-0-2451" name="__codelineno-0-2451"></a>                        <span class="n">activity_pathway_group</span><span class="o">.</span><span class="n">setExpanded</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-2452" name="__codelineno-0-2452"></a>
<a id="__codelineno-0-2453" name="__codelineno-0-2453"></a>                        <span class="n">pw_index</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-2454" name="__codelineno-0-2454"></a>                        <span class="k">for</span> <span class="n">pathway</span> <span class="ow">in</span> <span class="n">list_pathways</span><span class="p">:</span>
<a id="__codelineno-0-2455" name="__codelineno-0-2455"></a>                            <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-2456" name="__codelineno-0-2456"></a>                                <span class="c1"># pathway_name = pathway.name</span>
<a id="__codelineno-0-2457" name="__codelineno-0-2457"></a>                                <span class="n">pathway_layer</span> <span class="o">=</span> <span class="n">pathway</span><span class="o">.</span><span class="n">to_map_layer</span><span class="p">()</span>
<a id="__codelineno-0-2458" name="__codelineno-0-2458"></a>
<a id="__codelineno-0-2459" name="__codelineno-0-2459"></a>                                <span class="n">added_pw_layer</span> <span class="o">=</span> <span class="n">qgis_instance</span><span class="o">.</span><span class="n">addMapLayer</span><span class="p">(</span>
<a id="__codelineno-0-2460" name="__codelineno-0-2460"></a>                                    <span class="n">pathway_layer</span>
<a id="__codelineno-0-2461" name="__codelineno-0-2461"></a>                                <span class="p">)</span>
<a id="__codelineno-0-2462" name="__codelineno-0-2462"></a>                                <span class="bp">self</span><span class="o">.</span><span class="n">move_layer_to_group</span><span class="p">(</span>
<a id="__codelineno-0-2463" name="__codelineno-0-2463"></a>                                    <span class="n">added_pw_layer</span><span class="p">,</span> <span class="n">activity_pathway_group</span>
<a id="__codelineno-0-2464" name="__codelineno-0-2464"></a>                                <span class="p">)</span>
<a id="__codelineno-0-2465" name="__codelineno-0-2465"></a>
<a id="__codelineno-0-2466" name="__codelineno-0-2466"></a>                                <span class="n">pathway_layer</span><span class="o">.</span><span class="n">triggerRepaint</span><span class="p">()</span>
<a id="__codelineno-0-2467" name="__codelineno-0-2467"></a>
<a id="__codelineno-0-2468" name="__codelineno-0-2468"></a>                                <span class="n">pw_index</span> <span class="o">=</span> <span class="n">pw_index</span> <span class="o">+</span> <span class="mi">1</span>
<a id="__codelineno-0-2469" name="__codelineno-0-2469"></a>                            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
<a id="__codelineno-0-2470" name="__codelineno-0-2470"></a>                                <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-2471" name="__codelineno-0-2471"></a>                                    <span class="n">tr</span><span class="p">(</span>
<a id="__codelineno-0-2472" name="__codelineno-0-2472"></a>                                        <span class="s2">"An error occurred loading a pathway, "</span>
<a id="__codelineno-0-2473" name="__codelineno-0-2473"></a>                                        <span class="s2">"check logs for more information"</span>
<a id="__codelineno-0-2474" name="__codelineno-0-2474"></a>                                    <span class="p">),</span>
<a id="__codelineno-0-2475" name="__codelineno-0-2475"></a>                                    <span class="n">level</span><span class="o">=</span><span class="n">Qgis</span><span class="o">.</span><span class="n">Info</span><span class="p">,</span>
<a id="__codelineno-0-2476" name="__codelineno-0-2476"></a>                                <span class="p">)</span>
<a id="__codelineno-0-2477" name="__codelineno-0-2477"></a>                                <span class="n">log</span><span class="p">(</span>
<a id="__codelineno-0-2478" name="__codelineno-0-2478"></a>                                    <span class="n">tr</span><span class="p">(</span>
<a id="__codelineno-0-2479" name="__codelineno-0-2479"></a>                                        <span class="s2">"An error occurred loading a pathway, "</span>
<a id="__codelineno-0-2480" name="__codelineno-0-2480"></a>                                        <span class="s1">'scenario analysis, error message "</span><span class="si">{}</span><span class="s1">"'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
<a id="__codelineno-0-2481" name="__codelineno-0-2481"></a>                                            <span class="n">err</span>
<a id="__codelineno-0-2482" name="__codelineno-0-2482"></a>                                        <span class="p">)</span>
<a id="__codelineno-0-2483" name="__codelineno-0-2483"></a>                                    <span class="p">)</span>
<a id="__codelineno-0-2484" name="__codelineno-0-2484"></a>                                <span class="p">)</span>
<a id="__codelineno-0-2485" name="__codelineno-0-2485"></a>
<a id="__codelineno-0-2486" name="__codelineno-0-2486"></a>                <span class="n">activity_index</span> <span class="o">=</span> <span class="n">activity_index</span> <span class="o">+</span> <span class="mi">1</span>
<a id="__codelineno-0-2487" name="__codelineno-0-2487"></a>
<a id="__codelineno-0-2488" name="__codelineno-0-2488"></a>        <span class="c1"># Initiate report generation</span>
<a id="__codelineno-0-2489" name="__codelineno-0-2489"></a>        <span class="k">if</span> <span class="n">load_landuse</span> <span class="ow">and</span> <span class="n">load_highest_position</span><span class="p">:</span>
<a id="__codelineno-0-2490" name="__codelineno-0-2490"></a>            <span class="p">(</span>
<a id="__codelineno-0-2491" name="__codelineno-0-2491"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">run_report</span><span class="p">(</span><span class="n">progress_dialog</span><span class="p">,</span> <span class="n">report_manager</span><span class="p">)</span>
<a id="__codelineno-0-2492" name="__codelineno-0-2492"></a>                <span class="k">if</span> <span class="p">(</span><span class="n">progress_dialog</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">report_manager</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-2493" name="__codelineno-0-2493"></a>                <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-2494" name="__codelineno-0-2494"></a>            <span class="p">)</span>
<a id="__codelineno-0-2495" name="__codelineno-0-2495"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-2496" name="__codelineno-0-2496"></a>            <span class="p">(</span>
<a id="__codelineno-0-2497" name="__codelineno-0-2497"></a>                <span class="n">progress_dialog</span><span class="o">.</span><span class="n">processing_finished</span><span class="p">()</span>
<a id="__codelineno-0-2498" name="__codelineno-0-2498"></a>                <span class="k">if</span> <span class="n">progress_dialog</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<a id="__codelineno-0-2499" name="__codelineno-0-2499"></a>                <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-2500" name="__codelineno-0-2500"></a>            <span class="p">)</span>
<a id="__codelineno-0-2501" name="__codelineno-0-2501"></a>
<a id="__codelineno-0-2502" name="__codelineno-0-2502"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-2503" name="__codelineno-0-2503"></a>        <span class="c1"># Re-initializes variables if processing were cancelled by the user</span>
<a id="__codelineno-0-2504" name="__codelineno-0-2504"></a>        <span class="c1"># Not doing this breaks the processing if a user tries to run</span>
<a id="__codelineno-0-2505" name="__codelineno-0-2505"></a>        <span class="c1"># the processing after cancelling or if the processing fails</span>
<a id="__codelineno-0-2506" name="__codelineno-0-2506"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">position_feedback</span> <span class="o">=</span> <span class="n">QgsProcessingFeedback</span><span class="p">()</span>
<a id="__codelineno-0-2507" name="__codelineno-0-2507"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">processing_context</span> <span class="o">=</span> <span class="n">QgsProcessingContext</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.prepare_aoi_box" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">prepare_aoi_box</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.prepare_aoi_box" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">prepare_aoi_box</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Initialize the Area of interest box</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2701">2701</a></span>
<span class="normal"><a href="#__codelineno-0-2702">2702</a></span>
<span class="normal"><a href="#__codelineno-0-2703">2703</a></span>
<span class="normal"><a href="#__codelineno-0-2704">2704</a></span>
<span class="normal"><a href="#__codelineno-0-2705">2705</a></span>
<span class="normal"><a href="#__codelineno-0-2706">2706</a></span>
<span class="normal"><a href="#__codelineno-0-2707">2707</a></span>
<span class="normal"><a href="#__codelineno-0-2708">2708</a></span>
<span class="normal"><a href="#__codelineno-0-2709">2709</a></span>
<span class="normal"><a href="#__codelineno-0-2710">2710</a></span>
<span class="normal"><a href="#__codelineno-0-2711">2711</a></span>
<span class="normal"><a href="#__codelineno-0-2712">2712</a></span>
<span class="normal"><a href="#__codelineno-0-2713">2713</a></span>
<span class="normal"><a href="#__codelineno-0-2714">2714</a></span>
<span class="normal"><a href="#__codelineno-0-2715">2715</a></span>
<span class="normal"><a href="#__codelineno-0-2716">2716</a></span>
<span class="normal"><a href="#__codelineno-0-2717">2717</a></span>
<span class="normal"><a href="#__codelineno-0-2718">2718</a></span>
<span class="normal"><a href="#__codelineno-0-2719">2719</a></span>
<span class="normal"><a href="#__codelineno-0-2720">2720</a></span>
<span class="normal"><a href="#__codelineno-0-2721">2721</a></span>
<span class="normal"><a href="#__codelineno-0-2722">2722</a></span>
<span class="normal"><a href="#__codelineno-0-2723">2723</a></span>
<span class="normal"><a href="#__codelineno-0-2724">2724</a></span>
<span class="normal"><a href="#__codelineno-0-2725">2725</a></span>
<span class="normal"><a href="#__codelineno-0-2726">2726</a></span>
<span class="normal"><a href="#__codelineno-0-2727">2727</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2701" name="__codelineno-0-2701"></a><span class="k">def</span> <span class="nf">prepare_aoi_box</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-2702" name="__codelineno-0-2702"></a>    <span class="sd">"""Initialize the Area of interest box"""</span>
<a id="__codelineno-0-2703" name="__codelineno-0-2703"></a>    <span class="c1"># Area of Interest</span>
<a id="__codelineno-0-2704" name="__codelineno-0-2704"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_aoi_source_group</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QButtonGroup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<a id="__codelineno-0-2705" name="__codelineno-0-2705"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_aoi_source_group</span><span class="o">.</span><span class="n">setExclusive</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-2706" name="__codelineno-0-2706"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_aoi_source_group</span><span class="o">.</span><span class="n">addButton</span><span class="p">(</span>
<a id="__codelineno-0-2707" name="__codelineno-0-2707"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rb_studyarea</span><span class="p">,</span> <span class="n">AreaOfInterestSource</span><span class="o">.</span><span class="n">LAYER</span><span class="o">.</span><span class="n">value</span>
<a id="__codelineno-0-2708" name="__codelineno-0-2708"></a>    <span class="p">)</span>
<a id="__codelineno-0-2709" name="__codelineno-0-2709"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_aoi_source_group</span><span class="o">.</span><span class="n">addButton</span><span class="p">(</span>
<a id="__codelineno-0-2710" name="__codelineno-0-2710"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rb_extent</span><span class="p">,</span> <span class="n">AreaOfInterestSource</span><span class="o">.</span><span class="n">EXTENT</span><span class="o">.</span><span class="n">value</span>
<a id="__codelineno-0-2711" name="__codelineno-0-2711"></a>    <span class="p">)</span>
<a id="__codelineno-0-2712" name="__codelineno-0-2712"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_aoi_source_group</span><span class="o">.</span><span class="n">idToggled</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_aoi_source_changed</span><span class="p">)</span>
<a id="__codelineno-0-2713" name="__codelineno-0-2713"></a>
<a id="__codelineno-0-2714" name="__codelineno-0-2714"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">studyarea_layer_file_widget</span><span class="o">.</span><span class="n">setStorageMode</span><span class="p">(</span>
<a id="__codelineno-0-2715" name="__codelineno-0-2715"></a>        <span class="n">QgsFileWidget</span><span class="o">.</span><span class="n">StorageMode</span><span class="o">.</span><span class="n">GetFile</span>
<a id="__codelineno-0-2716" name="__codelineno-0-2716"></a>    <span class="p">)</span>
<a id="__codelineno-0-2717" name="__codelineno-0-2717"></a>
<a id="__codelineno-0-2718" name="__codelineno-0-2718"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">cbo_studyarea</span><span class="o">.</span><span class="n">layerChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_studyarea_layer_changed</span><span class="p">)</span>
<a id="__codelineno-0-2719" name="__codelineno-0-2719"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">cbo_studyarea</span><span class="o">.</span><span class="n">setAllowEmptyLayer</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">tr</span><span class="p">(</span><span class="s2">"&lt;Select layer&gt;"</span><span class="p">))</span>
<a id="__codelineno-0-2720" name="__codelineno-0-2720"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">cbo_studyarea</span><span class="o">.</span><span class="n">setFilters</span><span class="p">(</span><span class="n">QgsMapLayerProxyModel</span><span class="o">.</span><span class="n">PolygonLayer</span><span class="p">)</span>
<a id="__codelineno-0-2721" name="__codelineno-0-2721"></a>
<a id="__codelineno-0-2722" name="__codelineno-0-2722"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">studyarea_layer_file_widget</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span>
<a id="__codelineno-0-2723" name="__codelineno-0-2723"></a>        <span class="n">tr</span><span class="p">(</span><span class="s2">"Select the study area layer from the local filesystem"</span><span class="p">)</span>
<a id="__codelineno-0-2724" name="__codelineno-0-2724"></a>    <span class="p">)</span>
<a id="__codelineno-0-2725" name="__codelineno-0-2725"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">studyarea_layer_file_widget</span><span class="o">.</span><span class="n">fileChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
<a id="__codelineno-0-2726" name="__codelineno-0-2726"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_on_studyarea_file_changed</span>
<a id="__codelineno-0-2727" name="__codelineno-0-2727"></a>    <span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.prepare_extent_box" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">prepare_extent_box</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.prepare_extent_box" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">prepare_extent_box</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Configure the spatial extent box with the initial settings.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2676">2676</a></span>
<span class="normal"><a href="#__codelineno-0-2677">2677</a></span>
<span class="normal"><a href="#__codelineno-0-2678">2678</a></span>
<span class="normal"><a href="#__codelineno-0-2679">2679</a></span>
<span class="normal"><a href="#__codelineno-0-2680">2680</a></span>
<span class="normal"><a href="#__codelineno-0-2681">2681</a></span>
<span class="normal"><a href="#__codelineno-0-2682">2682</a></span>
<span class="normal"><a href="#__codelineno-0-2683">2683</a></span>
<span class="normal"><a href="#__codelineno-0-2684">2684</a></span>
<span class="normal"><a href="#__codelineno-0-2685">2685</a></span>
<span class="normal"><a href="#__codelineno-0-2686">2686</a></span>
<span class="normal"><a href="#__codelineno-0-2687">2687</a></span>
<span class="normal"><a href="#__codelineno-0-2688">2688</a></span>
<span class="normal"><a href="#__codelineno-0-2689">2689</a></span>
<span class="normal"><a href="#__codelineno-0-2690">2690</a></span>
<span class="normal"><a href="#__codelineno-0-2691">2691</a></span>
<span class="normal"><a href="#__codelineno-0-2692">2692</a></span>
<span class="normal"><a href="#__codelineno-0-2693">2693</a></span>
<span class="normal"><a href="#__codelineno-0-2694">2694</a></span>
<span class="normal"><a href="#__codelineno-0-2695">2695</a></span>
<span class="normal"><a href="#__codelineno-0-2696">2696</a></span>
<span class="normal"><a href="#__codelineno-0-2697">2697</a></span>
<span class="normal"><a href="#__codelineno-0-2698">2698</a></span>
<span class="normal"><a href="#__codelineno-0-2699">2699</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2676" name="__codelineno-0-2676"></a><span class="k">def</span> <span class="nf">prepare_extent_box</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-2677" name="__codelineno-0-2677"></a>    <span class="sd">"""Configure the spatial extent box with the initial settings."""</span>
<a id="__codelineno-0-2678" name="__codelineno-0-2678"></a>    <span class="n">crs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">crs_selector</span><span class="o">.</span><span class="n">crs</span><span class="p">()</span>
<a id="__codelineno-0-2679" name="__codelineno-0-2679"></a>    <span class="k">if</span> <span class="n">crs</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">crs</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span>
<a id="__codelineno-0-2680" name="__codelineno-0-2680"></a>        <span class="n">crs</span> <span class="o">=</span> <span class="n">QgsCoordinateReferenceSystem</span><span class="o">.</span><span class="n">fromEpsgId</span><span class="p">(</span><span class="n">DEFAULT_CRS_ID</span><span class="p">)</span>
<a id="__codelineno-0-2681" name="__codelineno-0-2681"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">crs_selector</span><span class="o">.</span><span class="n">setCrs</span><span class="p">(</span><span class="n">crs</span><span class="p">)</span>
<a id="__codelineno-0-2682" name="__codelineno-0-2682"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">setOutputCrs</span><span class="p">(</span><span class="n">crs</span><span class="p">)</span>
<a id="__codelineno-0-2683" name="__codelineno-0-2683"></a>    <span class="n">map_canvas</span> <span class="o">=</span> <span class="n">iface</span><span class="o">.</span><span class="n">mapCanvas</span><span class="p">()</span>
<a id="__codelineno-0-2684" name="__codelineno-0-2684"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">setCurrentExtent</span><span class="p">(</span>
<a id="__codelineno-0-2685" name="__codelineno-0-2685"></a>        <span class="n">map_canvas</span><span class="o">.</span><span class="n">mapSettings</span><span class="p">()</span><span class="o">.</span><span class="n">destinationCrs</span><span class="p">()</span><span class="o">.</span><span class="n">bounds</span><span class="p">(),</span>
<a id="__codelineno-0-2686" name="__codelineno-0-2686"></a>        <span class="n">map_canvas</span><span class="o">.</span><span class="n">mapSettings</span><span class="p">()</span><span class="o">.</span><span class="n">destinationCrs</span><span class="p">(),</span>
<a id="__codelineno-0-2687" name="__codelineno-0-2687"></a>    <span class="p">)</span>
<a id="__codelineno-0-2688" name="__codelineno-0-2688"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">setOutputExtentFromCurrent</span><span class="p">()</span>
<a id="__codelineno-0-2689" name="__codelineno-0-2689"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">setMapCanvas</span><span class="p">(</span><span class="n">map_canvas</span><span class="p">)</span>
<a id="__codelineno-0-2690" name="__codelineno-0-2690"></a>
<a id="__codelineno-0-2691" name="__codelineno-0-2691"></a>    <span class="n">extent_list</span> <span class="o">=</span> <span class="n">PILOT_AREA_EXTENT</span><span class="p">[</span><span class="s2">"coordinates"</span><span class="p">]</span>
<a id="__codelineno-0-2692" name="__codelineno-0-2692"></a>    <span class="n">default_extent</span> <span class="o">=</span> <span class="n">QgsRectangle</span><span class="p">(</span>
<a id="__codelineno-0-2693" name="__codelineno-0-2693"></a>        <span class="n">extent_list</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">extent_list</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">extent_list</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">extent_list</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<a id="__codelineno-0-2694" name="__codelineno-0-2694"></a>    <span class="p">)</span>
<a id="__codelineno-0-2695" name="__codelineno-0-2695"></a>
<a id="__codelineno-0-2696" name="__codelineno-0-2696"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">setOutputExtentFromUser</span><span class="p">(</span>
<a id="__codelineno-0-2697" name="__codelineno-0-2697"></a>        <span class="n">default_extent</span><span class="p">,</span>
<a id="__codelineno-0-2698" name="__codelineno-0-2698"></a>        <span class="n">crs</span><span class="p">,</span>
<a id="__codelineno-0-2699" name="__codelineno-0-2699"></a>    <span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.prepare_input" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">prepare_input</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.prepare_input" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">prepare_input</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Initializes plugin input widgets</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span>
<span class="normal"><a href="#__codelineno-0-485">485</a></span>
<span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-380" name="__codelineno-0-380"></a><span class="k">def</span> <span class="nf">prepare_input</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a>    <span class="sd">"""Initializes plugin input widgets"""</span>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">prepare_aoi_box</span><span class="p">()</span>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">prepare_extent_box</span><span class="p">()</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">grid_layout</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGridLayout</span><span class="p">()</span>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">message_bar</span> <span class="o">=</span> <span class="n">QgsMessageBar</span><span class="p">()</span>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">prepare_message_bar</span><span class="p">()</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">progress_dialog</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">scenario_directory</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">help_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">open_help</span><span class="p">)</span>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">pilot_area_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">zoom_pilot_area</span><span class="p">)</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">run_scenario_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">run_analysis</span><span class="p">)</span>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">options_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">open_settings</span><span class="p">)</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">restore_scenario</span><span class="p">()</span>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">scenario_name</span><span class="o">.</span><span class="n">textChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_scenario</span><span class="p">)</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">scenario_description</span><span class="o">.</span><span class="n">textChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_scenario</span><span class="p">)</span>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">extentChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_scenario</span><span class="p">)</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a>    <span class="n">icon_pixmap</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPixmap</span><span class="p">(</span><span class="n">ICON_PATH</span><span class="p">)</span>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">icon_la</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">icon_pixmap</span><span class="p">)</span>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a>    <span class="n">add_layer_icon</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="n">ADD_LAYER_ICON_PATH</span><span class="p">)</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">layer_add_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">add_layer_icon</span><span class="p">)</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>    <span class="n">remove_layer_icon</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="n">REMOVE_LAYER_ICON_PATH</span><span class="p">)</span>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">layer_remove_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">remove_layer_icon</span><span class="p">)</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">layer_add_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">add_priority_layer_group</span><span class="p">)</span>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">layer_remove_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">remove_priority_layer_group</span><span class="p">)</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>    <span class="c1"># Priority groups buttons</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">add_group_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">FileUtils</span><span class="o">.</span><span class="n">get_icon</span><span class="p">(</span><span class="s2">"symbologyAdd.svg"</span><span class="p">))</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">edit_group_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">FileUtils</span><span class="o">.</span><span class="n">get_icon</span><span class="p">(</span><span class="s2">"mActionToggleEditing.svg"</span><span class="p">))</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">remove_group_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">FileUtils</span><span class="o">.</span><span class="n">get_icon</span><span class="p">(</span><span class="s2">"symbologyRemove.svg"</span><span class="p">))</span>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">add_group_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">add_priority_group</span><span class="p">)</span>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">edit_group_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">edit_priority_group</span><span class="p">)</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">remove_group_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">remove_priority_group</span><span class="p">)</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>    <span class="c1"># Priority layers buttons</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">new_financial_pwl_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">FileUtils</span><span class="o">.</span><span class="n">get_icon</span><span class="p">(</span><span class="s2">"mActionNewMap.svg"</span><span class="p">))</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">add_pwl_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">FileUtils</span><span class="o">.</span><span class="n">get_icon</span><span class="p">(</span><span class="s2">"symbologyAdd.svg"</span><span class="p">))</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">edit_pwl_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">FileUtils</span><span class="o">.</span><span class="n">get_icon</span><span class="p">(</span><span class="s2">"mActionToggleEditing.svg"</span><span class="p">))</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">remove_pwl_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">FileUtils</span><span class="o">.</span><span class="n">get_icon</span><span class="p">(</span><span class="s2">"symbologyRemove.svg"</span><span class="p">))</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">relative_pwl_matrix_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>        <span class="n">FileUtils</span><span class="o">.</span><span class="n">get_icon</span><span class="p">(</span><span class="s2">"mActionAddVectorTileLayer.svg"</span><span class="p">)</span>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>    <span class="p">)</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">new_financial_pwl_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_manage_npv_pwls</span><span class="p">)</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">add_pwl_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">add_priority_layer</span><span class="p">)</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">edit_pwl_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">edit_priority_layer</span><span class="p">)</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">remove_pwl_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">remove_priority_layer</span><span class="p">)</span>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">relative_pwl_matrix_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">on_manage_pwls_relative_impact_matrix</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a>    <span class="p">)</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">priority_layers_list</span><span class="o">.</span><span class="n">itemDoubleClicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_on_double_click_priority_layer</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a>    <span class="p">)</span>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a>    <span class="c1"># Add priority groups list into the groups frame</span>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span> <span class="o">=</span> <span class="n">CustomTreeWidget</span><span class="p">()</span>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">setHeaderHidden</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">setSelectionMode</span><span class="p">(</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a>        <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAbstractItemView</span><span class="o">.</span><span class="n">ExtendedSelection</span>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a>    <span class="p">)</span>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">setSortingEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">setDragEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">setDragDropOverwriteMode</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">viewport</span><span class="p">()</span><span class="o">.</span><span class="n">setAcceptDrops</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">setDragDropMode</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAbstractItemView</span><span class="o">.</span><span class="n">DropOnly</span><span class="p">)</span>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">child_dragged_dropped</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_update</span>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a>    <span class="p">)</span>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">itemDoubleClicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_on_double_click_priority_group</span>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a>    <span class="p">)</span>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a>    <span class="n">layout</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QVBoxLayout</span><span class="p">()</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a>    <span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a>    <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a>    <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="p">)</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_frame</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a>    <span class="c1"># Scenario analysis variables</span>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_name</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_description</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">analysis_extent</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">analysis_activities</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">analysis_weighted_ims</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">analysis_priority_layers_groups</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a>    <span class="c1"># Saved scenarios actions</span>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">add_scenario_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">FileUtils</span><span class="o">.</span><span class="n">get_icon</span><span class="p">(</span><span class="s2">"symbologyAdd.svg"</span><span class="p">))</span>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">info_scenario_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">FileUtils</span><span class="o">.</span><span class="n">get_icon</span><span class="p">(</span><span class="s2">"mActionIdentify.svg"</span><span class="p">))</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">load_scenario_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">FileUtils</span><span class="o">.</span><span class="n">get_icon</span><span class="p">(</span><span class="s2">"mActionReload.svg"</span><span class="p">))</span>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">comparison_report_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">FileUtils</span><span class="o">.</span><span class="n">get_icon</span><span class="p">(</span><span class="s2">"mIconReport.svg"</span><span class="p">))</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">remove_scenario_btn</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">FileUtils</span><span class="o">.</span><span class="n">get_icon</span><span class="p">(</span><span class="s2">"symbologyRemove.svg"</span><span class="p">))</span>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a>
<a id="__codelineno-0-492" name="__codelineno-0-492"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">add_scenario_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">add_scenario</span><span class="p">)</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">load_scenario_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">load_scenario</span><span class="p">)</span>
<a id="__codelineno-0-494" name="__codelineno-0-494"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">info_scenario_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_scenario_info</span><span class="p">)</span>
<a id="__codelineno-0-495" name="__codelineno-0-495"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">comparison_report_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_generate_comparison_report</span><span class="p">)</span>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">remove_scenario_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">remove_scenario</span><span class="p">)</span>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a>
<a id="__codelineno-0-498" name="__codelineno-0-498"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">scenario_list</span><span class="o">.</span><span class="n">itemSelectionChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">on_scenario_list_selection_changed</span>
<a id="__codelineno-0-500" name="__codelineno-0-500"></a>    <span class="p">)</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a>
<a id="__codelineno-0-502" name="__codelineno-0-502"></a>    <span class="c1"># Coordinate System</span>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">lblCrsdescription</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a>        <span class="n">tr</span><span class="p">(</span><span class="s2">"Scenario CRS for analysis (Must be projected CRS)"</span><span class="p">)</span>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a>    <span class="p">)</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a>    <span class="n">project_crs</span> <span class="o">=</span> <span class="n">QgsProject</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">crs</span><span class="p">()</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>    <span class="n">crs</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">Settings</span><span class="o">.</span><span class="n">SCENARIO_CRS</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a>    <span class="k">if</span> <span class="n">crs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a>        <span class="n">project_crs</span> <span class="o">=</span> <span class="n">QgsCoordinateReferenceSystem</span><span class="p">(</span><span class="n">crs</span><span class="p">)</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">project_crs</span><span class="o">.</span><span class="n">isGeographic</span><span class="p">():</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">crs_selector</span><span class="o">.</span><span class="n">setCrs</span><span class="p">(</span><span class="n">project_crs</span><span class="p">)</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">crs_selector</span><span class="o">.</span><span class="n">crsChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_crs_changed</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.prepare_message_bar" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">prepare_message_bar</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.prepare_message_bar" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">prepare_message_bar</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Initializes the widget message bar settings</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1817">1817</a></span>
<span class="normal"><a href="#__codelineno-0-1818">1818</a></span>
<span class="normal"><a href="#__codelineno-0-1819">1819</a></span>
<span class="normal"><a href="#__codelineno-0-1820">1820</a></span>
<span class="normal"><a href="#__codelineno-0-1821">1821</a></span>
<span class="normal"><a href="#__codelineno-0-1822">1822</a></span>
<span class="normal"><a href="#__codelineno-0-1823">1823</a></span>
<span class="normal"><a href="#__codelineno-0-1824">1824</a></span>
<span class="normal"><a href="#__codelineno-0-1825">1825</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1817" name="__codelineno-0-1817"></a><span class="k">def</span> <span class="nf">prepare_message_bar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-1818" name="__codelineno-0-1818"></a>    <span class="sd">"""Initializes the widget message bar settings"""</span>
<a id="__codelineno-0-1819" name="__codelineno-0-1819"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">message_bar</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span>
<a id="__codelineno-0-1820" name="__codelineno-0-1820"></a>        <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Minimum</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Fixed</span>
<a id="__codelineno-0-1821" name="__codelineno-0-1821"></a>    <span class="p">)</span>
<a id="__codelineno-0-1822" name="__codelineno-0-1822"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">grid_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span>
<a id="__codelineno-0-1823" name="__codelineno-0-1823"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">message_bar</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignTop</span>
<a id="__codelineno-0-1824" name="__codelineno-0-1824"></a>    <span class="p">)</span>
<a id="__codelineno-0-1825" name="__codelineno-0-1825"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">dock_widget_contents</span><span class="o">.</span><span class="n">layout</span><span class="p">()</span><span class="o">.</span><span class="n">insertLayout</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">grid_layout</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.priority_groups_update" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">priority_groups_update</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.priority_groups_update" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">priority_groups_update</span><span class="p">(</span><span class="n">target_item</span><span class="p">,</span> <span class="n">selected_items</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Updates the priority groups list item with the passed
 selected layer items.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>target_item</code></td>
            <td>
                  <code><span title="QTreeWidgetItem">QTreeWidgetItem</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The priority group tree widget item that is to be updated</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>selected_items</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Priority layers items from the list widget</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-603">603</a></span>
<span class="normal"><a href="#__codelineno-0-604">604</a></span>
<span class="normal"><a href="#__codelineno-0-605">605</a></span>
<span class="normal"><a href="#__codelineno-0-606">606</a></span>
<span class="normal"><a href="#__codelineno-0-607">607</a></span>
<span class="normal"><a href="#__codelineno-0-608">608</a></span>
<span class="normal"><a href="#__codelineno-0-609">609</a></span>
<span class="normal"><a href="#__codelineno-0-610">610</a></span>
<span class="normal"><a href="#__codelineno-0-611">611</a></span>
<span class="normal"><a href="#__codelineno-0-612">612</a></span>
<span class="normal"><a href="#__codelineno-0-613">613</a></span>
<span class="normal"><a href="#__codelineno-0-614">614</a></span>
<span class="normal"><a href="#__codelineno-0-615">615</a></span>
<span class="normal"><a href="#__codelineno-0-616">616</a></span>
<span class="normal"><a href="#__codelineno-0-617">617</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-603" name="__codelineno-0-603"></a><span class="k">def</span> <span class="nf">priority_groups_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_item</span><span class="p">,</span> <span class="n">selected_items</span><span class="p">):</span>
<a id="__codelineno-0-604" name="__codelineno-0-604"></a>    <span class="sd">"""Updates the priority groups list item with the passed</span>
<a id="__codelineno-0-605" name="__codelineno-0-605"></a><span class="sd">     selected layer items.</span>
<a id="__codelineno-0-606" name="__codelineno-0-606"></a>
<a id="__codelineno-0-607" name="__codelineno-0-607"></a><span class="sd">    :param target_item: The priority group tree widget</span>
<a id="__codelineno-0-608" name="__codelineno-0-608"></a><span class="sd">     item that is to be updated</span>
<a id="__codelineno-0-609" name="__codelineno-0-609"></a><span class="sd">    :type target_item: QTreeWidgetItem</span>
<a id="__codelineno-0-610" name="__codelineno-0-610"></a>
<a id="__codelineno-0-611" name="__codelineno-0-611"></a><span class="sd">    :param selected_items: Priority layers items from the list widget</span>
<a id="__codelineno-0-612" name="__codelineno-0-612"></a><span class="sd">    :type selected_items: list</span>
<a id="__codelineno-0-613" name="__codelineno-0-613"></a><span class="sd">    """</span>
<a id="__codelineno-0-614" name="__codelineno-0-614"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">setCurrentItem</span><span class="p">(</span><span class="n">target_item</span><span class="p">)</span>
<a id="__codelineno-0-615" name="__codelineno-0-615"></a>
<a id="__codelineno-0-616" name="__codelineno-0-616"></a>    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">selected_items</span><span class="p">:</span>
<a id="__codelineno-0-617" name="__codelineno-0-617"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">add_priority_layer_group</span><span class="p">(</span><span class="n">target_item</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.processing_options_changed" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">processing_options_changed</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.processing_options_changed" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">processing_options_changed</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Handles selected processing changes</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-274" name="__codelineno-0-274"></a><span class="k">def</span> <span class="nf">processing_options_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>    <span class="sd">"""Handles selected processing changes"""</span>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a>    <span class="n">settings_manager</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a>        <span class="n">Settings</span><span class="o">.</span><span class="n">PROCESSING_TYPE</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">processing_type</span><span class="o">.</span><span class="n">isChecked</span><span class="p">()</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a>    <span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.remove_priority_group" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">remove_priority_group</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.remove_priority_group" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">remove_priority_group</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Removes the current active priority group.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1220">1220</a></span>
<span class="normal"><a href="#__codelineno-0-1221">1221</a></span>
<span class="normal"><a href="#__codelineno-0-1222">1222</a></span>
<span class="normal"><a href="#__codelineno-0-1223">1223</a></span>
<span class="normal"><a href="#__codelineno-0-1224">1224</a></span>
<span class="normal"><a href="#__codelineno-0-1225">1225</a></span>
<span class="normal"><a href="#__codelineno-0-1226">1226</a></span>
<span class="normal"><a href="#__codelineno-0-1227">1227</a></span>
<span class="normal"><a href="#__codelineno-0-1228">1228</a></span>
<span class="normal"><a href="#__codelineno-0-1229">1229</a></span>
<span class="normal"><a href="#__codelineno-0-1230">1230</a></span>
<span class="normal"><a href="#__codelineno-0-1231">1231</a></span>
<span class="normal"><a href="#__codelineno-0-1232">1232</a></span>
<span class="normal"><a href="#__codelineno-0-1233">1233</a></span>
<span class="normal"><a href="#__codelineno-0-1234">1234</a></span>
<span class="normal"><a href="#__codelineno-0-1235">1235</a></span>
<span class="normal"><a href="#__codelineno-0-1236">1236</a></span>
<span class="normal"><a href="#__codelineno-0-1237">1237</a></span>
<span class="normal"><a href="#__codelineno-0-1238">1238</a></span>
<span class="normal"><a href="#__codelineno-0-1239">1239</a></span>
<span class="normal"><a href="#__codelineno-0-1240">1240</a></span>
<span class="normal"><a href="#__codelineno-0-1241">1241</a></span>
<span class="normal"><a href="#__codelineno-0-1242">1242</a></span>
<span class="normal"><a href="#__codelineno-0-1243">1243</a></span>
<span class="normal"><a href="#__codelineno-0-1244">1244</a></span>
<span class="normal"><a href="#__codelineno-0-1245">1245</a></span>
<span class="normal"><a href="#__codelineno-0-1246">1246</a></span>
<span class="normal"><a href="#__codelineno-0-1247">1247</a></span>
<span class="normal"><a href="#__codelineno-0-1248">1248</a></span>
<span class="normal"><a href="#__codelineno-0-1249">1249</a></span>
<span class="normal"><a href="#__codelineno-0-1250">1250</a></span>
<span class="normal"><a href="#__codelineno-0-1251">1251</a></span>
<span class="normal"><a href="#__codelineno-0-1252">1252</a></span>
<span class="normal"><a href="#__codelineno-0-1253">1253</a></span>
<span class="normal"><a href="#__codelineno-0-1254">1254</a></span>
<span class="normal"><a href="#__codelineno-0-1255">1255</a></span>
<span class="normal"><a href="#__codelineno-0-1256">1256</a></span>
<span class="normal"><a href="#__codelineno-0-1257">1257</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1220" name="__codelineno-0-1220"></a><span class="k">def</span> <span class="nf">remove_priority_group</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-1221" name="__codelineno-0-1221"></a>    <span class="sd">"""Removes the current active priority group."""</span>
<a id="__codelineno-0-1222" name="__codelineno-0-1222"></a>    <span class="n">selected_groups</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">selectedItems</span><span class="p">()</span>
<a id="__codelineno-0-1223" name="__codelineno-0-1223"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">selected_groups</span><span class="p">:</span>
<a id="__codelineno-0-1224" name="__codelineno-0-1224"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-1225" name="__codelineno-0-1225"></a>            <span class="n">tr</span><span class="p">(</span><span class="s2">"Select the priority groups to be deleted from the groups list."</span><span class="p">),</span>
<a id="__codelineno-0-1226" name="__codelineno-0-1226"></a>            <span class="n">Qgis</span><span class="o">.</span><span class="n">Critical</span><span class="p">,</span>
<a id="__codelineno-0-1227" name="__codelineno-0-1227"></a>        <span class="p">)</span>
<a id="__codelineno-0-1228" name="__codelineno-0-1228"></a>        <span class="k">return</span>
<a id="__codelineno-0-1229" name="__codelineno-0-1229"></a>
<a id="__codelineno-0-1230" name="__codelineno-0-1230"></a>    <span class="n">num_items</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">selected_groups</span><span class="p">)</span>
<a id="__codelineno-0-1231" name="__codelineno-0-1231"></a>    <span class="n">item_tr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span><span class="s2">"groups"</span><span class="p">)</span> <span class="k">if</span> <span class="n">num_items</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span><span class="s2">"group"</span><span class="p">)</span>
<a id="__codelineno-0-1232" name="__codelineno-0-1232"></a>    <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span>
<a id="__codelineno-0-1233" name="__codelineno-0-1233"></a>        <span class="sa">f</span><span class="s2">"Remove </span><span class="si">{</span><span class="n">num_items</span><span class="si">!s}</span><span class="s2"> selected priority </span><span class="si">{</span><span class="n">item_tr</span><span class="si">}</span><span class="s2">?</span><span class="se">\n</span><span class="s2">Click Yes to proceed or No to cancel."</span>
<a id="__codelineno-0-1234" name="__codelineno-0-1234"></a>    <span class="p">)</span>
<a id="__codelineno-0-1235" name="__codelineno-0-1235"></a>    <span class="n">reply</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
<a id="__codelineno-0-1236" name="__codelineno-0-1236"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-1237" name="__codelineno-0-1237"></a>        <span class="n">tr</span><span class="p">(</span><span class="s2">"Remove Priority Groups"</span><span class="p">),</span>
<a id="__codelineno-0-1238" name="__codelineno-0-1238"></a>        <span class="n">msg</span><span class="p">,</span>
<a id="__codelineno-0-1239" name="__codelineno-0-1239"></a>        <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Yes</span><span class="p">,</span>
<a id="__codelineno-0-1240" name="__codelineno-0-1240"></a>        <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">No</span><span class="p">,</span>
<a id="__codelineno-0-1241" name="__codelineno-0-1241"></a>    <span class="p">)</span>
<a id="__codelineno-0-1242" name="__codelineno-0-1242"></a>    <span class="k">if</span> <span class="n">reply</span> <span class="o">==</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Yes</span><span class="p">:</span>
<a id="__codelineno-0-1243" name="__codelineno-0-1243"></a>        <span class="n">group_ids</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-1244" name="__codelineno-0-1244"></a>            <span class="n">group_item</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">)</span> <span class="k">for</span> <span class="n">group_item</span> <span class="ow">in</span> <span class="n">selected_groups</span>
<a id="__codelineno-0-1245" name="__codelineno-0-1245"></a>        <span class="p">]</span>
<a id="__codelineno-0-1246" name="__codelineno-0-1246"></a>        <span class="k">for</span> <span class="n">group_id</span> <span class="ow">in</span> <span class="n">group_ids</span><span class="p">:</span>
<a id="__codelineno-0-1247" name="__codelineno-0-1247"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">group_id</span><span class="p">:</span>
<a id="__codelineno-0-1248" name="__codelineno-0-1248"></a>                <span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Priority group identifier could not be determined."</span><span class="p">)</span>
<a id="__codelineno-0-1249" name="__codelineno-0-1249"></a>                <span class="k">continue</span>
<a id="__codelineno-0-1250" name="__codelineno-0-1250"></a>
<a id="__codelineno-0-1251" name="__codelineno-0-1251"></a>            <span class="n">group</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_priority_group</span><span class="p">(</span><span class="n">group_id</span><span class="p">)</span>
<a id="__codelineno-0-1252" name="__codelineno-0-1252"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">group</span><span class="p">:</span>
<a id="__codelineno-0-1253" name="__codelineno-0-1253"></a>                <span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Priority group for </span><span class="si">{</span><span class="n">group_id</span><span class="si">}</span><span class="s2"> not found in settings."</span><span class="p">)</span>
<a id="__codelineno-0-1254" name="__codelineno-0-1254"></a>                <span class="k">continue</span>
<a id="__codelineno-0-1255" name="__codelineno-0-1255"></a>
<a id="__codelineno-0-1256" name="__codelineno-0-1256"></a>            <span class="n">settings_manager</span><span class="o">.</span><span class="n">delete_priority_group</span><span class="p">(</span><span class="n">group_id</span><span class="p">)</span>
<a id="__codelineno-0-1257" name="__codelineno-0-1257"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">update_priority_groups</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.remove_priority_layer" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">remove_priority_layer</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.remove_priority_layer" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">remove_priority_layer</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Removes one or more of the selected priority layers.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1303">1303</a></span>
<span class="normal"><a href="#__codelineno-0-1304">1304</a></span>
<span class="normal"><a href="#__codelineno-0-1305">1305</a></span>
<span class="normal"><a href="#__codelineno-0-1306">1306</a></span>
<span class="normal"><a href="#__codelineno-0-1307">1307</a></span>
<span class="normal"><a href="#__codelineno-0-1308">1308</a></span>
<span class="normal"><a href="#__codelineno-0-1309">1309</a></span>
<span class="normal"><a href="#__codelineno-0-1310">1310</a></span>
<span class="normal"><a href="#__codelineno-0-1311">1311</a></span>
<span class="normal"><a href="#__codelineno-0-1312">1312</a></span>
<span class="normal"><a href="#__codelineno-0-1313">1313</a></span>
<span class="normal"><a href="#__codelineno-0-1314">1314</a></span>
<span class="normal"><a href="#__codelineno-0-1315">1315</a></span>
<span class="normal"><a href="#__codelineno-0-1316">1316</a></span>
<span class="normal"><a href="#__codelineno-0-1317">1317</a></span>
<span class="normal"><a href="#__codelineno-0-1318">1318</a></span>
<span class="normal"><a href="#__codelineno-0-1319">1319</a></span>
<span class="normal"><a href="#__codelineno-0-1320">1320</a></span>
<span class="normal"><a href="#__codelineno-0-1321">1321</a></span>
<span class="normal"><a href="#__codelineno-0-1322">1322</a></span>
<span class="normal"><a href="#__codelineno-0-1323">1323</a></span>
<span class="normal"><a href="#__codelineno-0-1324">1324</a></span>
<span class="normal"><a href="#__codelineno-0-1325">1325</a></span>
<span class="normal"><a href="#__codelineno-0-1326">1326</a></span>
<span class="normal"><a href="#__codelineno-0-1327">1327</a></span>
<span class="normal"><a href="#__codelineno-0-1328">1328</a></span>
<span class="normal"><a href="#__codelineno-0-1329">1329</a></span>
<span class="normal"><a href="#__codelineno-0-1330">1330</a></span>
<span class="normal"><a href="#__codelineno-0-1331">1331</a></span>
<span class="normal"><a href="#__codelineno-0-1332">1332</a></span>
<span class="normal"><a href="#__codelineno-0-1333">1333</a></span>
<span class="normal"><a href="#__codelineno-0-1334">1334</a></span>
<span class="normal"><a href="#__codelineno-0-1335">1335</a></span>
<span class="normal"><a href="#__codelineno-0-1336">1336</a></span>
<span class="normal"><a href="#__codelineno-0-1337">1337</a></span>
<span class="normal"><a href="#__codelineno-0-1338">1338</a></span>
<span class="normal"><a href="#__codelineno-0-1339">1339</a></span>
<span class="normal"><a href="#__codelineno-0-1340">1340</a></span>
<span class="normal"><a href="#__codelineno-0-1341">1341</a></span>
<span class="normal"><a href="#__codelineno-0-1342">1342</a></span>
<span class="normal"><a href="#__codelineno-0-1343">1343</a></span>
<span class="normal"><a href="#__codelineno-0-1344">1344</a></span>
<span class="normal"><a href="#__codelineno-0-1345">1345</a></span>
<span class="normal"><a href="#__codelineno-0-1346">1346</a></span>
<span class="normal"><a href="#__codelineno-0-1347">1347</a></span>
<span class="normal"><a href="#__codelineno-0-1348">1348</a></span>
<span class="normal"><a href="#__codelineno-0-1349">1349</a></span>
<span class="normal"><a href="#__codelineno-0-1350">1350</a></span>
<span class="normal"><a href="#__codelineno-0-1351">1351</a></span>
<span class="normal"><a href="#__codelineno-0-1352">1352</a></span>
<span class="normal"><a href="#__codelineno-0-1353">1353</a></span>
<span class="normal"><a href="#__codelineno-0-1354">1354</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1303" name="__codelineno-0-1303"></a><span class="k">def</span> <span class="nf">remove_priority_layer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-1304" name="__codelineno-0-1304"></a>    <span class="sd">"""Removes one or more of the selected priority layers."""</span>
<a id="__codelineno-0-1305" name="__codelineno-0-1305"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">priority_layers_list</span><span class="o">.</span><span class="n">currentItem</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1306" name="__codelineno-0-1306"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-1307" name="__codelineno-0-1307"></a>            <span class="n">tr</span><span class="p">(</span><span class="s2">"Select first the priority weighting layer from the layers list."</span><span class="p">),</span>
<a id="__codelineno-0-1308" name="__codelineno-0-1308"></a>            <span class="n">Qgis</span><span class="o">.</span><span class="n">Critical</span><span class="p">,</span>
<a id="__codelineno-0-1309" name="__codelineno-0-1309"></a>        <span class="p">)</span>
<a id="__codelineno-0-1310" name="__codelineno-0-1310"></a>        <span class="k">return</span>
<a id="__codelineno-0-1311" name="__codelineno-0-1311"></a>
<a id="__codelineno-0-1312" name="__codelineno-0-1312"></a>    <span class="n">selected_pwl_items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">priority_layers_list</span><span class="o">.</span><span class="n">selectedItems</span><span class="p">()</span>
<a id="__codelineno-0-1313" name="__codelineno-0-1313"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">selected_pwl_items</span><span class="p">:</span>
<a id="__codelineno-0-1314" name="__codelineno-0-1314"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-1315" name="__codelineno-0-1315"></a>            <span class="n">tr</span><span class="p">(</span>
<a id="__codelineno-0-1316" name="__codelineno-0-1316"></a>                <span class="s2">"Select one or more priority weighting layers to be removed "</span>
<a id="__codelineno-0-1317" name="__codelineno-0-1317"></a>                <span class="s2">"from the layers list."</span>
<a id="__codelineno-0-1318" name="__codelineno-0-1318"></a>            <span class="p">),</span>
<a id="__codelineno-0-1319" name="__codelineno-0-1319"></a>            <span class="n">Qgis</span><span class="o">.</span><span class="n">Critical</span><span class="p">,</span>
<a id="__codelineno-0-1320" name="__codelineno-0-1320"></a>        <span class="p">)</span>
<a id="__codelineno-0-1321" name="__codelineno-0-1321"></a>        <span class="k">return</span>
<a id="__codelineno-0-1322" name="__codelineno-0-1322"></a>
<a id="__codelineno-0-1323" name="__codelineno-0-1323"></a>    <span class="n">pwls</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">DisplayRole</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">selected_pwl_items</span><span class="p">]</span>
<a id="__codelineno-0-1324" name="__codelineno-0-1324"></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pwls</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-1325" name="__codelineno-0-1325"></a>        <span class="n">tr_layer</span> <span class="o">=</span> <span class="n">tr</span><span class="p">(</span><span class="s2">"layer"</span><span class="p">)</span>
<a id="__codelineno-0-1326" name="__codelineno-0-1326"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-1327" name="__codelineno-0-1327"></a>        <span class="n">tr_layer</span> <span class="o">=</span> <span class="n">tr</span><span class="p">(</span><span class="s2">"layers"</span><span class="p">)</span>
<a id="__codelineno-0-1328" name="__codelineno-0-1328"></a>    <span class="n">tr_msg</span> <span class="o">=</span> <span class="n">tr</span><span class="p">(</span><span class="s2">"Remove the priority weighting"</span><span class="p">)</span>
<a id="__codelineno-0-1329" name="__codelineno-0-1329"></a>    <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">tr_msg</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">tr_layer</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="s1">', '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pwls</span><span class="p">)</span><span class="si">}</span><span class="s2">?"</span>
<a id="__codelineno-0-1330" name="__codelineno-0-1330"></a>    <span class="n">reply</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
<a id="__codelineno-0-1331" name="__codelineno-0-1331"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-1332" name="__codelineno-0-1332"></a>        <span class="n">tr</span><span class="p">(</span><span class="s2">"Remove PWLs"</span><span class="p">),</span>
<a id="__codelineno-0-1333" name="__codelineno-0-1333"></a>        <span class="n">msg</span><span class="p">,</span>
<a id="__codelineno-0-1334" name="__codelineno-0-1334"></a>        <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Yes</span><span class="p">,</span>
<a id="__codelineno-0-1335" name="__codelineno-0-1335"></a>        <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">No</span><span class="p">,</span>
<a id="__codelineno-0-1336" name="__codelineno-0-1336"></a>    <span class="p">)</span>
<a id="__codelineno-0-1337" name="__codelineno-0-1337"></a>    <span class="k">if</span> <span class="n">reply</span> <span class="o">==</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Yes</span><span class="p">:</span>
<a id="__codelineno-0-1338" name="__codelineno-0-1338"></a>        <span class="k">for</span> <span class="n">pwl</span> <span class="ow">in</span> <span class="n">pwls</span><span class="p">:</span>
<a id="__codelineno-0-1339" name="__codelineno-0-1339"></a>            <span class="n">layer</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">find_layer_by_name</span><span class="p">(</span><span class="n">pwl</span><span class="p">)</span>
<a id="__codelineno-0-1340" name="__codelineno-0-1340"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">layer</span><span class="p">:</span>
<a id="__codelineno-0-1341" name="__codelineno-0-1341"></a>                <span class="k">continue</span>
<a id="__codelineno-0-1342" name="__codelineno-0-1342"></a>            <span class="n">settings_manager</span><span class="o">.</span><span class="n">delete_priority_layer</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"uuid"</span><span class="p">))</span>
<a id="__codelineno-0-1343" name="__codelineno-0-1343"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">update_priority_layers</span><span class="p">(</span><span class="n">update_groups</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-1344" name="__codelineno-0-1344"></a>
<a id="__codelineno-0-1345" name="__codelineno-0-1345"></a>            <span class="c1"># Remove PWL in priority groups</span>
<a id="__codelineno-0-1346" name="__codelineno-0-1346"></a>            <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">topLevelItemCount</span><span class="p">()):</span>
<a id="__codelineno-0-1347" name="__codelineno-0-1347"></a>                <span class="n">group</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">topLevelItem</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
<a id="__codelineno-0-1348" name="__codelineno-0-1348"></a>                <span class="n">group_children</span> <span class="o">=</span> <span class="n">group</span><span class="o">.</span><span class="n">takeChildren</span><span class="p">()</span>
<a id="__codelineno-0-1349" name="__codelineno-0-1349"></a>                <span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-1350" name="__codelineno-0-1350"></a>                <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">group_children</span><span class="p">:</span>
<a id="__codelineno-0-1351" name="__codelineno-0-1351"></a>                    <span class="k">if</span> <span class="n">child</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"name"</span><span class="p">):</span>
<a id="__codelineno-0-1352" name="__codelineno-0-1352"></a>                        <span class="k">continue</span>
<a id="__codelineno-0-1353" name="__codelineno-0-1353"></a>                    <span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
<a id="__codelineno-0-1354" name="__codelineno-0-1354"></a>                <span class="n">group</span><span class="o">.</span><span class="n">addChildren</span><span class="p">(</span><span class="n">children</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.remove_priority_layer_group" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">remove_priority_layer_group</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.remove_priority_layer_group" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">remove_priority_layer_group</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Remove the current select priority layer from the current priority group.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-991"> 991</a></span>
<span class="normal"><a href="#__codelineno-0-992"> 992</a></span>
<span class="normal"><a href="#__codelineno-0-993"> 993</a></span>
<span class="normal"><a href="#__codelineno-0-994"> 994</a></span>
<span class="normal"><a href="#__codelineno-0-995"> 995</a></span>
<span class="normal"><a href="#__codelineno-0-996"> 996</a></span>
<span class="normal"><a href="#__codelineno-0-997"> 997</a></span>
<span class="normal"><a href="#__codelineno-0-998"> 998</a></span>
<span class="normal"><a href="#__codelineno-0-999"> 999</a></span>
<span class="normal"><a href="#__codelineno-0-1000">1000</a></span>
<span class="normal"><a href="#__codelineno-0-1001">1001</a></span>
<span class="normal"><a href="#__codelineno-0-1002">1002</a></span>
<span class="normal"><a href="#__codelineno-0-1003">1003</a></span>
<span class="normal"><a href="#__codelineno-0-1004">1004</a></span>
<span class="normal"><a href="#__codelineno-0-1005">1005</a></span>
<span class="normal"><a href="#__codelineno-0-1006">1006</a></span>
<span class="normal"><a href="#__codelineno-0-1007">1007</a></span>
<span class="normal"><a href="#__codelineno-0-1008">1008</a></span>
<span class="normal"><a href="#__codelineno-0-1009">1009</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-991" name="__codelineno-0-991"></a><span class="k">def</span> <span class="nf">remove_priority_layer_group</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-992" name="__codelineno-0-992"></a>    <span class="sd">"""Remove the current select priority layer from the current priority group."""</span>
<a id="__codelineno-0-993" name="__codelineno-0-993"></a>    <span class="n">selected_group</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">currentItem</span><span class="p">()</span>
<a id="__codelineno-0-994" name="__codelineno-0-994"></a>    <span class="n">parent_item</span> <span class="o">=</span> <span class="n">selected_group</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="k">if</span> <span class="n">selected_group</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-995" name="__codelineno-0-995"></a>
<a id="__codelineno-0-996" name="__codelineno-0-996"></a>    <span class="k">if</span> <span class="n">parent_item</span><span class="p">:</span>
<a id="__codelineno-0-997" name="__codelineno-0-997"></a>        <span class="n">priority_layer</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">find_layer_by_name</span><span class="p">(</span><span class="n">selected_group</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<a id="__codelineno-0-998" name="__codelineno-0-998"></a>        <span class="n">group_widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">itemWidget</span><span class="p">(</span><span class="n">parent_item</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-999" name="__codelineno-0-999"></a>
<a id="__codelineno-0-1000" name="__codelineno-0-1000"></a>        <span class="n">groups</span> <span class="o">=</span> <span class="n">priority_layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"groups"</span><span class="p">)</span>
<a id="__codelineno-0-1001" name="__codelineno-0-1001"></a>        <span class="n">new_groups</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-1002" name="__codelineno-0-1002"></a>        <span class="k">for</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">groups</span><span class="p">:</span>
<a id="__codelineno-0-1003" name="__codelineno-0-1003"></a>            <span class="k">if</span> <span class="n">group</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"name"</span><span class="p">)</span> <span class="o">==</span> <span class="n">group_widget</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"name"</span><span class="p">):</span>
<a id="__codelineno-0-1004" name="__codelineno-0-1004"></a>                <span class="k">continue</span>
<a id="__codelineno-0-1005" name="__codelineno-0-1005"></a>            <span class="n">new_groups</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">group</span><span class="p">)</span>
<a id="__codelineno-0-1006" name="__codelineno-0-1006"></a>        <span class="n">priority_layer</span><span class="p">[</span><span class="s2">"groups"</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_groups</span>
<a id="__codelineno-0-1007" name="__codelineno-0-1007"></a>        <span class="n">settings_manager</span><span class="o">.</span><span class="n">save_priority_layer</span><span class="p">(</span><span class="n">priority_layer</span><span class="p">)</span>
<a id="__codelineno-0-1008" name="__codelineno-0-1008"></a>
<a id="__codelineno-0-1009" name="__codelineno-0-1009"></a>        <span class="n">parent_item</span><span class="o">.</span><span class="n">removeChild</span><span class="p">(</span><span class="n">selected_group</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.remove_scenario" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">remove_scenario</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.remove_scenario" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">remove_scenario</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Removes the current active scenario.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1633">1633</a></span>
<span class="normal"><a href="#__codelineno-0-1634">1634</a></span>
<span class="normal"><a href="#__codelineno-0-1635">1635</a></span>
<span class="normal"><a href="#__codelineno-0-1636">1636</a></span>
<span class="normal"><a href="#__codelineno-0-1637">1637</a></span>
<span class="normal"><a href="#__codelineno-0-1638">1638</a></span>
<span class="normal"><a href="#__codelineno-0-1639">1639</a></span>
<span class="normal"><a href="#__codelineno-0-1640">1640</a></span>
<span class="normal"><a href="#__codelineno-0-1641">1641</a></span>
<span class="normal"><a href="#__codelineno-0-1642">1642</a></span>
<span class="normal"><a href="#__codelineno-0-1643">1643</a></span>
<span class="normal"><a href="#__codelineno-0-1644">1644</a></span>
<span class="normal"><a href="#__codelineno-0-1645">1645</a></span>
<span class="normal"><a href="#__codelineno-0-1646">1646</a></span>
<span class="normal"><a href="#__codelineno-0-1647">1647</a></span>
<span class="normal"><a href="#__codelineno-0-1648">1648</a></span>
<span class="normal"><a href="#__codelineno-0-1649">1649</a></span>
<span class="normal"><a href="#__codelineno-0-1650">1650</a></span>
<span class="normal"><a href="#__codelineno-0-1651">1651</a></span>
<span class="normal"><a href="#__codelineno-0-1652">1652</a></span>
<span class="normal"><a href="#__codelineno-0-1653">1653</a></span>
<span class="normal"><a href="#__codelineno-0-1654">1654</a></span>
<span class="normal"><a href="#__codelineno-0-1655">1655</a></span>
<span class="normal"><a href="#__codelineno-0-1656">1656</a></span>
<span class="normal"><a href="#__codelineno-0-1657">1657</a></span>
<span class="normal"><a href="#__codelineno-0-1658">1658</a></span>
<span class="normal"><a href="#__codelineno-0-1659">1659</a></span>
<span class="normal"><a href="#__codelineno-0-1660">1660</a></span>
<span class="normal"><a href="#__codelineno-0-1661">1661</a></span>
<span class="normal"><a href="#__codelineno-0-1662">1662</a></span>
<span class="normal"><a href="#__codelineno-0-1663">1663</a></span>
<span class="normal"><a href="#__codelineno-0-1664">1664</a></span>
<span class="normal"><a href="#__codelineno-0-1665">1665</a></span>
<span class="normal"><a href="#__codelineno-0-1666">1666</a></span>
<span class="normal"><a href="#__codelineno-0-1667">1667</a></span>
<span class="normal"><a href="#__codelineno-0-1668">1668</a></span>
<span class="normal"><a href="#__codelineno-0-1669">1669</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1633" name="__codelineno-0-1633"></a><span class="k">def</span> <span class="nf">remove_scenario</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-1634" name="__codelineno-0-1634"></a>    <span class="sd">"""Removes the current active scenario."""</span>
<a id="__codelineno-0-1635" name="__codelineno-0-1635"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_list</span><span class="o">.</span><span class="n">currentItem</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1636" name="__codelineno-0-1636"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-1637" name="__codelineno-0-1637"></a>            <span class="n">tr</span><span class="p">(</span><span class="s2">"Select first a scenario from the scenario list."</span><span class="p">),</span>
<a id="__codelineno-0-1638" name="__codelineno-0-1638"></a>            <span class="n">Qgis</span><span class="o">.</span><span class="n">Critical</span><span class="p">,</span>
<a id="__codelineno-0-1639" name="__codelineno-0-1639"></a>        <span class="p">)</span>
<a id="__codelineno-0-1640" name="__codelineno-0-1640"></a>        <span class="k">return</span>
<a id="__codelineno-0-1641" name="__codelineno-0-1641"></a>
<a id="__codelineno-0-1642" name="__codelineno-0-1642"></a>    <span class="n">texts</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-1643" name="__codelineno-0-1643"></a>    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_list</span><span class="o">.</span><span class="n">selectedItems</span><span class="p">():</span>
<a id="__codelineno-0-1644" name="__codelineno-0-1644"></a>        <span class="n">current_text</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-1645" name="__codelineno-0-1645"></a>        <span class="n">texts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">current_text</span><span class="p">)</span>
<a id="__codelineno-0-1646" name="__codelineno-0-1646"></a>
<a id="__codelineno-0-1647" name="__codelineno-0-1647"></a>    <span class="n">reply</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
<a id="__codelineno-0-1648" name="__codelineno-0-1648"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-1649" name="__codelineno-0-1649"></a>        <span class="n">tr</span><span class="p">(</span><span class="s2">"QGIS CPLUS PLUGIN"</span><span class="p">),</span>
<a id="__codelineno-0-1650" name="__codelineno-0-1650"></a>        <span class="n">tr</span><span class="p">(</span><span class="s1">'Remove the selected scenario(s) "</span><span class="si">{}</span><span class="s1">"?'</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">texts</span><span class="p">),</span>
<a id="__codelineno-0-1651" name="__codelineno-0-1651"></a>        <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Yes</span><span class="p">,</span>
<a id="__codelineno-0-1652" name="__codelineno-0-1652"></a>        <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">No</span><span class="p">,</span>
<a id="__codelineno-0-1653" name="__codelineno-0-1653"></a>    <span class="p">)</span>
<a id="__codelineno-0-1654" name="__codelineno-0-1654"></a>    <span class="k">if</span> <span class="n">reply</span> <span class="o">==</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Yes</span><span class="p">:</span>
<a id="__codelineno-0-1655" name="__codelineno-0-1655"></a>        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_list</span><span class="o">.</span><span class="n">selectedItems</span><span class="p">():</span>
<a id="__codelineno-0-1656" name="__codelineno-0-1656"></a>            <span class="n">scenario_id</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">)</span>
<a id="__codelineno-0-1657" name="__codelineno-0-1657"></a>
<a id="__codelineno-0-1658" name="__codelineno-0-1658"></a>            <span class="k">if</span> <span class="n">scenario_id</span> <span class="o">==</span> <span class="s2">""</span><span class="p">:</span>
<a id="__codelineno-0-1659" name="__codelineno-0-1659"></a>                <span class="k">continue</span>
<a id="__codelineno-0-1660" name="__codelineno-0-1660"></a>            <span class="n">settings_manager</span><span class="o">.</span><span class="n">delete_scenario</span><span class="p">(</span><span class="n">scenario_id</span><span class="p">)</span>
<a id="__codelineno-0-1661" name="__codelineno-0-1661"></a>
<a id="__codelineno-0-1662" name="__codelineno-0-1662"></a>            <span class="n">scenario_server_uuid</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-0-1663" name="__codelineno-0-1663"></a>            <span class="k">if</span> <span class="n">scenario_server_uuid</span> <span class="o">==</span> <span class="s2">""</span><span class="p">:</span>
<a id="__codelineno-0-1664" name="__codelineno-0-1664"></a>                <span class="k">continue</span>
<a id="__codelineno-0-1665" name="__codelineno-0-1665"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_trends_auth</span><span class="p">():</span>
<a id="__codelineno-0-1666" name="__codelineno-0-1666"></a>                <span class="k">continue</span>
<a id="__codelineno-0-1667" name="__codelineno-0-1667"></a>            <span class="n">task</span> <span class="o">=</span> <span class="n">DeleteScenarioTask</span><span class="p">(</span><span class="n">scenario_server_uuid</span><span class="p">)</span>
<a id="__codelineno-0-1668" name="__codelineno-0-1668"></a>            <span class="n">QgsApplication</span><span class="o">.</span><span class="n">taskManager</span><span class="p">()</span><span class="o">.</span><span class="n">addTask</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>
<a id="__codelineno-0-1669" name="__codelineno-0-1669"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_scenario_list</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.report_job_is_for_current_scenario" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">report_job_is_for_current_scenario</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.report_job_is_for_current_scenario" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">report_job_is_for_current_scenario</span><span class="p">(</span><span class="n">scenario_id</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Checks if the given scenario identifier is for the current
scenario result.</p>
<p>This is to ensure that signals raised by the report manager refer
to the current scenario result object and not for old jobs.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>scenario_id</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Scenario identifier usually from a signal raised by the report manager.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the scenario identifier matches the current scenario object in the results, else False.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-3045">3045</a></span>
<span class="normal"><a href="#__codelineno-0-3046">3046</a></span>
<span class="normal"><a href="#__codelineno-0-3047">3047</a></span>
<span class="normal"><a href="#__codelineno-0-3048">3048</a></span>
<span class="normal"><a href="#__codelineno-0-3049">3049</a></span>
<span class="normal"><a href="#__codelineno-0-3050">3050</a></span>
<span class="normal"><a href="#__codelineno-0-3051">3051</a></span>
<span class="normal"><a href="#__codelineno-0-3052">3052</a></span>
<span class="normal"><a href="#__codelineno-0-3053">3053</a></span>
<span class="normal"><a href="#__codelineno-0-3054">3054</a></span>
<span class="normal"><a href="#__codelineno-0-3055">3055</a></span>
<span class="normal"><a href="#__codelineno-0-3056">3056</a></span>
<span class="normal"><a href="#__codelineno-0-3057">3057</a></span>
<span class="normal"><a href="#__codelineno-0-3058">3058</a></span>
<span class="normal"><a href="#__codelineno-0-3059">3059</a></span>
<span class="normal"><a href="#__codelineno-0-3060">3060</a></span>
<span class="normal"><a href="#__codelineno-0-3061">3061</a></span>
<span class="normal"><a href="#__codelineno-0-3062">3062</a></span>
<span class="normal"><a href="#__codelineno-0-3063">3063</a></span>
<span class="normal"><a href="#__codelineno-0-3064">3064</a></span>
<span class="normal"><a href="#__codelineno-0-3065">3065</a></span>
<span class="normal"><a href="#__codelineno-0-3066">3066</a></span>
<span class="normal"><a href="#__codelineno-0-3067">3067</a></span>
<span class="normal"><a href="#__codelineno-0-3068">3068</a></span>
<span class="normal"><a href="#__codelineno-0-3069">3069</a></span>
<span class="normal"><a href="#__codelineno-0-3070">3070</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-3045" name="__codelineno-0-3045"></a><span class="k">def</span> <span class="nf">report_job_is_for_current_scenario</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scenario_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<a id="__codelineno-0-3046" name="__codelineno-0-3046"></a>    <span class="sd">"""Checks if the given scenario identifier is for the current</span>
<a id="__codelineno-0-3047" name="__codelineno-0-3047"></a><span class="sd">    scenario result.</span>
<a id="__codelineno-0-3048" name="__codelineno-0-3048"></a>
<a id="__codelineno-0-3049" name="__codelineno-0-3049"></a><span class="sd">    This is to ensure that signals raised by the report manager refer</span>
<a id="__codelineno-0-3050" name="__codelineno-0-3050"></a><span class="sd">    to the current scenario result object and not for old jobs.</span>
<a id="__codelineno-0-3051" name="__codelineno-0-3051"></a>
<a id="__codelineno-0-3052" name="__codelineno-0-3052"></a><span class="sd">    :param scenario_id: Scenario identifier usually from a signal</span>
<a id="__codelineno-0-3053" name="__codelineno-0-3053"></a><span class="sd">    raised by the report manager.</span>
<a id="__codelineno-0-3054" name="__codelineno-0-3054"></a><span class="sd">    :type scenario_id: str</span>
<a id="__codelineno-0-3055" name="__codelineno-0-3055"></a>
<a id="__codelineno-0-3056" name="__codelineno-0-3056"></a><span class="sd">    :returns: True if the scenario identifier matches the current</span>
<a id="__codelineno-0-3057" name="__codelineno-0-3057"></a><span class="sd">    scenario object in the results, else False.</span>
<a id="__codelineno-0-3058" name="__codelineno-0-3058"></a><span class="sd">    :rtype: bool</span>
<a id="__codelineno-0-3059" name="__codelineno-0-3059"></a><span class="sd">    """</span>
<a id="__codelineno-0-3060" name="__codelineno-0-3060"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-3061" name="__codelineno-0-3061"></a>        <span class="k">return</span> <span class="kc">False</span>
<a id="__codelineno-0-3062" name="__codelineno-0-3062"></a>
<a id="__codelineno-0-3063" name="__codelineno-0-3063"></a>    <span class="n">current_scenario</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_result</span><span class="o">.</span><span class="n">scenario</span>
<a id="__codelineno-0-3064" name="__codelineno-0-3064"></a>    <span class="k">if</span> <span class="n">current_scenario</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-3065" name="__codelineno-0-3065"></a>        <span class="k">return</span> <span class="kc">False</span>
<a id="__codelineno-0-3066" name="__codelineno-0-3066"></a>
<a id="__codelineno-0-3067" name="__codelineno-0-3067"></a>    <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">current_scenario</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span> <span class="o">==</span> <span class="n">scenario_id</span><span class="p">:</span>
<a id="__codelineno-0-3068" name="__codelineno-0-3068"></a>        <span class="k">return</span> <span class="kc">True</span>
<a id="__codelineno-0-3069" name="__codelineno-0-3069"></a>
<a id="__codelineno-0-3070" name="__codelineno-0-3070"></a>    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.reset_reporting_feedback" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">reset_reporting_feedback</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.reset_reporting_feedback" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">reset_reporting_feedback</span><span class="p">(</span><span class="n">progress_dialog</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Creates a new reporting feedback object and reconnects
the signals.</p>
<p>We are doing this to address cases where the feedback is canceled
and the same object has to be reused for subsequent report
generation tasks.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>progress_dialog</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ProgressDialog (src.cplus_plugin.gui.progress_dialog.ProgressDialog)" href="../api_progress_dialog/#src.cplus_plugin.gui.progress_dialog.ProgressDialog">ProgressDialog</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dialog responsible for showing all the analysis operations progress.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>QgsFeedback</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Feedback instance to be used in storing processing status details.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2991">2991</a></span>
<span class="normal"><a href="#__codelineno-0-2992">2992</a></span>
<span class="normal"><a href="#__codelineno-0-2993">2993</a></span>
<span class="normal"><a href="#__codelineno-0-2994">2994</a></span>
<span class="normal"><a href="#__codelineno-0-2995">2995</a></span>
<span class="normal"><a href="#__codelineno-0-2996">2996</a></span>
<span class="normal"><a href="#__codelineno-0-2997">2997</a></span>
<span class="normal"><a href="#__codelineno-0-2998">2998</a></span>
<span class="normal"><a href="#__codelineno-0-2999">2999</a></span>
<span class="normal"><a href="#__codelineno-0-3000">3000</a></span>
<span class="normal"><a href="#__codelineno-0-3001">3001</a></span>
<span class="normal"><a href="#__codelineno-0-3002">3002</a></span>
<span class="normal"><a href="#__codelineno-0-3003">3003</a></span>
<span class="normal"><a href="#__codelineno-0-3004">3004</a></span>
<span class="normal"><a href="#__codelineno-0-3005">3005</a></span>
<span class="normal"><a href="#__codelineno-0-3006">3006</a></span>
<span class="normal"><a href="#__codelineno-0-3007">3007</a></span>
<span class="normal"><a href="#__codelineno-0-3008">3008</a></span>
<span class="normal"><a href="#__codelineno-0-3009">3009</a></span>
<span class="normal"><a href="#__codelineno-0-3010">3010</a></span>
<span class="normal"><a href="#__codelineno-0-3011">3011</a></span>
<span class="normal"><a href="#__codelineno-0-3012">3012</a></span>
<span class="normal"><a href="#__codelineno-0-3013">3013</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2991" name="__codelineno-0-2991"></a><span class="k">def</span> <span class="nf">reset_reporting_feedback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">progress_dialog</span><span class="p">):</span>
<a id="__codelineno-0-2992" name="__codelineno-0-2992"></a>    <span class="sd">"""Creates a new reporting feedback object and reconnects</span>
<a id="__codelineno-0-2993" name="__codelineno-0-2993"></a><span class="sd">    the signals.</span>
<a id="__codelineno-0-2994" name="__codelineno-0-2994"></a>
<a id="__codelineno-0-2995" name="__codelineno-0-2995"></a><span class="sd">    We are doing this to address cases where the feedback is canceled</span>
<a id="__codelineno-0-2996" name="__codelineno-0-2996"></a><span class="sd">    and the same object has to be reused for subsequent report</span>
<a id="__codelineno-0-2997" name="__codelineno-0-2997"></a><span class="sd">    generation tasks.</span>
<a id="__codelineno-0-2998" name="__codelineno-0-2998"></a>
<a id="__codelineno-0-2999" name="__codelineno-0-2999"></a><span class="sd">    :param progress_dialog: Dialog responsible for showing</span>
<a id="__codelineno-0-3000" name="__codelineno-0-3000"></a><span class="sd">     all the analysis operations progress.</span>
<a id="__codelineno-0-3001" name="__codelineno-0-3001"></a><span class="sd">    :type progress_dialog: ProgressDialog</span>
<a id="__codelineno-0-3002" name="__codelineno-0-3002"></a>
<a id="__codelineno-0-3003" name="__codelineno-0-3003"></a><span class="sd">    :returns reporting_feedback: Feedback instance to be used in storing</span>
<a id="__codelineno-0-3004" name="__codelineno-0-3004"></a><span class="sd">    processing status details.</span>
<a id="__codelineno-0-3005" name="__codelineno-0-3005"></a><span class="sd">    :rtype reporting_feedback: QgsFeedback</span>
<a id="__codelineno-0-3006" name="__codelineno-0-3006"></a><span class="sd">    """</span>
<a id="__codelineno-0-3007" name="__codelineno-0-3007"></a>
<a id="__codelineno-0-3008" name="__codelineno-0-3008"></a>    <span class="n">progress_changed</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_reporting_progress_changed</span><span class="p">,</span> <span class="n">progress_dialog</span><span class="p">)</span>
<a id="__codelineno-0-3009" name="__codelineno-0-3009"></a>
<a id="__codelineno-0-3010" name="__codelineno-0-3010"></a>    <span class="n">reporting_feedback</span> <span class="o">=</span> <span class="n">QgsFeedback</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<a id="__codelineno-0-3011" name="__codelineno-0-3011"></a>    <span class="n">reporting_feedback</span><span class="o">.</span><span class="n">progressChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">progress_changed</span><span class="p">)</span>
<a id="__codelineno-0-3012" name="__codelineno-0-3012"></a>
<a id="__codelineno-0-3013" name="__codelineno-0-3013"></a>    <span class="k">return</span> <span class="n">reporting_feedback</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.restore_scenario" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">restore_scenario</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.restore_scenario" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">restore_scenario</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Update the first tab input with the last scenario details</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-671">671</a></span>
<span class="normal"><a href="#__codelineno-0-672">672</a></span>
<span class="normal"><a href="#__codelineno-0-673">673</a></span>
<span class="normal"><a href="#__codelineno-0-674">674</a></span>
<span class="normal"><a href="#__codelineno-0-675">675</a></span>
<span class="normal"><a href="#__codelineno-0-676">676</a></span>
<span class="normal"><a href="#__codelineno-0-677">677</a></span>
<span class="normal"><a href="#__codelineno-0-678">678</a></span>
<span class="normal"><a href="#__codelineno-0-679">679</a></span>
<span class="normal"><a href="#__codelineno-0-680">680</a></span>
<span class="normal"><a href="#__codelineno-0-681">681</a></span>
<span class="normal"><a href="#__codelineno-0-682">682</a></span>
<span class="normal"><a href="#__codelineno-0-683">683</a></span>
<span class="normal"><a href="#__codelineno-0-684">684</a></span>
<span class="normal"><a href="#__codelineno-0-685">685</a></span>
<span class="normal"><a href="#__codelineno-0-686">686</a></span>
<span class="normal"><a href="#__codelineno-0-687">687</a></span>
<span class="normal"><a href="#__codelineno-0-688">688</a></span>
<span class="normal"><a href="#__codelineno-0-689">689</a></span>
<span class="normal"><a href="#__codelineno-0-690">690</a></span>
<span class="normal"><a href="#__codelineno-0-691">691</a></span>
<span class="normal"><a href="#__codelineno-0-692">692</a></span>
<span class="normal"><a href="#__codelineno-0-693">693</a></span>
<span class="normal"><a href="#__codelineno-0-694">694</a></span>
<span class="normal"><a href="#__codelineno-0-695">695</a></span>
<span class="normal"><a href="#__codelineno-0-696">696</a></span>
<span class="normal"><a href="#__codelineno-0-697">697</a></span>
<span class="normal"><a href="#__codelineno-0-698">698</a></span>
<span class="normal"><a href="#__codelineno-0-699">699</a></span>
<span class="normal"><a href="#__codelineno-0-700">700</a></span>
<span class="normal"><a href="#__codelineno-0-701">701</a></span>
<span class="normal"><a href="#__codelineno-0-702">702</a></span>
<span class="normal"><a href="#__codelineno-0-703">703</a></span>
<span class="normal"><a href="#__codelineno-0-704">704</a></span>
<span class="normal"><a href="#__codelineno-0-705">705</a></span>
<span class="normal"><a href="#__codelineno-0-706">706</a></span>
<span class="normal"><a href="#__codelineno-0-707">707</a></span>
<span class="normal"><a href="#__codelineno-0-708">708</a></span>
<span class="normal"><a href="#__codelineno-0-709">709</a></span>
<span class="normal"><a href="#__codelineno-0-710">710</a></span>
<span class="normal"><a href="#__codelineno-0-711">711</a></span>
<span class="normal"><a href="#__codelineno-0-712">712</a></span>
<span class="normal"><a href="#__codelineno-0-713">713</a></span>
<span class="normal"><a href="#__codelineno-0-714">714</a></span>
<span class="normal"><a href="#__codelineno-0-715">715</a></span>
<span class="normal"><a href="#__codelineno-0-716">716</a></span>
<span class="normal"><a href="#__codelineno-0-717">717</a></span>
<span class="normal"><a href="#__codelineno-0-718">718</a></span>
<span class="normal"><a href="#__codelineno-0-719">719</a></span>
<span class="normal"><a href="#__codelineno-0-720">720</a></span>
<span class="normal"><a href="#__codelineno-0-721">721</a></span>
<span class="normal"><a href="#__codelineno-0-722">722</a></span>
<span class="normal"><a href="#__codelineno-0-723">723</a></span>
<span class="normal"><a href="#__codelineno-0-724">724</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-671" name="__codelineno-0-671"></a><span class="k">def</span> <span class="nf">restore_scenario</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-672" name="__codelineno-0-672"></a>    <span class="sd">"""Update the first tab input with the last scenario details"""</span>
<a id="__codelineno-0-673" name="__codelineno-0-673"></a>    <span class="n">scenario_name</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">Settings</span><span class="o">.</span><span class="n">SCENARIO_NAME</span><span class="p">)</span>
<a id="__codelineno-0-674" name="__codelineno-0-674"></a>    <span class="n">scenario_description</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">Settings</span><span class="o">.</span><span class="n">SCENARIO_DESCRIPTION</span><span class="p">)</span>
<a id="__codelineno-0-675" name="__codelineno-0-675"></a>    <span class="n">extent</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">Settings</span><span class="o">.</span><span class="n">SCENARIO_EXTENT</span><span class="p">)</span>
<a id="__codelineno-0-676" name="__codelineno-0-676"></a>    <span class="n">studyarea_path</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">Settings</span><span class="o">.</span><span class="n">STUDYAREA_PATH</span><span class="p">)</span>
<a id="__codelineno-0-677" name="__codelineno-0-677"></a>    <span class="n">clip_to_studyarea</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span>
<a id="__codelineno-0-678" name="__codelineno-0-678"></a>        <span class="n">Settings</span><span class="o">.</span><span class="n">CLIP_TO_STUDYAREA</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">setting_type</span><span class="o">=</span><span class="nb">bool</span>
<a id="__codelineno-0-679" name="__codelineno-0-679"></a>    <span class="p">)</span>
<a id="__codelineno-0-680" name="__codelineno-0-680"></a>    <span class="n">crs</span> <span class="o">=</span> <span class="n">QgsCoordinateReferenceSystem</span><span class="p">(</span>
<a id="__codelineno-0-681" name="__codelineno-0-681"></a>        <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">Settings</span><span class="o">.</span><span class="n">SCENARIO_CRS</span><span class="p">,</span> <span class="sa">f</span><span class="s2">"EPSG:</span><span class="si">{</span><span class="n">DEFAULT_CRS_ID</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a id="__codelineno-0-682" name="__codelineno-0-682"></a>    <span class="p">)</span>
<a id="__codelineno-0-683" name="__codelineno-0-683"></a>
<a id="__codelineno-0-684" name="__codelineno-0-684"></a>    <span class="k">if</span> <span class="n">crs</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span>
<a id="__codelineno-0-685" name="__codelineno-0-685"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">crs_selector</span><span class="o">.</span><span class="n">setCrs</span><span class="p">(</span><span class="n">crs</span><span class="p">)</span>
<a id="__codelineno-0-686" name="__codelineno-0-686"></a>
<a id="__codelineno-0-687" name="__codelineno-0-687"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">scenario_name</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">scenario_name</span><span class="p">)</span> <span class="k">if</span> <span class="n">scenario_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-688" name="__codelineno-0-688"></a>    <span class="p">(</span>
<a id="__codelineno-0-689" name="__codelineno-0-689"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scenario_description</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">scenario_description</span><span class="p">)</span>
<a id="__codelineno-0-690" name="__codelineno-0-690"></a>        <span class="k">if</span> <span class="n">scenario_description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<a id="__codelineno-0-691" name="__codelineno-0-691"></a>        <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-692" name="__codelineno-0-692"></a>    <span class="p">)</span>
<a id="__codelineno-0-693" name="__codelineno-0-693"></a>
<a id="__codelineno-0-694" name="__codelineno-0-694"></a>    <span class="k">if</span> <span class="n">extent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-695" name="__codelineno-0-695"></a>        <span class="n">extent_rectangle</span> <span class="o">=</span> <span class="n">QgsRectangle</span><span class="p">(</span>
<a id="__codelineno-0-696" name="__codelineno-0-696"></a>            <span class="nb">float</span><span class="p">(</span><span class="n">extent</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">extent</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">extent</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">extent</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<a id="__codelineno-0-697" name="__codelineno-0-697"></a>        <span class="p">)</span>
<a id="__codelineno-0-698" name="__codelineno-0-698"></a>
<a id="__codelineno-0-699" name="__codelineno-0-699"></a>        <span class="n">extent_crs</span> <span class="o">=</span> <span class="n">QgsCoordinateReferenceSystem</span><span class="p">(</span>
<a id="__codelineno-0-700" name="__codelineno-0-700"></a>            <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span>
<a id="__codelineno-0-701" name="__codelineno-0-701"></a>                <span class="n">Settings</span><span class="o">.</span><span class="n">SCENARIO_EXTENT_CRS</span><span class="p">,</span> <span class="sa">f</span><span class="s2">"EPSG:</span><span class="si">{</span><span class="n">DEFAULT_CRS_ID</span><span class="si">}</span><span class="s2">"</span>
<a id="__codelineno-0-702" name="__codelineno-0-702"></a>            <span class="p">)</span>
<a id="__codelineno-0-703" name="__codelineno-0-703"></a>        <span class="p">)</span>
<a id="__codelineno-0-704" name="__codelineno-0-704"></a>        <span class="n">extent_crs</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-705" name="__codelineno-0-705"></a>            <span class="n">extent_crs</span> <span class="k">if</span> <span class="n">extent_crs</span><span class="o">.</span><span class="n">isValid</span><span class="p">()</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">outputCrs</span><span class="p">()</span>
<a id="__codelineno-0-706" name="__codelineno-0-706"></a>        <span class="p">)</span>
<a id="__codelineno-0-707" name="__codelineno-0-707"></a>
<a id="__codelineno-0-708" name="__codelineno-0-708"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">setOutputExtentFromUser</span><span class="p">(</span>
<a id="__codelineno-0-709" name="__codelineno-0-709"></a>            <span class="n">extent_rectangle</span><span class="p">,</span>
<a id="__codelineno-0-710" name="__codelineno-0-710"></a>            <span class="n">extent_crs</span><span class="p">,</span>
<a id="__codelineno-0-711" name="__codelineno-0-711"></a>        <span class="p">)</span>
<a id="__codelineno-0-712" name="__codelineno-0-712"></a>
<a id="__codelineno-0-713" name="__codelineno-0-713"></a>    <span class="k">if</span> <span class="n">studyarea_path</span><span class="p">:</span>
<a id="__codelineno-0-714" name="__codelineno-0-714"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_aoi_layer</span> <span class="o">=</span> <span class="n">QgsVectorLayer</span><span class="p">(</span><span class="n">studyarea_path</span><span class="p">,</span> <span class="n">Path</span><span class="p">(</span><span class="n">studyarea_path</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="p">)</span>
<a id="__codelineno-0-715" name="__codelineno-0-715"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aoi_layer</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span>
<a id="__codelineno-0-716" name="__codelineno-0-716"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">studyarea_layer_file_widget</span><span class="o">.</span><span class="n">setFilePath</span><span class="p">(</span><span class="n">studyarea_path</span><span class="p">)</span>
<a id="__codelineno-0-717" name="__codelineno-0-717"></a>
<a id="__codelineno-0-718" name="__codelineno-0-718"></a>    <span class="k">if</span> <span class="n">clip_to_studyarea</span><span class="p">:</span>
<a id="__codelineno-0-719" name="__codelineno-0-719"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">on_aoi_source_changed</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-720" name="__codelineno-0-720"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rb_studyarea</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-721" name="__codelineno-0-721"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-722" name="__codelineno-0-722"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rb_extent</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-723" name="__codelineno-0-723"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">on_aoi_source_changed</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-724" name="__codelineno-0-724"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"Restored scenario"</span><span class="p">,</span> <span class="n">clip_to_studyarea</span><span class="p">,</span> <span class="n">studyarea_path</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.run_analysis" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">run_analysis</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.run_analysis" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">run_analysis</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Runs the plugin analysis
Creates new QgsTask, progress dialog and report manager
 for each new scenario analysis.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1894">1894</a></span>
<span class="normal"><a href="#__codelineno-0-1895">1895</a></span>
<span class="normal"><a href="#__codelineno-0-1896">1896</a></span>
<span class="normal"><a href="#__codelineno-0-1897">1897</a></span>
<span class="normal"><a href="#__codelineno-0-1898">1898</a></span>
<span class="normal"><a href="#__codelineno-0-1899">1899</a></span>
<span class="normal"><a href="#__codelineno-0-1900">1900</a></span>
<span class="normal"><a href="#__codelineno-0-1901">1901</a></span>
<span class="normal"><a href="#__codelineno-0-1902">1902</a></span>
<span class="normal"><a href="#__codelineno-0-1903">1903</a></span>
<span class="normal"><a href="#__codelineno-0-1904">1904</a></span>
<span class="normal"><a href="#__codelineno-0-1905">1905</a></span>
<span class="normal"><a href="#__codelineno-0-1906">1906</a></span>
<span class="normal"><a href="#__codelineno-0-1907">1907</a></span>
<span class="normal"><a href="#__codelineno-0-1908">1908</a></span>
<span class="normal"><a href="#__codelineno-0-1909">1909</a></span>
<span class="normal"><a href="#__codelineno-0-1910">1910</a></span>
<span class="normal"><a href="#__codelineno-0-1911">1911</a></span>
<span class="normal"><a href="#__codelineno-0-1912">1912</a></span>
<span class="normal"><a href="#__codelineno-0-1913">1913</a></span>
<span class="normal"><a href="#__codelineno-0-1914">1914</a></span>
<span class="normal"><a href="#__codelineno-0-1915">1915</a></span>
<span class="normal"><a href="#__codelineno-0-1916">1916</a></span>
<span class="normal"><a href="#__codelineno-0-1917">1917</a></span>
<span class="normal"><a href="#__codelineno-0-1918">1918</a></span>
<span class="normal"><a href="#__codelineno-0-1919">1919</a></span>
<span class="normal"><a href="#__codelineno-0-1920">1920</a></span>
<span class="normal"><a href="#__codelineno-0-1921">1921</a></span>
<span class="normal"><a href="#__codelineno-0-1922">1922</a></span>
<span class="normal"><a href="#__codelineno-0-1923">1923</a></span>
<span class="normal"><a href="#__codelineno-0-1924">1924</a></span>
<span class="normal"><a href="#__codelineno-0-1925">1925</a></span>
<span class="normal"><a href="#__codelineno-0-1926">1926</a></span>
<span class="normal"><a href="#__codelineno-0-1927">1927</a></span>
<span class="normal"><a href="#__codelineno-0-1928">1928</a></span>
<span class="normal"><a href="#__codelineno-0-1929">1929</a></span>
<span class="normal"><a href="#__codelineno-0-1930">1930</a></span>
<span class="normal"><a href="#__codelineno-0-1931">1931</a></span>
<span class="normal"><a href="#__codelineno-0-1932">1932</a></span>
<span class="normal"><a href="#__codelineno-0-1933">1933</a></span>
<span class="normal"><a href="#__codelineno-0-1934">1934</a></span>
<span class="normal"><a href="#__codelineno-0-1935">1935</a></span>
<span class="normal"><a href="#__codelineno-0-1936">1936</a></span>
<span class="normal"><a href="#__codelineno-0-1937">1937</a></span>
<span class="normal"><a href="#__codelineno-0-1938">1938</a></span>
<span class="normal"><a href="#__codelineno-0-1939">1939</a></span>
<span class="normal"><a href="#__codelineno-0-1940">1940</a></span>
<span class="normal"><a href="#__codelineno-0-1941">1941</a></span>
<span class="normal"><a href="#__codelineno-0-1942">1942</a></span>
<span class="normal"><a href="#__codelineno-0-1943">1943</a></span>
<span class="normal"><a href="#__codelineno-0-1944">1944</a></span>
<span class="normal"><a href="#__codelineno-0-1945">1945</a></span>
<span class="normal"><a href="#__codelineno-0-1946">1946</a></span>
<span class="normal"><a href="#__codelineno-0-1947">1947</a></span>
<span class="normal"><a href="#__codelineno-0-1948">1948</a></span>
<span class="normal"><a href="#__codelineno-0-1949">1949</a></span>
<span class="normal"><a href="#__codelineno-0-1950">1950</a></span>
<span class="normal"><a href="#__codelineno-0-1951">1951</a></span>
<span class="normal"><a href="#__codelineno-0-1952">1952</a></span>
<span class="normal"><a href="#__codelineno-0-1953">1953</a></span>
<span class="normal"><a href="#__codelineno-0-1954">1954</a></span>
<span class="normal"><a href="#__codelineno-0-1955">1955</a></span>
<span class="normal"><a href="#__codelineno-0-1956">1956</a></span>
<span class="normal"><a href="#__codelineno-0-1957">1957</a></span>
<span class="normal"><a href="#__codelineno-0-1958">1958</a></span>
<span class="normal"><a href="#__codelineno-0-1959">1959</a></span>
<span class="normal"><a href="#__codelineno-0-1960">1960</a></span>
<span class="normal"><a href="#__codelineno-0-1961">1961</a></span>
<span class="normal"><a href="#__codelineno-0-1962">1962</a></span>
<span class="normal"><a href="#__codelineno-0-1963">1963</a></span>
<span class="normal"><a href="#__codelineno-0-1964">1964</a></span>
<span class="normal"><a href="#__codelineno-0-1965">1965</a></span>
<span class="normal"><a href="#__codelineno-0-1966">1966</a></span>
<span class="normal"><a href="#__codelineno-0-1967">1967</a></span>
<span class="normal"><a href="#__codelineno-0-1968">1968</a></span>
<span class="normal"><a href="#__codelineno-0-1969">1969</a></span>
<span class="normal"><a href="#__codelineno-0-1970">1970</a></span>
<span class="normal"><a href="#__codelineno-0-1971">1971</a></span>
<span class="normal"><a href="#__codelineno-0-1972">1972</a></span>
<span class="normal"><a href="#__codelineno-0-1973">1973</a></span>
<span class="normal"><a href="#__codelineno-0-1974">1974</a></span>
<span class="normal"><a href="#__codelineno-0-1975">1975</a></span>
<span class="normal"><a href="#__codelineno-0-1976">1976</a></span>
<span class="normal"><a href="#__codelineno-0-1977">1977</a></span>
<span class="normal"><a href="#__codelineno-0-1978">1978</a></span>
<span class="normal"><a href="#__codelineno-0-1979">1979</a></span>
<span class="normal"><a href="#__codelineno-0-1980">1980</a></span>
<span class="normal"><a href="#__codelineno-0-1981">1981</a></span>
<span class="normal"><a href="#__codelineno-0-1982">1982</a></span>
<span class="normal"><a href="#__codelineno-0-1983">1983</a></span>
<span class="normal"><a href="#__codelineno-0-1984">1984</a></span>
<span class="normal"><a href="#__codelineno-0-1985">1985</a></span>
<span class="normal"><a href="#__codelineno-0-1986">1986</a></span>
<span class="normal"><a href="#__codelineno-0-1987">1987</a></span>
<span class="normal"><a href="#__codelineno-0-1988">1988</a></span>
<span class="normal"><a href="#__codelineno-0-1989">1989</a></span>
<span class="normal"><a href="#__codelineno-0-1990">1990</a></span>
<span class="normal"><a href="#__codelineno-0-1991">1991</a></span>
<span class="normal"><a href="#__codelineno-0-1992">1992</a></span>
<span class="normal"><a href="#__codelineno-0-1993">1993</a></span>
<span class="normal"><a href="#__codelineno-0-1994">1994</a></span>
<span class="normal"><a href="#__codelineno-0-1995">1995</a></span>
<span class="normal"><a href="#__codelineno-0-1996">1996</a></span>
<span class="normal"><a href="#__codelineno-0-1997">1997</a></span>
<span class="normal"><a href="#__codelineno-0-1998">1998</a></span>
<span class="normal"><a href="#__codelineno-0-1999">1999</a></span>
<span class="normal"><a href="#__codelineno-0-2000">2000</a></span>
<span class="normal"><a href="#__codelineno-0-2001">2001</a></span>
<span class="normal"><a href="#__codelineno-0-2002">2002</a></span>
<span class="normal"><a href="#__codelineno-0-2003">2003</a></span>
<span class="normal"><a href="#__codelineno-0-2004">2004</a></span>
<span class="normal"><a href="#__codelineno-0-2005">2005</a></span>
<span class="normal"><a href="#__codelineno-0-2006">2006</a></span>
<span class="normal"><a href="#__codelineno-0-2007">2007</a></span>
<span class="normal"><a href="#__codelineno-0-2008">2008</a></span>
<span class="normal"><a href="#__codelineno-0-2009">2009</a></span>
<span class="normal"><a href="#__codelineno-0-2010">2010</a></span>
<span class="normal"><a href="#__codelineno-0-2011">2011</a></span>
<span class="normal"><a href="#__codelineno-0-2012">2012</a></span>
<span class="normal"><a href="#__codelineno-0-2013">2013</a></span>
<span class="normal"><a href="#__codelineno-0-2014">2014</a></span>
<span class="normal"><a href="#__codelineno-0-2015">2015</a></span>
<span class="normal"><a href="#__codelineno-0-2016">2016</a></span>
<span class="normal"><a href="#__codelineno-0-2017">2017</a></span>
<span class="normal"><a href="#__codelineno-0-2018">2018</a></span>
<span class="normal"><a href="#__codelineno-0-2019">2019</a></span>
<span class="normal"><a href="#__codelineno-0-2020">2020</a></span>
<span class="normal"><a href="#__codelineno-0-2021">2021</a></span>
<span class="normal"><a href="#__codelineno-0-2022">2022</a></span>
<span class="normal"><a href="#__codelineno-0-2023">2023</a></span>
<span class="normal"><a href="#__codelineno-0-2024">2024</a></span>
<span class="normal"><a href="#__codelineno-0-2025">2025</a></span>
<span class="normal"><a href="#__codelineno-0-2026">2026</a></span>
<span class="normal"><a href="#__codelineno-0-2027">2027</a></span>
<span class="normal"><a href="#__codelineno-0-2028">2028</a></span>
<span class="normal"><a href="#__codelineno-0-2029">2029</a></span>
<span class="normal"><a href="#__codelineno-0-2030">2030</a></span>
<span class="normal"><a href="#__codelineno-0-2031">2031</a></span>
<span class="normal"><a href="#__codelineno-0-2032">2032</a></span>
<span class="normal"><a href="#__codelineno-0-2033">2033</a></span>
<span class="normal"><a href="#__codelineno-0-2034">2034</a></span>
<span class="normal"><a href="#__codelineno-0-2035">2035</a></span>
<span class="normal"><a href="#__codelineno-0-2036">2036</a></span>
<span class="normal"><a href="#__codelineno-0-2037">2037</a></span>
<span class="normal"><a href="#__codelineno-0-2038">2038</a></span>
<span class="normal"><a href="#__codelineno-0-2039">2039</a></span>
<span class="normal"><a href="#__codelineno-0-2040">2040</a></span>
<span class="normal"><a href="#__codelineno-0-2041">2041</a></span>
<span class="normal"><a href="#__codelineno-0-2042">2042</a></span>
<span class="normal"><a href="#__codelineno-0-2043">2043</a></span>
<span class="normal"><a href="#__codelineno-0-2044">2044</a></span>
<span class="normal"><a href="#__codelineno-0-2045">2045</a></span>
<span class="normal"><a href="#__codelineno-0-2046">2046</a></span>
<span class="normal"><a href="#__codelineno-0-2047">2047</a></span>
<span class="normal"><a href="#__codelineno-0-2048">2048</a></span>
<span class="normal"><a href="#__codelineno-0-2049">2049</a></span>
<span class="normal"><a href="#__codelineno-0-2050">2050</a></span>
<span class="normal"><a href="#__codelineno-0-2051">2051</a></span>
<span class="normal"><a href="#__codelineno-0-2052">2052</a></span>
<span class="normal"><a href="#__codelineno-0-2053">2053</a></span>
<span class="normal"><a href="#__codelineno-0-2054">2054</a></span>
<span class="normal"><a href="#__codelineno-0-2055">2055</a></span>
<span class="normal"><a href="#__codelineno-0-2056">2056</a></span>
<span class="normal"><a href="#__codelineno-0-2057">2057</a></span>
<span class="normal"><a href="#__codelineno-0-2058">2058</a></span>
<span class="normal"><a href="#__codelineno-0-2059">2059</a></span>
<span class="normal"><a href="#__codelineno-0-2060">2060</a></span>
<span class="normal"><a href="#__codelineno-0-2061">2061</a></span>
<span class="normal"><a href="#__codelineno-0-2062">2062</a></span>
<span class="normal"><a href="#__codelineno-0-2063">2063</a></span>
<span class="normal"><a href="#__codelineno-0-2064">2064</a></span>
<span class="normal"><a href="#__codelineno-0-2065">2065</a></span>
<span class="normal"><a href="#__codelineno-0-2066">2066</a></span>
<span class="normal"><a href="#__codelineno-0-2067">2067</a></span>
<span class="normal"><a href="#__codelineno-0-2068">2068</a></span>
<span class="normal"><a href="#__codelineno-0-2069">2069</a></span>
<span class="normal"><a href="#__codelineno-0-2070">2070</a></span>
<span class="normal"><a href="#__codelineno-0-2071">2071</a></span>
<span class="normal"><a href="#__codelineno-0-2072">2072</a></span>
<span class="normal"><a href="#__codelineno-0-2073">2073</a></span>
<span class="normal"><a href="#__codelineno-0-2074">2074</a></span>
<span class="normal"><a href="#__codelineno-0-2075">2075</a></span>
<span class="normal"><a href="#__codelineno-0-2076">2076</a></span>
<span class="normal"><a href="#__codelineno-0-2077">2077</a></span>
<span class="normal"><a href="#__codelineno-0-2078">2078</a></span>
<span class="normal"><a href="#__codelineno-0-2079">2079</a></span>
<span class="normal"><a href="#__codelineno-0-2080">2080</a></span>
<span class="normal"><a href="#__codelineno-0-2081">2081</a></span>
<span class="normal"><a href="#__codelineno-0-2082">2082</a></span>
<span class="normal"><a href="#__codelineno-0-2083">2083</a></span>
<span class="normal"><a href="#__codelineno-0-2084">2084</a></span>
<span class="normal"><a href="#__codelineno-0-2085">2085</a></span>
<span class="normal"><a href="#__codelineno-0-2086">2086</a></span>
<span class="normal"><a href="#__codelineno-0-2087">2087</a></span>
<span class="normal"><a href="#__codelineno-0-2088">2088</a></span>
<span class="normal"><a href="#__codelineno-0-2089">2089</a></span>
<span class="normal"><a href="#__codelineno-0-2090">2090</a></span>
<span class="normal"><a href="#__codelineno-0-2091">2091</a></span>
<span class="normal"><a href="#__codelineno-0-2092">2092</a></span>
<span class="normal"><a href="#__codelineno-0-2093">2093</a></span>
<span class="normal"><a href="#__codelineno-0-2094">2094</a></span>
<span class="normal"><a href="#__codelineno-0-2095">2095</a></span>
<span class="normal"><a href="#__codelineno-0-2096">2096</a></span>
<span class="normal"><a href="#__codelineno-0-2097">2097</a></span>
<span class="normal"><a href="#__codelineno-0-2098">2098</a></span>
<span class="normal"><a href="#__codelineno-0-2099">2099</a></span>
<span class="normal"><a href="#__codelineno-0-2100">2100</a></span>
<span class="normal"><a href="#__codelineno-0-2101">2101</a></span>
<span class="normal"><a href="#__codelineno-0-2102">2102</a></span>
<span class="normal"><a href="#__codelineno-0-2103">2103</a></span>
<span class="normal"><a href="#__codelineno-0-2104">2104</a></span>
<span class="normal"><a href="#__codelineno-0-2105">2105</a></span>
<span class="normal"><a href="#__codelineno-0-2106">2106</a></span>
<span class="normal"><a href="#__codelineno-0-2107">2107</a></span>
<span class="normal"><a href="#__codelineno-0-2108">2108</a></span>
<span class="normal"><a href="#__codelineno-0-2109">2109</a></span>
<span class="normal"><a href="#__codelineno-0-2110">2110</a></span>
<span class="normal"><a href="#__codelineno-0-2111">2111</a></span>
<span class="normal"><a href="#__codelineno-0-2112">2112</a></span>
<span class="normal"><a href="#__codelineno-0-2113">2113</a></span>
<span class="normal"><a href="#__codelineno-0-2114">2114</a></span>
<span class="normal"><a href="#__codelineno-0-2115">2115</a></span>
<span class="normal"><a href="#__codelineno-0-2116">2116</a></span>
<span class="normal"><a href="#__codelineno-0-2117">2117</a></span>
<span class="normal"><a href="#__codelineno-0-2118">2118</a></span>
<span class="normal"><a href="#__codelineno-0-2119">2119</a></span>
<span class="normal"><a href="#__codelineno-0-2120">2120</a></span>
<span class="normal"><a href="#__codelineno-0-2121">2121</a></span>
<span class="normal"><a href="#__codelineno-0-2122">2122</a></span>
<span class="normal"><a href="#__codelineno-0-2123">2123</a></span>
<span class="normal"><a href="#__codelineno-0-2124">2124</a></span>
<span class="normal"><a href="#__codelineno-0-2125">2125</a></span>
<span class="normal"><a href="#__codelineno-0-2126">2126</a></span>
<span class="normal"><a href="#__codelineno-0-2127">2127</a></span>
<span class="normal"><a href="#__codelineno-0-2128">2128</a></span>
<span class="normal"><a href="#__codelineno-0-2129">2129</a></span>
<span class="normal"><a href="#__codelineno-0-2130">2130</a></span>
<span class="normal"><a href="#__codelineno-0-2131">2131</a></span>
<span class="normal"><a href="#__codelineno-0-2132">2132</a></span>
<span class="normal"><a href="#__codelineno-0-2133">2133</a></span>
<span class="normal"><a href="#__codelineno-0-2134">2134</a></span>
<span class="normal"><a href="#__codelineno-0-2135">2135</a></span>
<span class="normal"><a href="#__codelineno-0-2136">2136</a></span>
<span class="normal"><a href="#__codelineno-0-2137">2137</a></span>
<span class="normal"><a href="#__codelineno-0-2138">2138</a></span>
<span class="normal"><a href="#__codelineno-0-2139">2139</a></span>
<span class="normal"><a href="#__codelineno-0-2140">2140</a></span>
<span class="normal"><a href="#__codelineno-0-2141">2141</a></span>
<span class="normal"><a href="#__codelineno-0-2142">2142</a></span>
<span class="normal"><a href="#__codelineno-0-2143">2143</a></span>
<span class="normal"><a href="#__codelineno-0-2144">2144</a></span>
<span class="normal"><a href="#__codelineno-0-2145">2145</a></span>
<span class="normal"><a href="#__codelineno-0-2146">2146</a></span>
<span class="normal"><a href="#__codelineno-0-2147">2147</a></span>
<span class="normal"><a href="#__codelineno-0-2148">2148</a></span>
<span class="normal"><a href="#__codelineno-0-2149">2149</a></span>
<span class="normal"><a href="#__codelineno-0-2150">2150</a></span>
<span class="normal"><a href="#__codelineno-0-2151">2151</a></span>
<span class="normal"><a href="#__codelineno-0-2152">2152</a></span>
<span class="normal"><a href="#__codelineno-0-2153">2153</a></span>
<span class="normal"><a href="#__codelineno-0-2154">2154</a></span>
<span class="normal"><a href="#__codelineno-0-2155">2155</a></span>
<span class="normal"><a href="#__codelineno-0-2156">2156</a></span>
<span class="normal"><a href="#__codelineno-0-2157">2157</a></span>
<span class="normal"><a href="#__codelineno-0-2158">2158</a></span>
<span class="normal"><a href="#__codelineno-0-2159">2159</a></span>
<span class="normal"><a href="#__codelineno-0-2160">2160</a></span>
<span class="normal"><a href="#__codelineno-0-2161">2161</a></span>
<span class="normal"><a href="#__codelineno-0-2162">2162</a></span>
<span class="normal"><a href="#__codelineno-0-2163">2163</a></span>
<span class="normal"><a href="#__codelineno-0-2164">2164</a></span>
<span class="normal"><a href="#__codelineno-0-2165">2165</a></span>
<span class="normal"><a href="#__codelineno-0-2166">2166</a></span>
<span class="normal"><a href="#__codelineno-0-2167">2167</a></span>
<span class="normal"><a href="#__codelineno-0-2168">2168</a></span>
<span class="normal"><a href="#__codelineno-0-2169">2169</a></span>
<span class="normal"><a href="#__codelineno-0-2170">2170</a></span>
<span class="normal"><a href="#__codelineno-0-2171">2171</a></span>
<span class="normal"><a href="#__codelineno-0-2172">2172</a></span>
<span class="normal"><a href="#__codelineno-0-2173">2173</a></span>
<span class="normal"><a href="#__codelineno-0-2174">2174</a></span>
<span class="normal"><a href="#__codelineno-0-2175">2175</a></span>
<span class="normal"><a href="#__codelineno-0-2176">2176</a></span>
<span class="normal"><a href="#__codelineno-0-2177">2177</a></span>
<span class="normal"><a href="#__codelineno-0-2178">2178</a></span>
<span class="normal"><a href="#__codelineno-0-2179">2179</a></span>
<span class="normal"><a href="#__codelineno-0-2180">2180</a></span>
<span class="normal"><a href="#__codelineno-0-2181">2181</a></span>
<span class="normal"><a href="#__codelineno-0-2182">2182</a></span>
<span class="normal"><a href="#__codelineno-0-2183">2183</a></span>
<span class="normal"><a href="#__codelineno-0-2184">2184</a></span>
<span class="normal"><a href="#__codelineno-0-2185">2185</a></span>
<span class="normal"><a href="#__codelineno-0-2186">2186</a></span>
<span class="normal"><a href="#__codelineno-0-2187">2187</a></span>
<span class="normal"><a href="#__codelineno-0-2188">2188</a></span>
<span class="normal"><a href="#__codelineno-0-2189">2189</a></span>
<span class="normal"><a href="#__codelineno-0-2190">2190</a></span>
<span class="normal"><a href="#__codelineno-0-2191">2191</a></span>
<span class="normal"><a href="#__codelineno-0-2192">2192</a></span>
<span class="normal"><a href="#__codelineno-0-2193">2193</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1894" name="__codelineno-0-1894"></a><span class="k">def</span> <span class="nf">run_analysis</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-1895" name="__codelineno-0-1895"></a>    <span class="sd">"""Runs the plugin analysis</span>
<a id="__codelineno-0-1896" name="__codelineno-0-1896"></a><span class="sd">    Creates new QgsTask, progress dialog and report manager</span>
<a id="__codelineno-0-1897" name="__codelineno-0-1897"></a><span class="sd">     for each new scenario analysis.</span>
<a id="__codelineno-0-1898" name="__codelineno-0-1898"></a><span class="sd">    """</span>
<a id="__codelineno-0-1899" name="__codelineno-0-1899"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">log_text_box</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<a id="__codelineno-0-1900" name="__codelineno-0-1900"></a>
<a id="__codelineno-0-1901" name="__codelineno-0-1901"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_metric_configuration_valid</span><span class="p">():</span>
<a id="__codelineno-0-1902" name="__codelineno-0-1902"></a>        <span class="n">log</span><span class="p">(</span>
<a id="__codelineno-0-1903" name="__codelineno-0-1903"></a>            <span class="s2">"Scenario cannot run due to an invalid metric configuration "</span>
<a id="__codelineno-0-1904" name="__codelineno-0-1904"></a>            <span class="s2">"for the selected profile. Refer to the preceding "</span>
<a id="__codelineno-0-1905" name="__codelineno-0-1905"></a>            <span class="s2">"errors above."</span>
<a id="__codelineno-0-1906" name="__codelineno-0-1906"></a>        <span class="p">)</span>
<a id="__codelineno-0-1907" name="__codelineno-0-1907"></a>        <span class="k">return</span>
<a id="__codelineno-0-1908" name="__codelineno-0-1908"></a>
<a id="__codelineno-0-1909" name="__codelineno-0-1909"></a>    <span class="n">passed_extent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">outputExtent</span><span class="p">()</span>
<a id="__codelineno-0-1910" name="__codelineno-0-1910"></a>    <span class="n">passed_extent_crs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">outputCrs</span><span class="p">()</span>
<a id="__codelineno-0-1911" name="__codelineno-0-1911"></a>
<a id="__codelineno-0-1912" name="__codelineno-0-1912"></a>    <span class="c1"># Check if CRS is valid</span>
<a id="__codelineno-0-1913" name="__codelineno-0-1913"></a>    <span class="n">analysis_crs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">crs_selector</span><span class="o">.</span><span class="n">crs</span><span class="p">()</span>
<a id="__codelineno-0-1914" name="__codelineno-0-1914"></a>    <span class="k">if</span> <span class="p">(</span>
<a id="__codelineno-0-1915" name="__codelineno-0-1915"></a>        <span class="n">analysis_crs</span> <span class="ow">is</span> <span class="kc">None</span>
<a id="__codelineno-0-1916" name="__codelineno-0-1916"></a>        <span class="ow">or</span> <span class="ow">not</span> <span class="n">analysis_crs</span><span class="o">.</span><span class="n">isValid</span><span class="p">()</span>
<a id="__codelineno-0-1917" name="__codelineno-0-1917"></a>        <span class="ow">or</span> <span class="n">analysis_crs</span><span class="o">.</span><span class="n">isGeographic</span><span class="p">()</span>
<a id="__codelineno-0-1918" name="__codelineno-0-1918"></a>    <span class="p">):</span>
<a id="__codelineno-0-1919" name="__codelineno-0-1919"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-1920" name="__codelineno-0-1920"></a>            <span class="n">tr</span><span class="p">(</span><span class="s2">"Please select a valid Coordinate System from step one."</span><span class="p">),</span>
<a id="__codelineno-0-1921" name="__codelineno-0-1921"></a>            <span class="n">level</span><span class="o">=</span><span class="n">Qgis</span><span class="o">.</span><span class="n">Critical</span><span class="p">,</span>
<a id="__codelineno-0-1922" name="__codelineno-0-1922"></a>        <span class="p">)</span>
<a id="__codelineno-0-1923" name="__codelineno-0-1923"></a>        <span class="k">return</span>
<a id="__codelineno-0-1924" name="__codelineno-0-1924"></a>
<a id="__codelineno-0-1925" name="__codelineno-0-1925"></a>    <span class="n">clip_to_studyarea</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-1926" name="__codelineno-0-1926"></a>    <span class="n">studyarea_path</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span>
<a id="__codelineno-0-1927" name="__codelineno-0-1927"></a>        <span class="n">Settings</span><span class="o">.</span><span class="n">STUDYAREA_PATH</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span> <span class="n">setting_type</span><span class="o">=</span><span class="nb">str</span>
<a id="__codelineno-0-1928" name="__codelineno-0-1928"></a>    <span class="p">)</span>
<a id="__codelineno-0-1929" name="__codelineno-0-1929"></a>    <span class="n">aoi_layer</span> <span class="o">=</span> <span class="n">QgsVectorLayer</span><span class="p">(</span><span class="n">studyarea_path</span><span class="p">,</span> <span class="s2">"studyarea_path"</span><span class="p">)</span>
<a id="__codelineno-0-1930" name="__codelineno-0-1930"></a>
<a id="__codelineno-0-1931" name="__codelineno-0-1931"></a>    <span class="k">if</span> <span class="p">(</span>
<a id="__codelineno-0-1932" name="__codelineno-0-1932"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_aoi_source_group</span><span class="o">.</span><span class="n">checkedId</span><span class="p">()</span> <span class="o">==</span> <span class="n">AreaOfInterestSource</span><span class="o">.</span><span class="n">LAYER</span><span class="o">.</span><span class="n">value</span>
<a id="__codelineno-0-1933" name="__codelineno-0-1933"></a>        <span class="ow">and</span> <span class="n">aoi_layer</span><span class="o">.</span><span class="n">isValid</span><span class="p">()</span>
<a id="__codelineno-0-1934" name="__codelineno-0-1934"></a>    <span class="p">):</span>
<a id="__codelineno-0-1935" name="__codelineno-0-1935"></a>        <span class="n">passed_extent</span> <span class="o">=</span> <span class="n">aoi_layer</span><span class="o">.</span><span class="n">extent</span><span class="p">()</span>
<a id="__codelineno-0-1936" name="__codelineno-0-1936"></a>        <span class="n">passed_extent_crs</span> <span class="o">=</span> <span class="n">aoi_layer</span><span class="o">.</span><span class="n">crs</span><span class="p">()</span>
<a id="__codelineno-0-1937" name="__codelineno-0-1937"></a>        <span class="n">clip_to_studyarea</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-1938" name="__codelineno-0-1938"></a>
<a id="__codelineno-0-1939" name="__codelineno-0-1939"></a>    <span class="k">if</span> <span class="n">passed_extent_crs</span> <span class="o">!=</span> <span class="n">analysis_crs</span><span class="p">:</span>
<a id="__codelineno-0-1940" name="__codelineno-0-1940"></a>        <span class="c1"># Transform extent to analysis CRS</span>
<a id="__codelineno-0-1941" name="__codelineno-0-1941"></a>        <span class="n">passed_extent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">transform_extent</span><span class="p">(</span>
<a id="__codelineno-0-1942" name="__codelineno-0-1942"></a>            <span class="n">passed_extent</span><span class="p">,</span> <span class="n">passed_extent_crs</span><span class="p">,</span> <span class="n">analysis_crs</span>
<a id="__codelineno-0-1943" name="__codelineno-0-1943"></a>        <span class="p">)</span>
<a id="__codelineno-0-1944" name="__codelineno-0-1944"></a>
<a id="__codelineno-0-1945" name="__codelineno-0-1945"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
<a id="__codelineno-0-1946" name="__codelineno-0-1946"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_description</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_description</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
<a id="__codelineno-0-1947" name="__codelineno-0-1947"></a>
<a id="__codelineno-0-1948" name="__codelineno-0-1948"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">position_feedback</span> <span class="o">=</span> <span class="n">QgsProcessingFeedback</span><span class="p">()</span>
<a id="__codelineno-0-1949" name="__codelineno-0-1949"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">processing_context</span> <span class="o">=</span> <span class="n">QgsProcessingContext</span><span class="p">()</span>
<a id="__codelineno-0-1950" name="__codelineno-0-1950"></a>
<a id="__codelineno-0-1951" name="__codelineno-0-1951"></a>    <span class="k">for</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_priority_groups</span><span class="p">():</span>
<a id="__codelineno-0-1952" name="__codelineno-0-1952"></a>        <span class="n">group_layer_dict</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-1953" name="__codelineno-0-1953"></a>            <span class="s2">"name"</span><span class="p">:</span> <span class="n">group</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"name"</span><span class="p">),</span>
<a id="__codelineno-0-1954" name="__codelineno-0-1954"></a>            <span class="s2">"value"</span><span class="p">:</span> <span class="n">group</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"value"</span><span class="p">),</span>
<a id="__codelineno-0-1955" name="__codelineno-0-1955"></a>            <span class="s2">"layers"</span><span class="p">:</span> <span class="p">[],</span>
<a id="__codelineno-0-1956" name="__codelineno-0-1956"></a>        <span class="p">}</span>
<a id="__codelineno-0-1957" name="__codelineno-0-1957"></a>        <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_priority_layers</span><span class="p">():</span>
<a id="__codelineno-0-1958" name="__codelineno-0-1958"></a>            <span class="n">pwl_items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">priority_layers_list</span><span class="o">.</span><span class="n">findItems</span><span class="p">(</span>
<a id="__codelineno-0-1959" name="__codelineno-0-1959"></a>                <span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"name"</span><span class="p">),</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">MatchExactly</span>
<a id="__codelineno-0-1960" name="__codelineno-0-1960"></a>            <span class="p">)</span>
<a id="__codelineno-0-1961" name="__codelineno-0-1961"></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pwl_items</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-1962" name="__codelineno-0-1962"></a>                <span class="c1"># Exclude adding the PWL since its for a disabled default</span>
<a id="__codelineno-0-1963" name="__codelineno-0-1963"></a>                <span class="c1"># item outside the pilot AOI.</span>
<a id="__codelineno-0-1964" name="__codelineno-0-1964"></a>                <span class="k">if</span> <span class="n">pwl_items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">flags</span><span class="p">()</span> <span class="o">==</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">NoItemFlags</span><span class="p">:</span>
<a id="__codelineno-0-1965" name="__codelineno-0-1965"></a>                    <span class="k">continue</span>
<a id="__codelineno-0-1966" name="__codelineno-0-1966"></a>
<a id="__codelineno-0-1967" name="__codelineno-0-1967"></a>            <span class="n">group_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">group</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"name"</span><span class="p">)</span> <span class="k">for</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"groups"</span><span class="p">,</span> <span class="p">[])]</span>
<a id="__codelineno-0-1968" name="__codelineno-0-1968"></a>            <span class="k">if</span> <span class="n">group</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"name"</span><span class="p">)</span> <span class="ow">in</span> <span class="n">group_names</span><span class="p">:</span>
<a id="__codelineno-0-1969" name="__codelineno-0-1969"></a>                <span class="n">group_layer_dict</span><span class="p">[</span><span class="s2">"layers"</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"name"</span><span class="p">))</span>
<a id="__codelineno-0-1970" name="__codelineno-0-1970"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">analysis_priority_layers_groups</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">group_layer_dict</span><span class="p">)</span>
<a id="__codelineno-0-1971" name="__codelineno-0-1971"></a>
<a id="__codelineno-0-1972" name="__codelineno-0-1972"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">analysis_activities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_activities</span><span class="p">()</span>
<a id="__codelineno-0-1973" name="__codelineno-0-1973"></a>
<a id="__codelineno-0-1974" name="__codelineno-0-1974"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">analysis_weighted_ims</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-1975" name="__codelineno-0-1975"></a>
<a id="__codelineno-0-1976" name="__codelineno-0-1976"></a>    <span class="n">base_dir</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">Settings</span><span class="o">.</span><span class="n">BASE_DIR</span><span class="p">)</span>
<a id="__codelineno-0-1977" name="__codelineno-0-1977"></a>
<a id="__codelineno-0-1978" name="__codelineno-0-1978"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_name</span> <span class="o">==</span> <span class="s2">""</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1979" name="__codelineno-0-1979"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-1980" name="__codelineno-0-1980"></a>            <span class="n">tr</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Scenario name cannot be blank."</span><span class="p">),</span>
<a id="__codelineno-0-1981" name="__codelineno-0-1981"></a>            <span class="n">level</span><span class="o">=</span><span class="n">Qgis</span><span class="o">.</span><span class="n">Critical</span><span class="p">,</span>
<a id="__codelineno-0-1982" name="__codelineno-0-1982"></a>        <span class="p">)</span>
<a id="__codelineno-0-1983" name="__codelineno-0-1983"></a>        <span class="k">return</span>
<a id="__codelineno-0-1984" name="__codelineno-0-1984"></a>    <span class="k">if</span> <span class="p">(</span>
<a id="__codelineno-0-1985" name="__codelineno-0-1985"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_description</span> <span class="o">==</span> <span class="s2">""</span>
<a id="__codelineno-0-1986" name="__codelineno-0-1986"></a>        <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_description</span> <span class="ow">is</span> <span class="kc">None</span>
<a id="__codelineno-0-1987" name="__codelineno-0-1987"></a>    <span class="p">):</span>
<a id="__codelineno-0-1988" name="__codelineno-0-1988"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-1989" name="__codelineno-0-1989"></a>            <span class="n">tr</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Scenario description cannot be blank."</span><span class="p">),</span>
<a id="__codelineno-0-1990" name="__codelineno-0-1990"></a>            <span class="n">level</span><span class="o">=</span><span class="n">Qgis</span><span class="o">.</span><span class="n">Critical</span><span class="p">,</span>
<a id="__codelineno-0-1991" name="__codelineno-0-1991"></a>        <span class="p">)</span>
<a id="__codelineno-0-1992" name="__codelineno-0-1992"></a>        <span class="k">return</span>
<a id="__codelineno-0-1993" name="__codelineno-0-1993"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">analysis_activities</span> <span class="o">==</span> <span class="p">[]</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">analysis_activities</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1994" name="__codelineno-0-1994"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-1995" name="__codelineno-0-1995"></a>            <span class="n">tr</span><span class="p">(</span><span class="s2">"Select at least one activity from step two."</span><span class="p">),</span>
<a id="__codelineno-0-1996" name="__codelineno-0-1996"></a>            <span class="n">level</span><span class="o">=</span><span class="n">Qgis</span><span class="o">.</span><span class="n">Critical</span><span class="p">,</span>
<a id="__codelineno-0-1997" name="__codelineno-0-1997"></a>        <span class="p">)</span>
<a id="__codelineno-0-1998" name="__codelineno-0-1998"></a>        <span class="k">return</span>
<a id="__codelineno-0-1999" name="__codelineno-0-1999"></a>
<a id="__codelineno-0-2000" name="__codelineno-0-2000"></a>    <span class="k">if</span> <span class="n">base_dir</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-2001" name="__codelineno-0-2001"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-2002" name="__codelineno-0-2002"></a>            <span class="n">tr</span><span class="p">(</span>
<a id="__codelineno-0-2003" name="__codelineno-0-2003"></a>                <span class="sa">f</span><span class="s2">"Plugin base data directory is not set! "</span>
<a id="__codelineno-0-2004" name="__codelineno-0-2004"></a>                <span class="sa">f</span><span class="s2">"Go to plugin settings in order to set it."</span>
<a id="__codelineno-0-2005" name="__codelineno-0-2005"></a>            <span class="p">),</span>
<a id="__codelineno-0-2006" name="__codelineno-0-2006"></a>            <span class="n">level</span><span class="o">=</span><span class="n">Qgis</span><span class="o">.</span><span class="n">Critical</span><span class="p">,</span>
<a id="__codelineno-0-2007" name="__codelineno-0-2007"></a>        <span class="p">)</span>
<a id="__codelineno-0-2008" name="__codelineno-0-2008"></a>        <span class="k">return</span>
<a id="__codelineno-0-2009" name="__codelineno-0-2009"></a>
<a id="__codelineno-0-2010" name="__codelineno-0-2010"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">processing_type</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
<a id="__codelineno-0-2011" name="__codelineno-0-2011"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_trends_auth</span><span class="p">():</span>
<a id="__codelineno-0-2012" name="__codelineno-0-2012"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-2013" name="__codelineno-0-2013"></a>                <span class="n">tr</span><span class="p">(</span>
<a id="__codelineno-0-2014" name="__codelineno-0-2014"></a>                    <span class="sa">f</span><span class="s2">"Trends.Earth account is not set! "</span>
<a id="__codelineno-0-2015" name="__codelineno-0-2015"></a>                    <span class="sa">f</span><span class="s2">"Go to plugin settings in order to set it."</span>
<a id="__codelineno-0-2016" name="__codelineno-0-2016"></a>                <span class="p">),</span>
<a id="__codelineno-0-2017" name="__codelineno-0-2017"></a>                <span class="n">level</span><span class="o">=</span><span class="n">Qgis</span><span class="o">.</span><span class="n">Critical</span><span class="p">,</span>
<a id="__codelineno-0-2018" name="__codelineno-0-2018"></a>            <span class="p">)</span>
<a id="__codelineno-0-2019" name="__codelineno-0-2019"></a>            <span class="k">return</span>
<a id="__codelineno-0-2020" name="__codelineno-0-2020"></a>
<a id="__codelineno-0-2021" name="__codelineno-0-2021"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">analysis_extent</span> <span class="o">=</span> <span class="n">SpatialExtent</span><span class="p">(</span>
<a id="__codelineno-0-2022" name="__codelineno-0-2022"></a>        <span class="n">bbox</span><span class="o">=</span><span class="p">[</span>
<a id="__codelineno-0-2023" name="__codelineno-0-2023"></a>            <span class="n">passed_extent</span><span class="o">.</span><span class="n">xMinimum</span><span class="p">(),</span>
<a id="__codelineno-0-2024" name="__codelineno-0-2024"></a>            <span class="n">passed_extent</span><span class="o">.</span><span class="n">xMaximum</span><span class="p">(),</span>
<a id="__codelineno-0-2025" name="__codelineno-0-2025"></a>            <span class="n">passed_extent</span><span class="o">.</span><span class="n">yMinimum</span><span class="p">(),</span>
<a id="__codelineno-0-2026" name="__codelineno-0-2026"></a>            <span class="n">passed_extent</span><span class="o">.</span><span class="n">yMaximum</span><span class="p">(),</span>
<a id="__codelineno-0-2027" name="__codelineno-0-2027"></a>        <span class="p">],</span>
<a id="__codelineno-0-2028" name="__codelineno-0-2028"></a>        <span class="n">crs</span><span class="o">=</span><span class="n">analysis_crs</span><span class="o">.</span><span class="n">authid</span><span class="p">(),</span>
<a id="__codelineno-0-2029" name="__codelineno-0-2029"></a>    <span class="p">)</span>
<a id="__codelineno-0-2030" name="__codelineno-0-2030"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-2031" name="__codelineno-0-2031"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">enable_analysis_controls</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-2032" name="__codelineno-0-2032"></a>
<a id="__codelineno-0-2033" name="__codelineno-0-2033"></a>        <span class="n">scenario</span> <span class="o">=</span> <span class="n">Scenario</span><span class="p">(</span>
<a id="__codelineno-0-2034" name="__codelineno-0-2034"></a>            <span class="n">uuid</span><span class="o">=</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">(),</span>
<a id="__codelineno-0-2035" name="__codelineno-0-2035"></a>            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_name</span><span class="p">,</span>
<a id="__codelineno-0-2036" name="__codelineno-0-2036"></a>            <span class="n">description</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_description</span><span class="p">,</span>
<a id="__codelineno-0-2037" name="__codelineno-0-2037"></a>            <span class="n">extent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">analysis_extent</span><span class="p">,</span>
<a id="__codelineno-0-2038" name="__codelineno-0-2038"></a>            <span class="n">activities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">analysis_activities</span><span class="p">,</span>
<a id="__codelineno-0-2039" name="__codelineno-0-2039"></a>            <span class="n">priority_layer_groups</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">analysis_priority_layers_groups</span><span class="p">,</span>
<a id="__codelineno-0-2040" name="__codelineno-0-2040"></a>            <span class="n">clip_to_studyarea</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">can_clip_to_studyarea</span><span class="p">(),</span>
<a id="__codelineno-0-2041" name="__codelineno-0-2041"></a>            <span class="n">studyarea_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_studyarea_path</span><span class="p">(),</span>
<a id="__codelineno-0-2042" name="__codelineno-0-2042"></a>            <span class="n">crs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">analysis_extent</span><span class="o">.</span><span class="n">crs</span><span class="p">,</span>
<a id="__codelineno-0-2043" name="__codelineno-0-2043"></a>        <span class="p">)</span>
<a id="__codelineno-0-2044" name="__codelineno-0-2044"></a>
<a id="__codelineno-0-2045" name="__codelineno-0-2045"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">processing_cancelled</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-2046" name="__codelineno-0-2046"></a>
<a id="__codelineno-0-2047" name="__codelineno-0-2047"></a>        <span class="c1"># Creates and opens the progress dialog for the analysis</span>
<a id="__codelineno-0-2048" name="__codelineno-0-2048"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">processing_type</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
<a id="__codelineno-0-2049" name="__codelineno-0-2049"></a>            <span class="n">progress_dialog</span> <span class="o">=</span> <span class="n">OnlineProgressDialog</span><span class="p">(</span>
<a id="__codelineno-0-2050" name="__codelineno-0-2050"></a>                <span class="n">minimum</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-0-2051" name="__codelineno-0-2051"></a>                <span class="n">maximum</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<a id="__codelineno-0-2052" name="__codelineno-0-2052"></a>                <span class="n">main_widget</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-2053" name="__codelineno-0-2053"></a>                <span class="n">scenario_id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">scenario</span><span class="o">.</span><span class="n">uuid</span><span class="p">),</span>
<a id="__codelineno-0-2054" name="__codelineno-0-2054"></a>                <span class="n">scenario_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_name</span><span class="p">,</span>
<a id="__codelineno-0-2055" name="__codelineno-0-2055"></a>            <span class="p">)</span>
<a id="__codelineno-0-2056" name="__codelineno-0-2056"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-2057" name="__codelineno-0-2057"></a>            <span class="c1"># Creates and opens the progress dialog for the analysis</span>
<a id="__codelineno-0-2058" name="__codelineno-0-2058"></a>            <span class="n">progress_dialog</span> <span class="o">=</span> <span class="n">ProgressDialog</span><span class="p">(</span>
<a id="__codelineno-0-2059" name="__codelineno-0-2059"></a>                <span class="n">minimum</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-0-2060" name="__codelineno-0-2060"></a>                <span class="n">maximum</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<a id="__codelineno-0-2061" name="__codelineno-0-2061"></a>                <span class="n">main_widget</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-2062" name="__codelineno-0-2062"></a>                <span class="n">scenario_id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">scenario</span><span class="o">.</span><span class="n">uuid</span><span class="p">),</span>
<a id="__codelineno-0-2063" name="__codelineno-0-2063"></a>                <span class="n">scenario_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_name</span><span class="p">,</span>
<a id="__codelineno-0-2064" name="__codelineno-0-2064"></a>            <span class="p">)</span>
<a id="__codelineno-0-2065" name="__codelineno-0-2065"></a>        <span class="n">progress_dialog</span><span class="o">.</span><span class="n">analysis_cancelled</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
<a id="__codelineno-0-2066" name="__codelineno-0-2066"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_progress_dialog_cancelled</span>
<a id="__codelineno-0-2067" name="__codelineno-0-2067"></a>        <span class="p">)</span>
<a id="__codelineno-0-2068" name="__codelineno-0-2068"></a>        <span class="n">progress_dialog</span><span class="o">.</span><span class="n">run_dialog</span><span class="p">()</span>
<a id="__codelineno-0-2069" name="__codelineno-0-2069"></a>
<a id="__codelineno-0-2070" name="__codelineno-0-2070"></a>        <span class="n">progress_dialog</span><span class="o">.</span><span class="n">change_status_message</span><span class="p">(</span>
<a id="__codelineno-0-2071" name="__codelineno-0-2071"></a>            <span class="n">tr</span><span class="p">(</span><span class="s2">"Raster calculation for activities pathways"</span><span class="p">)</span>
<a id="__codelineno-0-2072" name="__codelineno-0-2072"></a>        <span class="p">)</span>
<a id="__codelineno-0-2073" name="__codelineno-0-2073"></a>
<a id="__codelineno-0-2074" name="__codelineno-0-2074"></a>        <span class="n">pathway_found</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-2075" name="__codelineno-0-2075"></a>        <span class="n">use_default_layer</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-2076" name="__codelineno-0-2076"></a>
<a id="__codelineno-0-2077" name="__codelineno-0-2077"></a>        <span class="k">for</span> <span class="n">activity</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">analysis_activities</span><span class="p">:</span>
<a id="__codelineno-0-2078" name="__codelineno-0-2078"></a>            <span class="k">if</span> <span class="n">pathway_found</span><span class="p">:</span>
<a id="__codelineno-0-2079" name="__codelineno-0-2079"></a>                <span class="k">break</span>
<a id="__codelineno-0-2080" name="__codelineno-0-2080"></a>            <span class="k">for</span> <span class="n">pathway</span> <span class="ow">in</span> <span class="n">activity</span><span class="o">.</span><span class="n">pathways</span><span class="p">:</span>
<a id="__codelineno-0-2081" name="__codelineno-0-2081"></a>                <span class="k">if</span> <span class="n">pathway</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-2082" name="__codelineno-0-2082"></a>                    <span class="k">continue</span>
<a id="__codelineno-0-2083" name="__codelineno-0-2083"></a>                <span class="k">if</span> <span class="n">pathway</span><span class="o">.</span><span class="n">layer_uuid</span><span class="p">:</span>
<a id="__codelineno-0-2084" name="__codelineno-0-2084"></a>                    <span class="n">use_default_layer</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-2085" name="__codelineno-0-2085"></a>                <span class="k">elif</span> <span class="n">pathway</span><span class="o">.</span><span class="n">path</span><span class="p">:</span>
<a id="__codelineno-0-2086" name="__codelineno-0-2086"></a>                    <span class="n">pathway_found</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-2087" name="__codelineno-0-2087"></a>                    <span class="k">break</span>
<a id="__codelineno-0-2088" name="__codelineno-0-2088"></a>
<a id="__codelineno-0-2089" name="__codelineno-0-2089"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">pathway_found</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">use_default_layer</span><span class="p">:</span>
<a id="__codelineno-0-2090" name="__codelineno-0-2090"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-2091" name="__codelineno-0-2091"></a>                <span class="n">tr</span><span class="p">(</span>
<a id="__codelineno-0-2092" name="__codelineno-0-2092"></a>                    <span class="s2">"NCS pathways were not found in the selected activities, "</span>
<a id="__codelineno-0-2093" name="__codelineno-0-2093"></a>                    <span class="s2">"Make sure to define pathways for the selected activities "</span>
<a id="__codelineno-0-2094" name="__codelineno-0-2094"></a>                    <span class="s2">"before running the scenario"</span>
<a id="__codelineno-0-2095" name="__codelineno-0-2095"></a>                <span class="p">)</span>
<a id="__codelineno-0-2096" name="__codelineno-0-2096"></a>            <span class="p">)</span>
<a id="__codelineno-0-2097" name="__codelineno-0-2097"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">processing_cancelled</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-2098" name="__codelineno-0-2098"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">enable_analysis_controls</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-2099" name="__codelineno-0-2099"></a>
<a id="__codelineno-0-2100" name="__codelineno-0-2100"></a>            <span class="k">return</span>
<a id="__codelineno-0-2101" name="__codelineno-0-2101"></a>
<a id="__codelineno-0-2102" name="__codelineno-0-2102"></a>        <span class="n">dt_alg</span> <span class="o">=</span> <span class="n">ApplyNcsDecisionTreeAlgorithm</span><span class="p">()</span>
<a id="__codelineno-0-2103" name="__codelineno-0-2103"></a>        <span class="n">pixel_size</span> <span class="o">=</span> <span class="mf">30.0</span>
<a id="__codelineno-0-2104" name="__codelineno-0-2104"></a>        <span class="n">nodata_val</span> <span class="o">=</span> <span class="o">-</span><span class="mi">9999</span>
<a id="__codelineno-0-2105" name="__codelineno-0-2105"></a>        <span class="n">dt_extent</span> <span class="o">=</span> <span class="n">QgsRectangle</span><span class="p">(</span>
<a id="__codelineno-0-2106" name="__codelineno-0-2106"></a>            <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">analysis_extent</span><span class="o">.</span><span class="n">bbox</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
<a id="__codelineno-0-2107" name="__codelineno-0-2107"></a>            <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">analysis_extent</span><span class="o">.</span><span class="n">bbox</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span>
<a id="__codelineno-0-2108" name="__codelineno-0-2108"></a>            <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">analysis_extent</span><span class="o">.</span><span class="n">bbox</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
<a id="__codelineno-0-2109" name="__codelineno-0-2109"></a>            <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">analysis_extent</span><span class="o">.</span><span class="n">bbox</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span>
<a id="__codelineno-0-2110" name="__codelineno-0-2110"></a>        <span class="p">)</span>
<a id="__codelineno-0-2111" name="__codelineno-0-2111"></a>
<a id="__codelineno-0-2112" name="__codelineno-0-2112"></a>        <span class="n">scenario_dir</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">Settings</span><span class="o">.</span><span class="n">BASE_DIR</span><span class="p">)</span>
<a id="__codelineno-0-2113" name="__codelineno-0-2113"></a>        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">scenario_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-2114" name="__codelineno-0-2114"></a>
<a id="__codelineno-0-2115" name="__codelineno-0-2115"></a>        <span class="k">for</span> <span class="n">activity</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">analysis_activities</span><span class="p">:</span>
<a id="__codelineno-0-2116" name="__codelineno-0-2116"></a>            <span class="n">out_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_name</span><span class="si">}</span><span class="s2">__</span><span class="si">{</span><span class="n">activity</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">__decision_protect.tif"</span>
<a id="__codelineno-0-2117" name="__codelineno-0-2117"></a>            <span class="n">out_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">scenario_dir</span><span class="p">,</span> <span class="n">out_name</span><span class="p">)</span>
<a id="__codelineno-0-2118" name="__codelineno-0-2118"></a>
<a id="__codelineno-0-2119" name="__codelineno-0-2119"></a>            <span class="n">dt_params</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-2120" name="__codelineno-0-2120"></a>                <span class="n">dt_alg</span><span class="o">.</span><span class="n">P_ACTIVITY_ID</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">activity</span><span class="o">.</span><span class="n">uuid</span><span class="p">),</span>
<a id="__codelineno-0-2121" name="__codelineno-0-2121"></a>                <span class="n">dt_alg</span><span class="o">.</span><span class="n">P_TARGET_CRS</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">analysis_extent</span><span class="o">.</span><span class="n">crs</span><span class="p">,</span>
<a id="__codelineno-0-2122" name="__codelineno-0-2122"></a>                <span class="n">dt_alg</span><span class="o">.</span><span class="n">P_EXTENT</span><span class="p">:</span> <span class="n">dt_extent</span><span class="p">,</span>
<a id="__codelineno-0-2123" name="__codelineno-0-2123"></a>                <span class="n">dt_alg</span><span class="o">.</span><span class="n">P_PIXEL</span><span class="p">:</span> <span class="n">pixel_size</span><span class="p">,</span>
<a id="__codelineno-0-2124" name="__codelineno-0-2124"></a>                <span class="n">dt_alg</span><span class="o">.</span><span class="n">P_NODATA</span><span class="p">:</span> <span class="n">nodata_val</span><span class="p">,</span>
<a id="__codelineno-0-2125" name="__codelineno-0-2125"></a>                <span class="n">dt_alg</span><span class="o">.</span><span class="n">P_SELECTED_ACTION</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>  <span class="c1"># 0=Protect; see CHOICES_ACTION</span>
<a id="__codelineno-0-2126" name="__codelineno-0-2126"></a>                <span class="n">dt_alg</span><span class="o">.</span><span class="n">O_SELECTED</span><span class="p">:</span> <span class="n">out_path</span><span class="p">,</span>
<a id="__codelineno-0-2127" name="__codelineno-0-2127"></a>            <span class="p">}</span>
<a id="__codelineno-0-2128" name="__codelineno-0-2128"></a>            <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-2129" name="__codelineno-0-2129"></a>                <span class="n">dt_result</span> <span class="o">=</span> <span class="n">dt_alg</span><span class="o">.</span><span class="n">processAlgorithm</span><span class="p">(</span>
<a id="__codelineno-0-2130" name="__codelineno-0-2130"></a>                    <span class="n">dt_params</span><span class="p">,</span>
<a id="__codelineno-0-2131" name="__codelineno-0-2131"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">processing_context</span><span class="p">,</span>
<a id="__codelineno-0-2132" name="__codelineno-0-2132"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">position_feedback</span><span class="p">,</span>
<a id="__codelineno-0-2133" name="__codelineno-0-2133"></a>                <span class="p">)</span>
<a id="__codelineno-0-2134" name="__codelineno-0-2134"></a>                <span class="n">mask_path</span> <span class="o">=</span> <span class="n">dt_result</span><span class="p">[</span><span class="n">dt_alg</span><span class="o">.</span><span class="n">O_SELECTED</span><span class="p">]</span>
<a id="__codelineno-0-2135" name="__codelineno-0-2135"></a>
<a id="__codelineno-0-2136" name="__codelineno-0-2136"></a>                <span class="c1"># Ensure mask_paths exists</span>
<a id="__codelineno-0-2137" name="__codelineno-0-2137"></a>                <span class="k">if</span> <span class="p">(</span>
<a id="__codelineno-0-2138" name="__codelineno-0-2138"></a>                    <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">activity</span><span class="p">,</span> <span class="s2">"mask_paths"</span><span class="p">)</span>
<a id="__codelineno-0-2139" name="__codelineno-0-2139"></a>                    <span class="ow">or</span> <span class="n">activity</span><span class="o">.</span><span class="n">mask_paths</span> <span class="ow">is</span> <span class="kc">None</span>
<a id="__codelineno-0-2140" name="__codelineno-0-2140"></a>                <span class="p">):</span>
<a id="__codelineno-0-2141" name="__codelineno-0-2141"></a>                    <span class="n">activity</span><span class="o">.</span><span class="n">mask_paths</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-2142" name="__codelineno-0-2142"></a>
<a id="__codelineno-0-2143" name="__codelineno-0-2143"></a>                <span class="n">activity</span><span class="o">.</span><span class="n">mask_paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mask_path</span><span class="p">)</span>
<a id="__codelineno-0-2144" name="__codelineno-0-2144"></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-2145" name="__codelineno-0-2145"></a>                <span class="n">log</span><span class="p">(</span>
<a id="__codelineno-0-2146" name="__codelineno-0-2146"></a>                    <span class="n">tr</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Decision Tree failed for </span><span class="si">{</span><span class="n">activity</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span><span class="p">),</span> <span class="n">info</span><span class="o">=</span><span class="kc">False</span>
<a id="__codelineno-0-2147" name="__codelineno-0-2147"></a>                <span class="p">)</span>
<a id="__codelineno-0-2148" name="__codelineno-0-2148"></a>
<a id="__codelineno-0-2149" name="__codelineno-0-2149"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">processing_type</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
<a id="__codelineno-0-2150" name="__codelineno-0-2150"></a>            <span class="n">analysis_task</span> <span class="o">=</span> <span class="n">ScenarioAnalysisTaskApiClient</span><span class="p">(</span>
<a id="__codelineno-0-2151" name="__codelineno-0-2151"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_name</span><span class="p">,</span>
<a id="__codelineno-0-2152" name="__codelineno-0-2152"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_description</span><span class="p">,</span>
<a id="__codelineno-0-2153" name="__codelineno-0-2153"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">analysis_activities</span><span class="p">,</span>
<a id="__codelineno-0-2154" name="__codelineno-0-2154"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">analysis_priority_layers_groups</span><span class="p">,</span>
<a id="__codelineno-0-2155" name="__codelineno-0-2155"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">analysis_extent</span><span class="p">,</span>
<a id="__codelineno-0-2156" name="__codelineno-0-2156"></a>                <span class="n">scenario</span><span class="p">,</span>
<a id="__codelineno-0-2157" name="__codelineno-0-2157"></a>                <span class="n">SpatialExtent</span><span class="p">(</span>
<a id="__codelineno-0-2158" name="__codelineno-0-2158"></a>                    <span class="n">bbox</span><span class="o">=</span><span class="p">[</span>
<a id="__codelineno-0-2159" name="__codelineno-0-2159"></a>                        <span class="n">passed_extent</span><span class="o">.</span><span class="n">xMinimum</span><span class="p">(),</span>
<a id="__codelineno-0-2160" name="__codelineno-0-2160"></a>                        <span class="n">passed_extent</span><span class="o">.</span><span class="n">xMaximum</span><span class="p">(),</span>
<a id="__codelineno-0-2161" name="__codelineno-0-2161"></a>                        <span class="n">passed_extent</span><span class="o">.</span><span class="n">yMinimum</span><span class="p">(),</span>
<a id="__codelineno-0-2162" name="__codelineno-0-2162"></a>                        <span class="n">passed_extent</span><span class="o">.</span><span class="n">yMaximum</span><span class="p">(),</span>
<a id="__codelineno-0-2163" name="__codelineno-0-2163"></a>                    <span class="p">],</span>
<a id="__codelineno-0-2164" name="__codelineno-0-2164"></a>                    <span class="n">crs</span><span class="o">=</span><span class="n">passed_extent_crs</span><span class="o">.</span><span class="n">authid</span><span class="p">()</span> <span class="k">if</span> <span class="n">passed_extent_crs</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-2165" name="__codelineno-0-2165"></a>                <span class="p">),</span>
<a id="__codelineno-0-2166" name="__codelineno-0-2166"></a>                <span class="n">clip_to_studyarea</span><span class="p">,</span>
<a id="__codelineno-0-2167" name="__codelineno-0-2167"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">get_studyarea_path</span><span class="p">(),</span>
<a id="__codelineno-0-2168" name="__codelineno-0-2168"></a>            <span class="p">)</span>
<a id="__codelineno-0-2169" name="__codelineno-0-2169"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-2170" name="__codelineno-0-2170"></a>            <span class="n">analysis_task</span> <span class="o">=</span> <span class="n">ScenarioAnalysisTask</span><span class="p">(</span>
<a id="__codelineno-0-2171" name="__codelineno-0-2171"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_name</span><span class="p">,</span>
<a id="__codelineno-0-2172" name="__codelineno-0-2172"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">analysis_scenario_description</span><span class="p">,</span>
<a id="__codelineno-0-2173" name="__codelineno-0-2173"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">analysis_activities</span><span class="p">,</span>
<a id="__codelineno-0-2174" name="__codelineno-0-2174"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">analysis_priority_layers_groups</span><span class="p">,</span>
<a id="__codelineno-0-2175" name="__codelineno-0-2175"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">analysis_extent</span><span class="p">,</span>
<a id="__codelineno-0-2176" name="__codelineno-0-2176"></a>                <span class="n">scenario</span><span class="p">,</span>
<a id="__codelineno-0-2177" name="__codelineno-0-2177"></a>                <span class="n">clip_to_studyarea</span><span class="p">,</span>
<a id="__codelineno-0-2178" name="__codelineno-0-2178"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">get_studyarea_path</span><span class="p">(),</span>
<a id="__codelineno-0-2179" name="__codelineno-0-2179"></a>            <span class="p">)</span>
<a id="__codelineno-0-2180" name="__codelineno-0-2180"></a>
<a id="__codelineno-0-2181" name="__codelineno-0-2181"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">run_cplus_main_task</span><span class="p">(</span><span class="n">progress_dialog</span><span class="p">,</span> <span class="n">scenario</span><span class="p">,</span> <span class="n">analysis_task</span><span class="p">)</span>
<a id="__codelineno-0-2182" name="__codelineno-0-2182"></a>
<a id="__codelineno-0-2183" name="__codelineno-0-2183"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
<a id="__codelineno-0-2184" name="__codelineno-0-2184"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-2185" name="__codelineno-0-2185"></a>            <span class="n">tr</span><span class="p">(</span><span class="s2">"An error occurred when preparing analysis task"</span><span class="p">),</span>
<a id="__codelineno-0-2186" name="__codelineno-0-2186"></a>            <span class="n">level</span><span class="o">=</span><span class="n">Qgis</span><span class="o">.</span><span class="n">Info</span><span class="p">,</span>
<a id="__codelineno-0-2187" name="__codelineno-0-2187"></a>        <span class="p">)</span>
<a id="__codelineno-0-2188" name="__codelineno-0-2188"></a>        <span class="n">log</span><span class="p">(</span>
<a id="__codelineno-0-2189" name="__codelineno-0-2189"></a>            <span class="n">tr</span><span class="p">(</span>
<a id="__codelineno-0-2190" name="__codelineno-0-2190"></a>                <span class="s2">"An error occurred when preparing analysis task"</span>
<a id="__codelineno-0-2191" name="__codelineno-0-2191"></a>                <span class="s1">', error message "</span><span class="si">{}</span><span class="s1">"'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<a id="__codelineno-0-2192" name="__codelineno-0-2192"></a>            <span class="p">)</span>
<a id="__codelineno-0-2193" name="__codelineno-0-2193"></a>        <span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.run_report" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">run_report</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.run_report" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">run_report</span><span class="p">(</span><span class="n">progress_dialog</span><span class="p">,</span> <span class="n">report_manager</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Run report generation. This should be called after the
analysis is complete.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>progress_dialog</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ProgressDialog (src.cplus_plugin.gui.progress_dialog.ProgressDialog)" href="../api_progress_dialog/#src.cplus_plugin.gui.progress_dialog.ProgressDialog">ProgressDialog</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dialog responsible for showing all the analysis operations progress.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>report_manager</code></td>
            <td>
                  <code><span title="ReportManager">ReportManager</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Report manager used to generate analysis report_templates</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2910">2910</a></span>
<span class="normal"><a href="#__codelineno-0-2911">2911</a></span>
<span class="normal"><a href="#__codelineno-0-2912">2912</a></span>
<span class="normal"><a href="#__codelineno-0-2913">2913</a></span>
<span class="normal"><a href="#__codelineno-0-2914">2914</a></span>
<span class="normal"><a href="#__codelineno-0-2915">2915</a></span>
<span class="normal"><a href="#__codelineno-0-2916">2916</a></span>
<span class="normal"><a href="#__codelineno-0-2917">2917</a></span>
<span class="normal"><a href="#__codelineno-0-2918">2918</a></span>
<span class="normal"><a href="#__codelineno-0-2919">2919</a></span>
<span class="normal"><a href="#__codelineno-0-2920">2920</a></span>
<span class="normal"><a href="#__codelineno-0-2921">2921</a></span>
<span class="normal"><a href="#__codelineno-0-2922">2922</a></span>
<span class="normal"><a href="#__codelineno-0-2923">2923</a></span>
<span class="normal"><a href="#__codelineno-0-2924">2924</a></span>
<span class="normal"><a href="#__codelineno-0-2925">2925</a></span>
<span class="normal"><a href="#__codelineno-0-2926">2926</a></span>
<span class="normal"><a href="#__codelineno-0-2927">2927</a></span>
<span class="normal"><a href="#__codelineno-0-2928">2928</a></span>
<span class="normal"><a href="#__codelineno-0-2929">2929</a></span>
<span class="normal"><a href="#__codelineno-0-2930">2930</a></span>
<span class="normal"><a href="#__codelineno-0-2931">2931</a></span>
<span class="normal"><a href="#__codelineno-0-2932">2932</a></span>
<span class="normal"><a href="#__codelineno-0-2933">2933</a></span>
<span class="normal"><a href="#__codelineno-0-2934">2934</a></span>
<span class="normal"><a href="#__codelineno-0-2935">2935</a></span>
<span class="normal"><a href="#__codelineno-0-2936">2936</a></span>
<span class="normal"><a href="#__codelineno-0-2937">2937</a></span>
<span class="normal"><a href="#__codelineno-0-2938">2938</a></span>
<span class="normal"><a href="#__codelineno-0-2939">2939</a></span>
<span class="normal"><a href="#__codelineno-0-2940">2940</a></span>
<span class="normal"><a href="#__codelineno-0-2941">2941</a></span>
<span class="normal"><a href="#__codelineno-0-2942">2942</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2910" name="__codelineno-0-2910"></a><span class="k">def</span> <span class="nf">run_report</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">progress_dialog</span><span class="p">,</span> <span class="n">report_manager</span><span class="p">):</span>
<a id="__codelineno-0-2911" name="__codelineno-0-2911"></a>    <span class="sd">"""Run report generation. This should be called after the</span>
<a id="__codelineno-0-2912" name="__codelineno-0-2912"></a><span class="sd">    analysis is complete.</span>
<a id="__codelineno-0-2913" name="__codelineno-0-2913"></a>
<a id="__codelineno-0-2914" name="__codelineno-0-2914"></a><span class="sd">    :param progress_dialog: Dialog responsible for showing</span>
<a id="__codelineno-0-2915" name="__codelineno-0-2915"></a><span class="sd">     all the analysis operations progress.</span>
<a id="__codelineno-0-2916" name="__codelineno-0-2916"></a><span class="sd">    :type progress_dialog: ProgressDialog</span>
<a id="__codelineno-0-2917" name="__codelineno-0-2917"></a>
<a id="__codelineno-0-2918" name="__codelineno-0-2918"></a><span class="sd">    :param report_manager: Report manager used to generate analysis report_templates</span>
<a id="__codelineno-0-2919" name="__codelineno-0-2919"></a><span class="sd">    :type report_manager: ReportManager</span>
<a id="__codelineno-0-2920" name="__codelineno-0-2920"></a><span class="sd">    """</span>
<a id="__codelineno-0-2921" name="__codelineno-0-2921"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">processing_cancelled</span><span class="p">:</span>
<a id="__codelineno-0-2922" name="__codelineno-0-2922"></a>        <span class="c1"># Will not proceed if processing has been cancelled by the user</span>
<a id="__codelineno-0-2923" name="__codelineno-0-2923"></a>        <span class="k">return</span>
<a id="__codelineno-0-2924" name="__codelineno-0-2924"></a>
<a id="__codelineno-0-2925" name="__codelineno-0-2925"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-2926" name="__codelineno-0-2926"></a>        <span class="n">log</span><span class="p">(</span>
<a id="__codelineno-0-2927" name="__codelineno-0-2927"></a>            <span class="s2">"Cannot run report generation, scenario result is not defined"</span><span class="p">,</span>
<a id="__codelineno-0-2928" name="__codelineno-0-2928"></a>            <span class="n">info</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-2929" name="__codelineno-0-2929"></a>        <span class="p">)</span>
<a id="__codelineno-0-2930" name="__codelineno-0-2930"></a>        <span class="k">return</span>
<a id="__codelineno-0-2931" name="__codelineno-0-2931"></a>
<a id="__codelineno-0-2932" name="__codelineno-0-2932"></a>    <span class="n">reporting_feedback</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reset_reporting_feedback</span><span class="p">(</span><span class="n">progress_dialog</span><span class="p">)</span>
<a id="__codelineno-0-2933" name="__codelineno-0-2933"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">reporting_feedback</span> <span class="o">=</span> <span class="n">reporting_feedback</span>
<a id="__codelineno-0-2934" name="__codelineno-0-2934"></a>
<a id="__codelineno-0-2935" name="__codelineno-0-2935"></a>    <span class="n">submit_result</span> <span class="o">=</span> <span class="n">report_manager</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span>
<a id="__codelineno-0-2936" name="__codelineno-0-2936"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scenario_result</span><span class="p">,</span>
<a id="__codelineno-0-2937" name="__codelineno-0-2937"></a>        <span class="n">reporting_feedback</span><span class="p">,</span>
<a id="__codelineno-0-2938" name="__codelineno-0-2938"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chb_metric_builder</span><span class="o">.</span><span class="n">isChecked</span><span class="p">(),</span>
<a id="__codelineno-0-2939" name="__codelineno-0-2939"></a>    <span class="p">)</span>
<a id="__codelineno-0-2940" name="__codelineno-0-2940"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">submit_result</span><span class="o">.</span><span class="n">status</span><span class="p">:</span>
<a id="__codelineno-0-2941" name="__codelineno-0-2941"></a>        <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span><span class="s2">"Unable to submit report request for scenario"</span><span class="p">)</span>
<a id="__codelineno-0-2942" name="__codelineno-0-2942"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">scenario_result</span><span class="o">.</span><span class="n">scenario</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">."</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.save_scenario" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">save_scenario</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.save_scenario" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">save_scenario</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Save current scenario details into settings</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-638">638</a></span>
<span class="normal"><a href="#__codelineno-0-639">639</a></span>
<span class="normal"><a href="#__codelineno-0-640">640</a></span>
<span class="normal"><a href="#__codelineno-0-641">641</a></span>
<span class="normal"><a href="#__codelineno-0-642">642</a></span>
<span class="normal"><a href="#__codelineno-0-643">643</a></span>
<span class="normal"><a href="#__codelineno-0-644">644</a></span>
<span class="normal"><a href="#__codelineno-0-645">645</a></span>
<span class="normal"><a href="#__codelineno-0-646">646</a></span>
<span class="normal"><a href="#__codelineno-0-647">647</a></span>
<span class="normal"><a href="#__codelineno-0-648">648</a></span>
<span class="normal"><a href="#__codelineno-0-649">649</a></span>
<span class="normal"><a href="#__codelineno-0-650">650</a></span>
<span class="normal"><a href="#__codelineno-0-651">651</a></span>
<span class="normal"><a href="#__codelineno-0-652">652</a></span>
<span class="normal"><a href="#__codelineno-0-653">653</a></span>
<span class="normal"><a href="#__codelineno-0-654">654</a></span>
<span class="normal"><a href="#__codelineno-0-655">655</a></span>
<span class="normal"><a href="#__codelineno-0-656">656</a></span>
<span class="normal"><a href="#__codelineno-0-657">657</a></span>
<span class="normal"><a href="#__codelineno-0-658">658</a></span>
<span class="normal"><a href="#__codelineno-0-659">659</a></span>
<span class="normal"><a href="#__codelineno-0-660">660</a></span>
<span class="normal"><a href="#__codelineno-0-661">661</a></span>
<span class="normal"><a href="#__codelineno-0-662">662</a></span>
<span class="normal"><a href="#__codelineno-0-663">663</a></span>
<span class="normal"><a href="#__codelineno-0-664">664</a></span>
<span class="normal"><a href="#__codelineno-0-665">665</a></span>
<span class="normal"><a href="#__codelineno-0-666">666</a></span>
<span class="normal"><a href="#__codelineno-0-667">667</a></span>
<span class="normal"><a href="#__codelineno-0-668">668</a></span>
<span class="normal"><a href="#__codelineno-0-669">669</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-638" name="__codelineno-0-638"></a><span class="k">def</span> <span class="nf">save_scenario</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-639" name="__codelineno-0-639"></a>    <span class="sd">"""Save current scenario details into settings"""</span>
<a id="__codelineno-0-640" name="__codelineno-0-640"></a>    <span class="n">scenario_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
<a id="__codelineno-0-641" name="__codelineno-0-641"></a>    <span class="n">scenario_description</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_description</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
<a id="__codelineno-0-642" name="__codelineno-0-642"></a>
<a id="__codelineno-0-643" name="__codelineno-0-643"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">can_clip_to_studyarea</span><span class="p">():</span>
<a id="__codelineno-0-644" name="__codelineno-0-644"></a>        <span class="n">settings_manager</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span>
<a id="__codelineno-0-645" name="__codelineno-0-645"></a>            <span class="n">Settings</span><span class="o">.</span><span class="n">STUDYAREA_PATH</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_studyarea_path</span><span class="p">()</span>
<a id="__codelineno-0-646" name="__codelineno-0-646"></a>        <span class="p">)</span>
<a id="__codelineno-0-647" name="__codelineno-0-647"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-648" name="__codelineno-0-648"></a>        <span class="n">extent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">outputExtent</span><span class="p">()</span>
<a id="__codelineno-0-649" name="__codelineno-0-649"></a>        <span class="n">extent_box</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-650" name="__codelineno-0-650"></a>            <span class="n">extent</span><span class="o">.</span><span class="n">xMinimum</span><span class="p">(),</span>
<a id="__codelineno-0-651" name="__codelineno-0-651"></a>            <span class="n">extent</span><span class="o">.</span><span class="n">xMaximum</span><span class="p">(),</span>
<a id="__codelineno-0-652" name="__codelineno-0-652"></a>            <span class="n">extent</span><span class="o">.</span><span class="n">yMinimum</span><span class="p">(),</span>
<a id="__codelineno-0-653" name="__codelineno-0-653"></a>            <span class="n">extent</span><span class="o">.</span><span class="n">yMaximum</span><span class="p">(),</span>
<a id="__codelineno-0-654" name="__codelineno-0-654"></a>        <span class="p">]</span>
<a id="__codelineno-0-655" name="__codelineno-0-655"></a>        <span class="n">settings_manager</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">Settings</span><span class="o">.</span><span class="n">SCENARIO_EXTENT</span><span class="p">,</span> <span class="n">extent_box</span><span class="p">)</span>
<a id="__codelineno-0-656" name="__codelineno-0-656"></a>        <span class="n">settings_manager</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span>
<a id="__codelineno-0-657" name="__codelineno-0-657"></a>            <span class="n">Settings</span><span class="o">.</span><span class="n">SCENARIO_EXTENT_CRS</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">outputCrs</span><span class="p">()</span><span class="o">.</span><span class="n">authid</span><span class="p">()</span>
<a id="__codelineno-0-658" name="__codelineno-0-658"></a>        <span class="p">)</span>
<a id="__codelineno-0-659" name="__codelineno-0-659"></a>
<a id="__codelineno-0-660" name="__codelineno-0-660"></a>    <span class="n">settings_manager</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">Settings</span><span class="o">.</span><span class="n">SCENARIO_NAME</span><span class="p">,</span> <span class="n">scenario_name</span><span class="p">)</span>
<a id="__codelineno-0-661" name="__codelineno-0-661"></a>    <span class="n">settings_manager</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">Settings</span><span class="o">.</span><span class="n">SCENARIO_DESCRIPTION</span><span class="p">,</span> <span class="n">scenario_description</span><span class="p">)</span>
<a id="__codelineno-0-662" name="__codelineno-0-662"></a>
<a id="__codelineno-0-663" name="__codelineno-0-663"></a>    <span class="n">settings_manager</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span>
<a id="__codelineno-0-664" name="__codelineno-0-664"></a>        <span class="n">Settings</span><span class="o">.</span><span class="n">SCENARIO_CRS</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">crs_selector</span><span class="o">.</span><span class="n">crs</span><span class="p">()</span><span class="o">.</span><span class="n">authid</span><span class="p">()</span>
<a id="__codelineno-0-665" name="__codelineno-0-665"></a>    <span class="p">)</span>
<a id="__codelineno-0-666" name="__codelineno-0-666"></a>
<a id="__codelineno-0-667" name="__codelineno-0-667"></a>    <span class="n">settings_manager</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span>
<a id="__codelineno-0-668" name="__codelineno-0-668"></a>        <span class="n">Settings</span><span class="o">.</span><span class="n">CLIP_TO_STUDYAREA</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">can_clip_to_studyarea</span><span class="p">()</span>
<a id="__codelineno-0-669" name="__codelineno-0-669"></a>    <span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.scenario_results" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">scenario_results</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.scenario_results" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">scenario_results</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">report_manager</span><span class="p">,</span> <span class="n">progress_dialog</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Called when the task ends. Sets the progress bar to 100 if it finished.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>task</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ScenarioAnalysisTask (src.cplus_plugin.tasks.ScenarioAnalysisTask)" href="../../core/api_tasks/#src.cplus_plugin.tasks.ScenarioAnalysisTask">ScenarioAnalysisTask</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Analysis task</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>report_manager</code></td>
            <td>
                  <code><span title="ReportManager">ReportManager</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Report manager used to generate analysis report_templates</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2267">2267</a></span>
<span class="normal"><a href="#__codelineno-0-2268">2268</a></span>
<span class="normal"><a href="#__codelineno-0-2269">2269</a></span>
<span class="normal"><a href="#__codelineno-0-2270">2270</a></span>
<span class="normal"><a href="#__codelineno-0-2271">2271</a></span>
<span class="normal"><a href="#__codelineno-0-2272">2272</a></span>
<span class="normal"><a href="#__codelineno-0-2273">2273</a></span>
<span class="normal"><a href="#__codelineno-0-2274">2274</a></span>
<span class="normal"><a href="#__codelineno-0-2275">2275</a></span>
<span class="normal"><a href="#__codelineno-0-2276">2276</a></span>
<span class="normal"><a href="#__codelineno-0-2277">2277</a></span>
<span class="normal"><a href="#__codelineno-0-2278">2278</a></span>
<span class="normal"><a href="#__codelineno-0-2279">2279</a></span>
<span class="normal"><a href="#__codelineno-0-2280">2280</a></span>
<span class="normal"><a href="#__codelineno-0-2281">2281</a></span>
<span class="normal"><a href="#__codelineno-0-2282">2282</a></span>
<span class="normal"><a href="#__codelineno-0-2283">2283</a></span>
<span class="normal"><a href="#__codelineno-0-2284">2284</a></span>
<span class="normal"><a href="#__codelineno-0-2285">2285</a></span>
<span class="normal"><a href="#__codelineno-0-2286">2286</a></span>
<span class="normal"><a href="#__codelineno-0-2287">2287</a></span>
<span class="normal"><a href="#__codelineno-0-2288">2288</a></span>
<span class="normal"><a href="#__codelineno-0-2289">2289</a></span>
<span class="normal"><a href="#__codelineno-0-2290">2290</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2267" name="__codelineno-0-2267"></a><span class="k">def</span> <span class="nf">scenario_results</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">,</span> <span class="n">report_manager</span><span class="p">,</span> <span class="n">progress_dialog</span><span class="p">):</span>
<a id="__codelineno-0-2268" name="__codelineno-0-2268"></a>    <span class="sd">"""Called when the task ends. Sets the progress bar to 100 if it finished.</span>
<a id="__codelineno-0-2269" name="__codelineno-0-2269"></a>
<a id="__codelineno-0-2270" name="__codelineno-0-2270"></a><span class="sd">    :param task: Analysis task</span>
<a id="__codelineno-0-2271" name="__codelineno-0-2271"></a><span class="sd">    :type task: ScenarioAnalysisTask</span>
<a id="__codelineno-0-2272" name="__codelineno-0-2272"></a>
<a id="__codelineno-0-2273" name="__codelineno-0-2273"></a><span class="sd">    :param report_manager: Report manager used to generate analysis report_templates</span>
<a id="__codelineno-0-2274" name="__codelineno-0-2274"></a><span class="sd">    :type report_manager: ReportManager</span>
<a id="__codelineno-0-2275" name="__codelineno-0-2275"></a><span class="sd">    """</span>
<a id="__codelineno-0-2276" name="__codelineno-0-2276"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">update_progress_bar</span><span class="p">(</span><span class="n">progress_dialog</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<a id="__codelineno-0-2277" name="__codelineno-0-2277"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">scenario_result</span><span class="o">.</span><span class="n">analysis_output</span> <span class="o">=</span> <span class="n">task</span><span class="o">.</span><span class="n">output</span>
<a id="__codelineno-0-2278" name="__codelineno-0-2278"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">scenario_result</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">ScenarioState</span><span class="o">.</span><span class="n">FINISHED</span>
<a id="__codelineno-0-2279" name="__codelineno-0-2279"></a>    <span class="k">if</span> <span class="n">task</span><span class="o">.</span><span class="n">output</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-2280" name="__codelineno-0-2280"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_progress_bar</span><span class="p">(</span><span class="n">progress_dialog</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<a id="__codelineno-0-2281" name="__codelineno-0-2281"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scenario_result</span><span class="o">.</span><span class="n">analysis_output</span> <span class="o">=</span> <span class="n">task</span><span class="o">.</span><span class="n">output</span>
<a id="__codelineno-0-2282" name="__codelineno-0-2282"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scenario_result</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">ScenarioState</span><span class="o">.</span><span class="n">FINISHED</span>
<a id="__codelineno-0-2283" name="__codelineno-0-2283"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">post_analysis</span><span class="p">(</span>
<a id="__codelineno-0-2284" name="__codelineno-0-2284"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">scenario_result</span><span class="p">,</span> <span class="n">task</span><span class="p">,</span> <span class="n">report_manager</span><span class="p">,</span> <span class="n">progress_dialog</span>
<a id="__codelineno-0-2285" name="__codelineno-0-2285"></a>        <span class="p">)</span>
<a id="__codelineno-0-2286" name="__codelineno-0-2286"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-2287" name="__codelineno-0-2287"></a>        <span class="n">status_message</span> <span class="o">=</span> <span class="s2">"No valid output from the processing results."</span>
<a id="__codelineno-0-2288" name="__codelineno-0-2288"></a>        <span class="n">task</span><span class="o">.</span><span class="n">set_status_message</span><span class="p">(</span><span class="n">status_message</span><span class="p">)</span>
<a id="__codelineno-0-2289" name="__codelineno-0-2289"></a>
<a id="__codelineno-0-2290" name="__codelineno-0-2290"></a>        <span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">"No valid output from the processing results."</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.selected_activities" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">selected_activities</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.selected_activities" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">selected_activities</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Gets the collection of selected activities.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>typing.List[Activity]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of selected activities.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2195">2195</a></span>
<span class="normal"><a href="#__codelineno-0-2196">2196</a></span>
<span class="normal"><a href="#__codelineno-0-2197">2197</a></span>
<span class="normal"><a href="#__codelineno-0-2198">2198</a></span>
<span class="normal"><a href="#__codelineno-0-2199">2199</a></span>
<span class="normal"><a href="#__codelineno-0-2200">2200</a></span>
<span class="normal"><a href="#__codelineno-0-2201">2201</a></span>
<span class="normal"><a href="#__codelineno-0-2202">2202</a></span>
<span class="normal"><a href="#__codelineno-0-2203">2203</a></span>
<span class="normal"><a href="#__codelineno-0-2204">2204</a></span>
<span class="normal"><a href="#__codelineno-0-2205">2205</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2195" name="__codelineno-0-2195"></a><span class="k">def</span> <span class="nf">selected_activities</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">Activity</span><span class="p">]:</span>
<a id="__codelineno-0-2196" name="__codelineno-0-2196"></a>    <span class="sd">"""Gets the collection of selected activities.</span>
<a id="__codelineno-0-2197" name="__codelineno-0-2197"></a>
<a id="__codelineno-0-2198" name="__codelineno-0-2198"></a><span class="sd">    :returns: A list of selected activities.</span>
<a id="__codelineno-0-2199" name="__codelineno-0-2199"></a><span class="sd">    :rtype: typing.List[Activity]</span>
<a id="__codelineno-0-2200" name="__codelineno-0-2200"></a><span class="sd">    """</span>
<a id="__codelineno-0-2201" name="__codelineno-0-2201"></a>    <span class="k">return</span> <span class="p">[</span>
<a id="__codelineno-0-2202" name="__codelineno-0-2202"></a>        <span class="n">item</span><span class="o">.</span><span class="n">activity</span>
<a id="__codelineno-0-2203" name="__codelineno-0-2203"></a>        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">activity_widget</span><span class="o">.</span><span class="n">selected_activity_items</span><span class="p">()</span>
<a id="__codelineno-0-2204" name="__codelineno-0-2204"></a>        <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">isEnabled</span><span class="p">()</span>
<a id="__codelineno-0-2205" name="__codelineno-0-2205"></a>    <span class="p">]</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.show_message" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">show_message</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.show_message" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">show_message</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">Qgis</span><span class="o">.</span><span class="n">Warning</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Shows message on the main widget message bar.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>message</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Text message</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>level</code></td>
            <td>
                  <code><span title="qgis.core.Qgis.MessageLevel">MessageLevel</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Message level type</p>
              </div>
            </td>
            <td>
                  <code><span title="qgis.core.Qgis.Warning">Warning</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>duration</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Duration of the shown message</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2628">2628</a></span>
<span class="normal"><a href="#__codelineno-0-2629">2629</a></span>
<span class="normal"><a href="#__codelineno-0-2630">2630</a></span>
<span class="normal"><a href="#__codelineno-0-2631">2631</a></span>
<span class="normal"><a href="#__codelineno-0-2632">2632</a></span>
<span class="normal"><a href="#__codelineno-0-2633">2633</a></span>
<span class="normal"><a href="#__codelineno-0-2634">2634</a></span>
<span class="normal"><a href="#__codelineno-0-2635">2635</a></span>
<span class="normal"><a href="#__codelineno-0-2636">2636</a></span>
<span class="normal"><a href="#__codelineno-0-2637">2637</a></span>
<span class="normal"><a href="#__codelineno-0-2638">2638</a></span>
<span class="normal"><a href="#__codelineno-0-2639">2639</a></span>
<span class="normal"><a href="#__codelineno-0-2640">2640</a></span>
<span class="normal"><a href="#__codelineno-0-2641">2641</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2628" name="__codelineno-0-2628"></a><span class="k">def</span> <span class="nf">show_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">Qgis</span><span class="o">.</span><span class="n">Warning</span><span class="p">,</span> <span class="n">duration</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
<a id="__codelineno-0-2629" name="__codelineno-0-2629"></a>    <span class="sd">"""Shows message on the main widget message bar.</span>
<a id="__codelineno-0-2630" name="__codelineno-0-2630"></a>
<a id="__codelineno-0-2631" name="__codelineno-0-2631"></a><span class="sd">    :param message: Text message</span>
<a id="__codelineno-0-2632" name="__codelineno-0-2632"></a><span class="sd">    :type message: str</span>
<a id="__codelineno-0-2633" name="__codelineno-0-2633"></a>
<a id="__codelineno-0-2634" name="__codelineno-0-2634"></a><span class="sd">    :param level: Message level type</span>
<a id="__codelineno-0-2635" name="__codelineno-0-2635"></a><span class="sd">    :type level: Qgis.MessageLevel</span>
<a id="__codelineno-0-2636" name="__codelineno-0-2636"></a>
<a id="__codelineno-0-2637" name="__codelineno-0-2637"></a><span class="sd">    :param duration: Duration of the shown message</span>
<a id="__codelineno-0-2638" name="__codelineno-0-2638"></a><span class="sd">    :type level: int</span>
<a id="__codelineno-0-2639" name="__codelineno-0-2639"></a><span class="sd">    """</span>
<a id="__codelineno-0-2640" name="__codelineno-0-2640"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">message_bar</span><span class="o">.</span><span class="n">clearWidgets</span><span class="p">()</span>
<a id="__codelineno-0-2641" name="__codelineno-0-2641"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">message_bar</span><span class="o">.</span><span class="n">pushMessage</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">level</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="n">duration</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.show_scenario_info" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">show_scenario_info</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.show_scenario_info" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">show_scenario_info</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Loads dialog for showing scenario information.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1624">1624</a></span>
<span class="normal"><a href="#__codelineno-0-1625">1625</a></span>
<span class="normal"><a href="#__codelineno-0-1626">1626</a></span>
<span class="normal"><a href="#__codelineno-0-1627">1627</a></span>
<span class="normal"><a href="#__codelineno-0-1628">1628</a></span>
<span class="normal"><a href="#__codelineno-0-1629">1629</a></span>
<span class="normal"><a href="#__codelineno-0-1630">1630</a></span>
<span class="normal"><a href="#__codelineno-0-1631">1631</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1624" name="__codelineno-0-1624"></a><span class="k">def</span> <span class="nf">show_scenario_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-1625" name="__codelineno-0-1625"></a>    <span class="sd">"""Loads dialog for showing scenario information."""</span>
<a id="__codelineno-0-1626" name="__codelineno-0-1626"></a>    <span class="n">scenario_uuid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_list</span><span class="o">.</span><span class="n">currentItem</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">)</span>
<a id="__codelineno-0-1627" name="__codelineno-0-1627"></a>    <span class="n">scenario</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_scenario</span><span class="p">(</span><span class="n">scenario_uuid</span><span class="p">)</span>
<a id="__codelineno-0-1628" name="__codelineno-0-1628"></a>    <span class="n">scenario_result</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_scenario_result</span><span class="p">(</span><span class="n">scenario_uuid</span><span class="p">)</span>
<a id="__codelineno-0-1629" name="__codelineno-0-1629"></a>
<a id="__codelineno-0-1630" name="__codelineno-0-1630"></a>    <span class="n">scenario_dialog</span> <span class="o">=</span> <span class="n">ScenarioDialog</span><span class="p">(</span><span class="n">scenario</span><span class="p">,</span> <span class="n">scenario_result</span><span class="p">)</span>
<a id="__codelineno-0-1631" name="__codelineno-0-1631"></a>    <span class="n">scenario_dialog</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.style_activities_layer" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">style_activities_layer</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.style_activities_layer" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">style_activities_layer</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">activities</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Applies the styling to the passed layer that
 contains the passed list of activities.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>layer</code></td>
            <td>
                  <code><span title="qgis.core.QgsRasterLayer">QgsRasterLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Layer to be styled</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>activities</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List which contains the activities that were passed to the highest position analysis tool.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>QgsPalettedRasterRenderer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Renderer for the symbology.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2509">2509</a></span>
<span class="normal"><a href="#__codelineno-0-2510">2510</a></span>
<span class="normal"><a href="#__codelineno-0-2511">2511</a></span>
<span class="normal"><a href="#__codelineno-0-2512">2512</a></span>
<span class="normal"><a href="#__codelineno-0-2513">2513</a></span>
<span class="normal"><a href="#__codelineno-0-2514">2514</a></span>
<span class="normal"><a href="#__codelineno-0-2515">2515</a></span>
<span class="normal"><a href="#__codelineno-0-2516">2516</a></span>
<span class="normal"><a href="#__codelineno-0-2517">2517</a></span>
<span class="normal"><a href="#__codelineno-0-2518">2518</a></span>
<span class="normal"><a href="#__codelineno-0-2519">2519</a></span>
<span class="normal"><a href="#__codelineno-0-2520">2520</a></span>
<span class="normal"><a href="#__codelineno-0-2521">2521</a></span>
<span class="normal"><a href="#__codelineno-0-2522">2522</a></span>
<span class="normal"><a href="#__codelineno-0-2523">2523</a></span>
<span class="normal"><a href="#__codelineno-0-2524">2524</a></span>
<span class="normal"><a href="#__codelineno-0-2525">2525</a></span>
<span class="normal"><a href="#__codelineno-0-2526">2526</a></span>
<span class="normal"><a href="#__codelineno-0-2527">2527</a></span>
<span class="normal"><a href="#__codelineno-0-2528">2528</a></span>
<span class="normal"><a href="#__codelineno-0-2529">2529</a></span>
<span class="normal"><a href="#__codelineno-0-2530">2530</a></span>
<span class="normal"><a href="#__codelineno-0-2531">2531</a></span>
<span class="normal"><a href="#__codelineno-0-2532">2532</a></span>
<span class="normal"><a href="#__codelineno-0-2533">2533</a></span>
<span class="normal"><a href="#__codelineno-0-2534">2534</a></span>
<span class="normal"><a href="#__codelineno-0-2535">2535</a></span>
<span class="normal"><a href="#__codelineno-0-2536">2536</a></span>
<span class="normal"><a href="#__codelineno-0-2537">2537</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2509" name="__codelineno-0-2509"></a><span class="k">def</span> <span class="nf">style_activities_layer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer</span><span class="p">,</span> <span class="n">activities</span><span class="p">):</span>
<a id="__codelineno-0-2510" name="__codelineno-0-2510"></a>    <span class="sd">"""Applies the styling to the passed layer that</span>
<a id="__codelineno-0-2511" name="__codelineno-0-2511"></a><span class="sd">     contains the passed list of activities.</span>
<a id="__codelineno-0-2512" name="__codelineno-0-2512"></a>
<a id="__codelineno-0-2513" name="__codelineno-0-2513"></a><span class="sd">    :param layer: Layer to be styled</span>
<a id="__codelineno-0-2514" name="__codelineno-0-2514"></a><span class="sd">    :type layer: QgsRasterLayer</span>
<a id="__codelineno-0-2515" name="__codelineno-0-2515"></a>
<a id="__codelineno-0-2516" name="__codelineno-0-2516"></a><span class="sd">    :param activities: List which contains the activities</span>
<a id="__codelineno-0-2517" name="__codelineno-0-2517"></a><span class="sd">     that were passed to the highest position analysis tool.</span>
<a id="__codelineno-0-2518" name="__codelineno-0-2518"></a><span class="sd">    :type activities: list</span>
<a id="__codelineno-0-2519" name="__codelineno-0-2519"></a>
<a id="__codelineno-0-2520" name="__codelineno-0-2520"></a><span class="sd">    :returns: Renderer for the symbology.</span>
<a id="__codelineno-0-2521" name="__codelineno-0-2521"></a><span class="sd">    :rtype: QgsPalettedRasterRenderer</span>
<a id="__codelineno-0-2522" name="__codelineno-0-2522"></a><span class="sd">    """</span>
<a id="__codelineno-0-2523" name="__codelineno-0-2523"></a>    <span class="n">area_classes</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-2524" name="__codelineno-0-2524"></a>    <span class="k">for</span> <span class="n">activity</span> <span class="ow">in</span> <span class="n">activities</span><span class="p">:</span>
<a id="__codelineno-0-2525" name="__codelineno-0-2525"></a>        <span class="n">activity_name</span> <span class="o">=</span> <span class="n">activity</span><span class="o">.</span><span class="n">name</span>
<a id="__codelineno-0-2526" name="__codelineno-0-2526"></a>
<a id="__codelineno-0-2527" name="__codelineno-0-2527"></a>        <span class="n">raster_val</span> <span class="o">=</span> <span class="n">activity</span><span class="o">.</span><span class="n">style_pixel_value</span>
<a id="__codelineno-0-2528" name="__codelineno-0-2528"></a>        <span class="n">color</span> <span class="o">=</span> <span class="n">activity</span><span class="o">.</span><span class="n">scenario_fill_symbol</span><span class="p">()</span><span class="o">.</span><span class="n">color</span><span class="p">()</span>
<a id="__codelineno-0-2529" name="__codelineno-0-2529"></a>        <span class="n">color_ramp_shader</span> <span class="o">=</span> <span class="n">QgsColorRampShader</span><span class="o">.</span><span class="n">ColorRampItem</span><span class="p">(</span>
<a id="__codelineno-0-2530" name="__codelineno-0-2530"></a>            <span class="nb">float</span><span class="p">(</span><span class="n">raster_val</span><span class="p">),</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QColor</span><span class="p">(</span><span class="n">color</span><span class="p">),</span> <span class="n">activity_name</span>
<a id="__codelineno-0-2531" name="__codelineno-0-2531"></a>        <span class="p">)</span>
<a id="__codelineno-0-2532" name="__codelineno-0-2532"></a>        <span class="n">area_classes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">color_ramp_shader</span><span class="p">)</span>
<a id="__codelineno-0-2533" name="__codelineno-0-2533"></a>
<a id="__codelineno-0-2534" name="__codelineno-0-2534"></a>    <span class="n">class_data</span> <span class="o">=</span> <span class="n">QgsPalettedRasterRenderer</span><span class="o">.</span><span class="n">colorTableToClassData</span><span class="p">(</span><span class="n">area_classes</span><span class="p">)</span>
<a id="__codelineno-0-2535" name="__codelineno-0-2535"></a>    <span class="n">renderer</span> <span class="o">=</span> <span class="n">QgsPalettedRasterRenderer</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">dataProvider</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">class_data</span><span class="p">)</span>
<a id="__codelineno-0-2536" name="__codelineno-0-2536"></a>
<a id="__codelineno-0-2537" name="__codelineno-0-2537"></a>    <span class="k">return</span> <span class="n">renderer</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.style_activity_layer" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">style_activity_layer</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.style_activity_layer" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">style_activity_layer</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">activity</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Applies the styling to the layer that contains the passed
 activity name.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>layer</code></td>
            <td>
                  <code><span title="qgis.core.QgsRasterLayer">QgsRasterLayer</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Raster layer to which to apply the symbology</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>activity</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Activity (src.cplus_plugin.models.base.Activity)" href="../../models/api_base/#src.cplus_plugin.models.base.Activity">Activity</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>activity</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>QgsSingleBandPseudoColorRenderer</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Renderer for the symbology.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2539">2539</a></span>
<span class="normal"><a href="#__codelineno-0-2540">2540</a></span>
<span class="normal"><a href="#__codelineno-0-2541">2541</a></span>
<span class="normal"><a href="#__codelineno-0-2542">2542</a></span>
<span class="normal"><a href="#__codelineno-0-2543">2543</a></span>
<span class="normal"><a href="#__codelineno-0-2544">2544</a></span>
<span class="normal"><a href="#__codelineno-0-2545">2545</a></span>
<span class="normal"><a href="#__codelineno-0-2546">2546</a></span>
<span class="normal"><a href="#__codelineno-0-2547">2547</a></span>
<span class="normal"><a href="#__codelineno-0-2548">2548</a></span>
<span class="normal"><a href="#__codelineno-0-2549">2549</a></span>
<span class="normal"><a href="#__codelineno-0-2550">2550</a></span>
<span class="normal"><a href="#__codelineno-0-2551">2551</a></span>
<span class="normal"><a href="#__codelineno-0-2552">2552</a></span>
<span class="normal"><a href="#__codelineno-0-2553">2553</a></span>
<span class="normal"><a href="#__codelineno-0-2554">2554</a></span>
<span class="normal"><a href="#__codelineno-0-2555">2555</a></span>
<span class="normal"><a href="#__codelineno-0-2556">2556</a></span>
<span class="normal"><a href="#__codelineno-0-2557">2557</a></span>
<span class="normal"><a href="#__codelineno-0-2558">2558</a></span>
<span class="normal"><a href="#__codelineno-0-2559">2559</a></span>
<span class="normal"><a href="#__codelineno-0-2560">2560</a></span>
<span class="normal"><a href="#__codelineno-0-2561">2561</a></span>
<span class="normal"><a href="#__codelineno-0-2562">2562</a></span>
<span class="normal"><a href="#__codelineno-0-2563">2563</a></span>
<span class="normal"><a href="#__codelineno-0-2564">2564</a></span>
<span class="normal"><a href="#__codelineno-0-2565">2565</a></span>
<span class="normal"><a href="#__codelineno-0-2566">2566</a></span>
<span class="normal"><a href="#__codelineno-0-2567">2567</a></span>
<span class="normal"><a href="#__codelineno-0-2568">2568</a></span>
<span class="normal"><a href="#__codelineno-0-2569">2569</a></span>
<span class="normal"><a href="#__codelineno-0-2570">2570</a></span>
<span class="normal"><a href="#__codelineno-0-2571">2571</a></span>
<span class="normal"><a href="#__codelineno-0-2572">2572</a></span>
<span class="normal"><a href="#__codelineno-0-2573">2573</a></span>
<span class="normal"><a href="#__codelineno-0-2574">2574</a></span>
<span class="normal"><a href="#__codelineno-0-2575">2575</a></span>
<span class="normal"><a href="#__codelineno-0-2576">2576</a></span>
<span class="normal"><a href="#__codelineno-0-2577">2577</a></span>
<span class="normal"><a href="#__codelineno-0-2578">2578</a></span>
<span class="normal"><a href="#__codelineno-0-2579">2579</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2539" name="__codelineno-0-2539"></a><span class="k">def</span> <span class="nf">style_activity_layer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer</span><span class="p">,</span> <span class="n">activity</span><span class="p">):</span>
<a id="__codelineno-0-2540" name="__codelineno-0-2540"></a>    <span class="sd">"""Applies the styling to the layer that contains the passed</span>
<a id="__codelineno-0-2541" name="__codelineno-0-2541"></a><span class="sd">     activity name.</span>
<a id="__codelineno-0-2542" name="__codelineno-0-2542"></a>
<a id="__codelineno-0-2543" name="__codelineno-0-2543"></a><span class="sd">    :param layer: Raster layer to which to apply the symbology</span>
<a id="__codelineno-0-2544" name="__codelineno-0-2544"></a><span class="sd">    :type layer: QgsRasterLayer</span>
<a id="__codelineno-0-2545" name="__codelineno-0-2545"></a>
<a id="__codelineno-0-2546" name="__codelineno-0-2546"></a><span class="sd">    :param activity: activity</span>
<a id="__codelineno-0-2547" name="__codelineno-0-2547"></a><span class="sd">    :type activity: Activity</span>
<a id="__codelineno-0-2548" name="__codelineno-0-2548"></a>
<a id="__codelineno-0-2549" name="__codelineno-0-2549"></a><span class="sd">    :returns: Renderer for the symbology.</span>
<a id="__codelineno-0-2550" name="__codelineno-0-2550"></a><span class="sd">    :rtype: QgsSingleBandPseudoColorRenderer</span>
<a id="__codelineno-0-2551" name="__codelineno-0-2551"></a><span class="sd">    """</span>
<a id="__codelineno-0-2552" name="__codelineno-0-2552"></a>    <span class="c1"># Retrieves a build-in QGIS color ramp</span>
<a id="__codelineno-0-2553" name="__codelineno-0-2553"></a>    <span class="n">color_ramp</span> <span class="o">=</span> <span class="n">activity</span><span class="o">.</span><span class="n">color_ramp</span><span class="p">()</span>
<a id="__codelineno-0-2554" name="__codelineno-0-2554"></a>
<a id="__codelineno-0-2555" name="__codelineno-0-2555"></a>    <span class="n">stats</span> <span class="o">=</span> <span class="n">layer</span><span class="o">.</span><span class="n">dataProvider</span><span class="p">()</span><span class="o">.</span><span class="n">bandStatistics</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-2556" name="__codelineno-0-2556"></a>    <span class="n">min_value</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">minimumValue</span>
<a id="__codelineno-0-2557" name="__codelineno-0-2557"></a>    <span class="n">max_value</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">maximumValue</span>
<a id="__codelineno-0-2558" name="__codelineno-0-2558"></a>
<a id="__codelineno-0-2559" name="__codelineno-0-2559"></a>    <span class="k">if</span> <span class="n">stats</span><span class="o">.</span><span class="n">minimumValue</span> <span class="o">==</span> <span class="n">stats</span><span class="o">.</span><span class="n">maximumValue</span><span class="p">:</span>
<a id="__codelineno-0-2560" name="__codelineno-0-2560"></a>        <span class="c1"># Create one class for the min/max value</span>
<a id="__codelineno-0-2561" name="__codelineno-0-2561"></a>        <span class="n">color</span> <span class="o">=</span> <span class="n">color_ramp</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="n">min_value</span><span class="p">)</span>
<a id="__codelineno-0-2562" name="__codelineno-0-2562"></a>        <span class="n">color_ramp_shader</span> <span class="o">=</span> <span class="n">QgsColorRampShader</span><span class="o">.</span><span class="n">ColorRampItem</span><span class="p">(</span>
<a id="__codelineno-0-2563" name="__codelineno-0-2563"></a>            <span class="nb">float</span><span class="p">(</span><span class="n">min_value</span><span class="p">),</span> <span class="n">color</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">min_value</span><span class="p">)</span>
<a id="__codelineno-0-2564" name="__codelineno-0-2564"></a>        <span class="p">)</span>
<a id="__codelineno-0-2565" name="__codelineno-0-2565"></a>        <span class="n">class_data</span> <span class="o">=</span> <span class="n">QgsPalettedRasterRenderer</span><span class="o">.</span><span class="n">colorTableToClassData</span><span class="p">(</span>
<a id="__codelineno-0-2566" name="__codelineno-0-2566"></a>            <span class="p">[</span><span class="n">color_ramp_shader</span><span class="p">]</span>
<a id="__codelineno-0-2567" name="__codelineno-0-2567"></a>        <span class="p">)</span>
<a id="__codelineno-0-2568" name="__codelineno-0-2568"></a>        <span class="n">renderer</span> <span class="o">=</span> <span class="n">QgsPalettedRasterRenderer</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">dataProvider</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">class_data</span><span class="p">)</span>
<a id="__codelineno-0-2569" name="__codelineno-0-2569"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-2570" name="__codelineno-0-2570"></a>        <span class="n">renderer</span> <span class="o">=</span> <span class="n">QgsSingleBandPseudoColorRenderer</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">dataProvider</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-2571" name="__codelineno-0-2571"></a>        <span class="n">renderer</span><span class="o">.</span><span class="n">setClassificationMin</span><span class="p">(</span><span class="n">min_value</span><span class="p">)</span>
<a id="__codelineno-0-2572" name="__codelineno-0-2572"></a>        <span class="n">renderer</span><span class="o">.</span><span class="n">setClassificationMax</span><span class="p">(</span><span class="n">max_value</span><span class="p">)</span>
<a id="__codelineno-0-2573" name="__codelineno-0-2573"></a>        <span class="n">renderer</span><span class="o">.</span><span class="n">createShader</span><span class="p">(</span>
<a id="__codelineno-0-2574" name="__codelineno-0-2574"></a>            <span class="n">color_ramp</span><span class="p">,</span>
<a id="__codelineno-0-2575" name="__codelineno-0-2575"></a>            <span class="n">QgsColorRampShader</span><span class="o">.</span><span class="n">Interpolated</span><span class="p">,</span>
<a id="__codelineno-0-2576" name="__codelineno-0-2576"></a>            <span class="n">QgsColorRampShader</span><span class="o">.</span><span class="n">Continuous</span><span class="p">,</span>
<a id="__codelineno-0-2577" name="__codelineno-0-2577"></a>        <span class="p">)</span>
<a id="__codelineno-0-2578" name="__codelineno-0-2578"></a>
<a id="__codelineno-0-2579" name="__codelineno-0-2579"></a>    <span class="k">return</span> <span class="n">renderer</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.task_terminated" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">task_terminated</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.task_terminated" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">task_terminated</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Handles logging of the scenario analysis task status
after it has been terminated.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>task</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-internal" title="ScenarioAnalysisTask (src.cplus_plugin.tasks.ScenarioAnalysisTask)" href="../../core/api_tasks/#src.cplus_plugin.tasks.ScenarioAnalysisTask">ScenarioAnalysisTask</a>, <span title="src.cplus_plugin.api.scenario_task_api_client.ScenarioAnalysisTaskApiClient">ScenarioAnalysisTaskApiClient</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Task that was terminated</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2207">2207</a></span>
<span class="normal"><a href="#__codelineno-0-2208">2208</a></span>
<span class="normal"><a href="#__codelineno-0-2209">2209</a></span>
<span class="normal"><a href="#__codelineno-0-2210">2210</a></span>
<span class="normal"><a href="#__codelineno-0-2211">2211</a></span>
<span class="normal"><a href="#__codelineno-0-2212">2212</a></span>
<span class="normal"><a href="#__codelineno-0-2213">2213</a></span>
<span class="normal"><a href="#__codelineno-0-2214">2214</a></span>
<span class="normal"><a href="#__codelineno-0-2215">2215</a></span>
<span class="normal"><a href="#__codelineno-0-2216">2216</a></span>
<span class="normal"><a href="#__codelineno-0-2217">2217</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2207" name="__codelineno-0-2207"></a><span class="k">def</span> <span class="nf">task_terminated</span><span class="p">(</span>
<a id="__codelineno-0-2208" name="__codelineno-0-2208"></a>    <span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ScenarioAnalysisTask</span><span class="p">,</span> <span class="n">ScenarioAnalysisTaskApiClient</span><span class="p">]</span>
<a id="__codelineno-0-2209" name="__codelineno-0-2209"></a><span class="p">):</span>
<a id="__codelineno-0-2210" name="__codelineno-0-2210"></a>    <span class="sd">"""Handles logging of the scenario analysis task status</span>
<a id="__codelineno-0-2211" name="__codelineno-0-2211"></a><span class="sd">    after it has been terminated.</span>
<a id="__codelineno-0-2212" name="__codelineno-0-2212"></a>
<a id="__codelineno-0-2213" name="__codelineno-0-2213"></a><span class="sd">    :param task: Task that was terminated</span>
<a id="__codelineno-0-2214" name="__codelineno-0-2214"></a><span class="sd">    :type task: typing.Union[ScenarioAnalysisTask, ScenarioAnalysisTaskApiClient]</span>
<a id="__codelineno-0-2215" name="__codelineno-0-2215"></a><span class="sd">    """</span>
<a id="__codelineno-0-2216" name="__codelineno-0-2216"></a>    <span class="n">task</span><span class="o">.</span><span class="n">on_terminated</span><span class="p">()</span>
<a id="__codelineno-0-2217" name="__codelineno-0-2217"></a>    <span class="n">log</span><span class="p">(</span><span class="s2">"Main task terminated"</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.transform_extent" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">transform_extent</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.transform_extent" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">transform_extent</span><span class="p">(</span><span class="n">extent</span><span class="p">,</span> <span class="n">source_crs</span><span class="p">,</span> <span class="n">dest_crs</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Transforms the passed extent into the destination crs</p>
<p>:param extent: Target extent</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>source_crs</code></td>
            <td>
                  <code><span title="qgis.core.QgsCoordinateReferenceSystem">QgsCoordinateReferenceSystem</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Source CRS of the passed extent</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>dest_crs</code></td>
            <td>
                  <code><span title="qgis.core.QgsCoordinateReferenceSystem">QgsCoordinateReferenceSystem</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Destination CRS</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2232">2232</a></span>
<span class="normal"><a href="#__codelineno-0-2233">2233</a></span>
<span class="normal"><a href="#__codelineno-0-2234">2234</a></span>
<span class="normal"><a href="#__codelineno-0-2235">2235</a></span>
<span class="normal"><a href="#__codelineno-0-2236">2236</a></span>
<span class="normal"><a href="#__codelineno-0-2237">2237</a></span>
<span class="normal"><a href="#__codelineno-0-2238">2238</a></span>
<span class="normal"><a href="#__codelineno-0-2239">2239</a></span>
<span class="normal"><a href="#__codelineno-0-2240">2240</a></span>
<span class="normal"><a href="#__codelineno-0-2241">2241</a></span>
<span class="normal"><a href="#__codelineno-0-2242">2242</a></span>
<span class="normal"><a href="#__codelineno-0-2243">2243</a></span>
<span class="normal"><a href="#__codelineno-0-2244">2244</a></span>
<span class="normal"><a href="#__codelineno-0-2245">2245</a></span>
<span class="normal"><a href="#__codelineno-0-2246">2246</a></span>
<span class="normal"><a href="#__codelineno-0-2247">2247</a></span>
<span class="normal"><a href="#__codelineno-0-2248">2248</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2232" name="__codelineno-0-2232"></a><span class="k">def</span> <span class="nf">transform_extent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extent</span><span class="p">,</span> <span class="n">source_crs</span><span class="p">,</span> <span class="n">dest_crs</span><span class="p">):</span>
<a id="__codelineno-0-2233" name="__codelineno-0-2233"></a>    <span class="sd">"""Transforms the passed extent into the destination crs</span>
<a id="__codelineno-0-2234" name="__codelineno-0-2234"></a>
<a id="__codelineno-0-2235" name="__codelineno-0-2235"></a><span class="sd">     :param extent: Target extent</span>
<a id="__codelineno-0-2236" name="__codelineno-0-2236"></a><span class="sd">    :type extent: QgsRectangle</span>
<a id="__codelineno-0-2237" name="__codelineno-0-2237"></a>
<a id="__codelineno-0-2238" name="__codelineno-0-2238"></a><span class="sd">    :param source_crs: Source CRS of the passed extent</span>
<a id="__codelineno-0-2239" name="__codelineno-0-2239"></a><span class="sd">    :type source_crs: QgsCoordinateReferenceSystem</span>
<a id="__codelineno-0-2240" name="__codelineno-0-2240"></a>
<a id="__codelineno-0-2241" name="__codelineno-0-2241"></a><span class="sd">    :param dest_crs: Destination CRS</span>
<a id="__codelineno-0-2242" name="__codelineno-0-2242"></a><span class="sd">    :type dest_crs: QgsCoordinateReferenceSystem</span>
<a id="__codelineno-0-2243" name="__codelineno-0-2243"></a><span class="sd">    """</span>
<a id="__codelineno-0-2244" name="__codelineno-0-2244"></a>
<a id="__codelineno-0-2245" name="__codelineno-0-2245"></a>    <span class="n">transform</span> <span class="o">=</span> <span class="n">QgsCoordinateTransform</span><span class="p">(</span><span class="n">source_crs</span><span class="p">,</span> <span class="n">dest_crs</span><span class="p">,</span> <span class="n">QgsProject</span><span class="o">.</span><span class="n">instance</span><span class="p">())</span>
<a id="__codelineno-0-2246" name="__codelineno-0-2246"></a>    <span class="n">transformed_extent</span> <span class="o">=</span> <span class="n">transform</span><span class="o">.</span><span class="n">transformBoundingBox</span><span class="p">(</span><span class="n">extent</span><span class="p">)</span>
<a id="__codelineno-0-2247" name="__codelineno-0-2247"></a>
<a id="__codelineno-0-2248" name="__codelineno-0-2248"></a>    <span class="k">return</span> <span class="n">transformed_extent</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.update_message_bar" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">update_message_bar</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.update_message_bar" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">update_message_bar</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Changes the message in the message bar item.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>message</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Message to be updated</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2615">2615</a></span>
<span class="normal"><a href="#__codelineno-0-2616">2616</a></span>
<span class="normal"><a href="#__codelineno-0-2617">2617</a></span>
<span class="normal"><a href="#__codelineno-0-2618">2618</a></span>
<span class="normal"><a href="#__codelineno-0-2619">2619</a></span>
<span class="normal"><a href="#__codelineno-0-2620">2620</a></span>
<span class="normal"><a href="#__codelineno-0-2621">2621</a></span>
<span class="normal"><a href="#__codelineno-0-2622">2622</a></span>
<span class="normal"><a href="#__codelineno-0-2623">2623</a></span>
<span class="normal"><a href="#__codelineno-0-2624">2624</a></span>
<span class="normal"><a href="#__codelineno-0-2625">2625</a></span>
<span class="normal"><a href="#__codelineno-0-2626">2626</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2615" name="__codelineno-0-2615"></a><span class="k">def</span> <span class="nf">update_message_bar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
<a id="__codelineno-0-2616" name="__codelineno-0-2616"></a>    <span class="sd">"""Changes the message in the message bar item.</span>
<a id="__codelineno-0-2617" name="__codelineno-0-2617"></a>
<a id="__codelineno-0-2618" name="__codelineno-0-2618"></a><span class="sd">    :param message: Message to be updated</span>
<a id="__codelineno-0-2619" name="__codelineno-0-2619"></a><span class="sd">    :type message: str</span>
<a id="__codelineno-0-2620" name="__codelineno-0-2620"></a><span class="sd">    """</span>
<a id="__codelineno-0-2621" name="__codelineno-0-2621"></a>    <span class="n">log</span><span class="p">(</span><span class="s2">"update_message_bar"</span><span class="p">)</span>
<a id="__codelineno-0-2622" name="__codelineno-0-2622"></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
<a id="__codelineno-0-2623" name="__codelineno-0-2623"></a>        <span class="n">message_bar_item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">message_bar</span><span class="o">.</span><span class="n">createMessage</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<a id="__codelineno-0-2624" name="__codelineno-0-2624"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-2625" name="__codelineno-0-2625"></a>        <span class="n">message_bar_item</span> <span class="o">=</span> <span class="n">message</span>
<a id="__codelineno-0-2626" name="__codelineno-0-2626"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">message_bar</span><span class="o">.</span><span class="n">pushWidget</span><span class="p">(</span><span class="n">message_bar_item</span><span class="p">,</span> <span class="n">Qgis</span><span class="o">.</span><span class="n">Info</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.update_metric_button_profiles" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">update_metric_button_profiles</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.update_metric_button_profiles" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">update_metric_button_profiles</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Updates the profiles in the metric button menu based on the
existing metric configuration profiles.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2847">2847</a></span>
<span class="normal"><a href="#__codelineno-0-2848">2848</a></span>
<span class="normal"><a href="#__codelineno-0-2849">2849</a></span>
<span class="normal"><a href="#__codelineno-0-2850">2850</a></span>
<span class="normal"><a href="#__codelineno-0-2851">2851</a></span>
<span class="normal"><a href="#__codelineno-0-2852">2852</a></span>
<span class="normal"><a href="#__codelineno-0-2853">2853</a></span>
<span class="normal"><a href="#__codelineno-0-2854">2854</a></span>
<span class="normal"><a href="#__codelineno-0-2855">2855</a></span>
<span class="normal"><a href="#__codelineno-0-2856">2856</a></span>
<span class="normal"><a href="#__codelineno-0-2857">2857</a></span>
<span class="normal"><a href="#__codelineno-0-2858">2858</a></span>
<span class="normal"><a href="#__codelineno-0-2859">2859</a></span>
<span class="normal"><a href="#__codelineno-0-2860">2860</a></span>
<span class="normal"><a href="#__codelineno-0-2861">2861</a></span>
<span class="normal"><a href="#__codelineno-0-2862">2862</a></span>
<span class="normal"><a href="#__codelineno-0-2863">2863</a></span>
<span class="normal"><a href="#__codelineno-0-2864">2864</a></span>
<span class="normal"><a href="#__codelineno-0-2865">2865</a></span>
<span class="normal"><a href="#__codelineno-0-2866">2866</a></span>
<span class="normal"><a href="#__codelineno-0-2867">2867</a></span>
<span class="normal"><a href="#__codelineno-0-2868">2868</a></span>
<span class="normal"><a href="#__codelineno-0-2869">2869</a></span>
<span class="normal"><a href="#__codelineno-0-2870">2870</a></span>
<span class="normal"><a href="#__codelineno-0-2871">2871</a></span>
<span class="normal"><a href="#__codelineno-0-2872">2872</a></span>
<span class="normal"><a href="#__codelineno-0-2873">2873</a></span>
<span class="normal"><a href="#__codelineno-0-2874">2874</a></span>
<span class="normal"><a href="#__codelineno-0-2875">2875</a></span>
<span class="normal"><a href="#__codelineno-0-2876">2876</a></span>
<span class="normal"><a href="#__codelineno-0-2877">2877</a></span>
<span class="normal"><a href="#__codelineno-0-2878">2878</a></span>
<span class="normal"><a href="#__codelineno-0-2879">2879</a></span>
<span class="normal"><a href="#__codelineno-0-2880">2880</a></span>
<span class="normal"><a href="#__codelineno-0-2881">2881</a></span>
<span class="normal"><a href="#__codelineno-0-2882">2882</a></span>
<span class="normal"><a href="#__codelineno-0-2883">2883</a></span>
<span class="normal"><a href="#__codelineno-0-2884">2884</a></span>
<span class="normal"><a href="#__codelineno-0-2885">2885</a></span>
<span class="normal"><a href="#__codelineno-0-2886">2886</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2847" name="__codelineno-0-2847"></a><span class="k">def</span> <span class="nf">update_metric_button_profiles</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-2848" name="__codelineno-0-2848"></a>    <span class="sd">"""Updates the profiles in the metric button menu based on the</span>
<a id="__codelineno-0-2849" name="__codelineno-0-2849"></a><span class="sd">    existing metric configuration profiles.</span>
<a id="__codelineno-0-2850" name="__codelineno-0-2850"></a><span class="sd">    """</span>
<a id="__codelineno-0-2851" name="__codelineno-0-2851"></a>    <span class="n">metric_profile_collection</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_metric_profile_collection</span><span class="p">()</span>
<a id="__codelineno-0-2852" name="__codelineno-0-2852"></a>    <span class="k">if</span> <span class="n">metric_profile_collection</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-2853" name="__codelineno-0-2853"></a>        <span class="n">log</span><span class="p">(</span><span class="s2">"Metric profile collection does not contain any profiles."</span><span class="p">)</span>
<a id="__codelineno-0-2854" name="__codelineno-0-2854"></a>        <span class="k">return</span>
<a id="__codelineno-0-2855" name="__codelineno-0-2855"></a>
<a id="__codelineno-0-2856" name="__codelineno-0-2856"></a>    <span class="c1"># Update tooltip</span>
<a id="__codelineno-0-2857" name="__codelineno-0-2857"></a>    <span class="n">current_profile</span> <span class="o">=</span> <span class="n">metric_profile_collection</span><span class="o">.</span><span class="n">get_current_profile</span><span class="p">()</span>
<a id="__codelineno-0-2858" name="__codelineno-0-2858"></a>    <span class="k">if</span> <span class="n">current_profile</span><span class="p">:</span>
<a id="__codelineno-0-2859" name="__codelineno-0-2859"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_metric_builder</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span>
<a id="__codelineno-0-2860" name="__codelineno-0-2860"></a>            <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">tr</span><span class="p">(</span><span class="s1">'Active profile'</span><span class="p">)</span><span class="si">}</span><span class="s2">: &lt;b&gt;</span><span class="si">{</span><span class="n">current_profile</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&lt;/b&gt;"</span>
<a id="__codelineno-0-2861" name="__codelineno-0-2861"></a>        <span class="p">)</span>
<a id="__codelineno-0-2862" name="__codelineno-0-2862"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-2863" name="__codelineno-0-2863"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_metric_builder</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">tr</span><span class="p">(</span><span class="s1">'No active profile specified'</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a id="__codelineno-0-2864" name="__codelineno-0-2864"></a>
<a id="__codelineno-0-2865" name="__codelineno-0-2865"></a>    <span class="c1"># Update menu</span>
<a id="__codelineno-0-2866" name="__codelineno-0-2866"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">metric_profile_collection</span><span class="o">.</span><span class="n">profiles</span><span class="p">:</span>
<a id="__codelineno-0-2867" name="__codelineno-0-2867"></a>        <span class="k">return</span>
<a id="__codelineno-0-2868" name="__codelineno-0-2868"></a>
<a id="__codelineno-0-2869" name="__codelineno-0-2869"></a>    <span class="n">profiles_menu</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMenu</span><span class="p">()</span>
<a id="__codelineno-0-2870" name="__codelineno-0-2870"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">profiles_action_group</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QActionGroup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<a id="__codelineno-0-2871" name="__codelineno-0-2871"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">profiles_action_group</span><span class="o">.</span><span class="n">setExclusive</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-2872" name="__codelineno-0-2872"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">profiles_action_group</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
<a id="__codelineno-0-2873" name="__codelineno-0-2873"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">on_profile_action_group_triggered</span>
<a id="__codelineno-0-2874" name="__codelineno-0-2874"></a>    <span class="p">)</span>
<a id="__codelineno-0-2875" name="__codelineno-0-2875"></a>    <span class="k">for</span> <span class="n">profile</span> <span class="ow">in</span> <span class="n">metric_profile_collection</span><span class="o">.</span><span class="n">profiles</span><span class="p">:</span>
<a id="__codelineno-0-2876" name="__codelineno-0-2876"></a>        <span class="n">action</span> <span class="o">=</span> <span class="n">profiles_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">profile</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<a id="__codelineno-0-2877" name="__codelineno-0-2877"></a>        <span class="n">action</span><span class="o">.</span><span class="n">setCheckable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-2878" name="__codelineno-0-2878"></a>        <span class="k">if</span> <span class="n">profile</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">metric_profile_collection</span><span class="o">.</span><span class="n">current_profile</span><span class="p">:</span>
<a id="__codelineno-0-2879" name="__codelineno-0-2879"></a>            <span class="n">action</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-2880" name="__codelineno-0-2880"></a>        <span class="c1"># Disable invalid profiles</span>
<a id="__codelineno-0-2881" name="__codelineno-0-2881"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">profile</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
<a id="__codelineno-0-2882" name="__codelineno-0-2882"></a>            <span class="n">action</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-2883" name="__codelineno-0-2883"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">profiles_action_group</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
<a id="__codelineno-0-2884" name="__codelineno-0-2884"></a>
<a id="__codelineno-0-2885" name="__codelineno-0-2885"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">btn_metric_builder</span><span class="o">.</span><span class="n">setMenu</span><span class="p">(</span><span class="n">profiles_menu</span><span class="p">)</span>
<a id="__codelineno-0-2886" name="__codelineno-0-2886"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">btn_metric_builder</span><span class="o">.</span><span class="n">setPopupMode</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QToolButton</span><span class="o">.</span><span class="n">MenuButtonPopup</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.update_priority_layers" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">update_priority_layers</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.update_priority_layers" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">update_priority_layers</span><span class="p">(</span><span class="n">update_groups</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Updates the priority weighting layers list in the UI.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>update_groups</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to update the priority groups list or not</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-870">870</a></span>
<span class="normal"><a href="#__codelineno-0-871">871</a></span>
<span class="normal"><a href="#__codelineno-0-872">872</a></span>
<span class="normal"><a href="#__codelineno-0-873">873</a></span>
<span class="normal"><a href="#__codelineno-0-874">874</a></span>
<span class="normal"><a href="#__codelineno-0-875">875</a></span>
<span class="normal"><a href="#__codelineno-0-876">876</a></span>
<span class="normal"><a href="#__codelineno-0-877">877</a></span>
<span class="normal"><a href="#__codelineno-0-878">878</a></span>
<span class="normal"><a href="#__codelineno-0-879">879</a></span>
<span class="normal"><a href="#__codelineno-0-880">880</a></span>
<span class="normal"><a href="#__codelineno-0-881">881</a></span>
<span class="normal"><a href="#__codelineno-0-882">882</a></span>
<span class="normal"><a href="#__codelineno-0-883">883</a></span>
<span class="normal"><a href="#__codelineno-0-884">884</a></span>
<span class="normal"><a href="#__codelineno-0-885">885</a></span>
<span class="normal"><a href="#__codelineno-0-886">886</a></span>
<span class="normal"><a href="#__codelineno-0-887">887</a></span>
<span class="normal"><a href="#__codelineno-0-888">888</a></span>
<span class="normal"><a href="#__codelineno-0-889">889</a></span>
<span class="normal"><a href="#__codelineno-0-890">890</a></span>
<span class="normal"><a href="#__codelineno-0-891">891</a></span>
<span class="normal"><a href="#__codelineno-0-892">892</a></span>
<span class="normal"><a href="#__codelineno-0-893">893</a></span>
<span class="normal"><a href="#__codelineno-0-894">894</a></span>
<span class="normal"><a href="#__codelineno-0-895">895</a></span>
<span class="normal"><a href="#__codelineno-0-896">896</a></span>
<span class="normal"><a href="#__codelineno-0-897">897</a></span>
<span class="normal"><a href="#__codelineno-0-898">898</a></span>
<span class="normal"><a href="#__codelineno-0-899">899</a></span>
<span class="normal"><a href="#__codelineno-0-900">900</a></span>
<span class="normal"><a href="#__codelineno-0-901">901</a></span>
<span class="normal"><a href="#__codelineno-0-902">902</a></span>
<span class="normal"><a href="#__codelineno-0-903">903</a></span>
<span class="normal"><a href="#__codelineno-0-904">904</a></span>
<span class="normal"><a href="#__codelineno-0-905">905</a></span>
<span class="normal"><a href="#__codelineno-0-906">906</a></span>
<span class="normal"><a href="#__codelineno-0-907">907</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-870" name="__codelineno-0-870"></a><span class="k">def</span> <span class="nf">update_priority_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">update_groups</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<a id="__codelineno-0-871" name="__codelineno-0-871"></a>    <span class="sd">"""Updates the priority weighting layers list in the UI.</span>
<a id="__codelineno-0-872" name="__codelineno-0-872"></a>
<a id="__codelineno-0-873" name="__codelineno-0-873"></a><span class="sd">    :param update_groups: Whether to update the priority groups list or not</span>
<a id="__codelineno-0-874" name="__codelineno-0-874"></a><span class="sd">    :type update_groups: bool</span>
<a id="__codelineno-0-875" name="__codelineno-0-875"></a><span class="sd">    """</span>
<a id="__codelineno-0-876" name="__codelineno-0-876"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">priority_layers_list</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<a id="__codelineno-0-877" name="__codelineno-0-877"></a>    <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_priority_layers</span><span class="p">():</span>
<a id="__codelineno-0-878" name="__codelineno-0-878"></a>        <span class="n">item</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QListWidgetItem</span><span class="p">()</span>
<a id="__codelineno-0-879" name="__codelineno-0-879"></a>        <span class="n">item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">DisplayRole</span><span class="p">,</span> <span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"name"</span><span class="p">))</span>
<a id="__codelineno-0-880" name="__codelineno-0-880"></a>        <span class="n">item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">,</span> <span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"uuid"</span><span class="p">))</span>
<a id="__codelineno-0-881" name="__codelineno-0-881"></a>
<a id="__codelineno-0-882" name="__codelineno-0-882"></a>        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"path"</span><span class="p">))</span> <span class="ow">or</span> <span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"path"</span><span class="p">)</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span>
<a id="__codelineno-0-883" name="__codelineno-0-883"></a>            <span class="s2">"cplus://"</span>
<a id="__codelineno-0-884" name="__codelineno-0-884"></a>        <span class="p">):</span>
<a id="__codelineno-0-885" name="__codelineno-0-885"></a>            <span class="n">item</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">())</span>
<a id="__codelineno-0-886" name="__codelineno-0-886"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-887" name="__codelineno-0-887"></a>            <span class="n">item</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">FileUtils</span><span class="o">.</span><span class="n">get_icon</span><span class="p">(</span><span class="s2">"mIndicatorLayerError.svg"</span><span class="p">))</span>
<a id="__codelineno-0-888" name="__codelineno-0-888"></a>            <span class="n">item</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span>
<a id="__codelineno-0-889" name="__codelineno-0-889"></a>                <span class="n">tr</span><span class="p">(</span>
<a id="__codelineno-0-890" name="__codelineno-0-890"></a>                    <span class="s2">"Contains invalid priority layer path, "</span>
<a id="__codelineno-0-891" name="__codelineno-0-891"></a>                    <span class="s2">"the provided layer path does not exist!"</span>
<a id="__codelineno-0-892" name="__codelineno-0-892"></a>                <span class="p">)</span>
<a id="__codelineno-0-893" name="__codelineno-0-893"></a>            <span class="p">)</span>
<a id="__codelineno-0-894" name="__codelineno-0-894"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">priority_layers_list</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<a id="__codelineno-0-895" name="__codelineno-0-895"></a>        <span class="k">if</span> <span class="n">update_groups</span><span class="p">:</span>
<a id="__codelineno-0-896" name="__codelineno-0-896"></a>            <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">topLevelItemCount</span><span class="p">()):</span>
<a id="__codelineno-0-897" name="__codelineno-0-897"></a>                <span class="n">group</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">priority_groups_list</span><span class="o">.</span><span class="n">topLevelItem</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
<a id="__codelineno-0-898" name="__codelineno-0-898"></a>                <span class="k">if</span> <span class="n">group</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="ow">in</span> <span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"groups"</span><span class="p">):</span>
<a id="__codelineno-0-899" name="__codelineno-0-899"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">add_priority_layer_group</span><span class="p">(</span><span class="n">group</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
<a id="__codelineno-0-900" name="__codelineno-0-900"></a>                <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-901" name="__codelineno-0-901"></a>                    <span class="n">group_children</span> <span class="o">=</span> <span class="n">group</span><span class="o">.</span><span class="n">takeChildren</span><span class="p">()</span>
<a id="__codelineno-0-902" name="__codelineno-0-902"></a>                    <span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-903" name="__codelineno-0-903"></a>                    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">group_children</span><span class="p">:</span>
<a id="__codelineno-0-904" name="__codelineno-0-904"></a>                        <span class="k">if</span> <span class="n">child</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"name"</span><span class="p">):</span>
<a id="__codelineno-0-905" name="__codelineno-0-905"></a>                            <span class="k">continue</span>
<a id="__codelineno-0-906" name="__codelineno-0-906"></a>                        <span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
<a id="__codelineno-0-907" name="__codelineno-0-907"></a>                    <span class="n">group</span><span class="o">.</span><span class="n">addChildren</span><span class="p">(</span><span class="n">children</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.update_progress_bar" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">update_progress_bar</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.update_progress_bar" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">update_progress_bar</span><span class="p">(</span><span class="n">progress_dialog</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Sets the value of the progress bar</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>progress_dialog</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ProgressDialog (src.cplus_plugin.gui.progress_dialog.ProgressDialog)" href="../api_progress_dialog/#src.cplus_plugin.gui.progress_dialog.ProgressDialog">ProgressDialog</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dialog responsible for showing all the analysis operations progress.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>value</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Value to be set on the progress bar</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2599">2599</a></span>
<span class="normal"><a href="#__codelineno-0-2600">2600</a></span>
<span class="normal"><a href="#__codelineno-0-2601">2601</a></span>
<span class="normal"><a href="#__codelineno-0-2602">2602</a></span>
<span class="normal"><a href="#__codelineno-0-2603">2603</a></span>
<span class="normal"><a href="#__codelineno-0-2604">2604</a></span>
<span class="normal"><a href="#__codelineno-0-2605">2605</a></span>
<span class="normal"><a href="#__codelineno-0-2606">2606</a></span>
<span class="normal"><a href="#__codelineno-0-2607">2607</a></span>
<span class="normal"><a href="#__codelineno-0-2608">2608</a></span>
<span class="normal"><a href="#__codelineno-0-2609">2609</a></span>
<span class="normal"><a href="#__codelineno-0-2610">2610</a></span>
<span class="normal"><a href="#__codelineno-0-2611">2611</a></span>
<span class="normal"><a href="#__codelineno-0-2612">2612</a></span>
<span class="normal"><a href="#__codelineno-0-2613">2613</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2599" name="__codelineno-0-2599"></a><span class="k">def</span> <span class="nf">update_progress_bar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">progress_dialog</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<a id="__codelineno-0-2600" name="__codelineno-0-2600"></a>    <span class="sd">"""Sets the value of the progress bar</span>
<a id="__codelineno-0-2601" name="__codelineno-0-2601"></a>
<a id="__codelineno-0-2602" name="__codelineno-0-2602"></a><span class="sd">    :param progress_dialog: Dialog responsible for showing</span>
<a id="__codelineno-0-2603" name="__codelineno-0-2603"></a><span class="sd">     all the analysis operations progress.</span>
<a id="__codelineno-0-2604" name="__codelineno-0-2604"></a><span class="sd">    :type progress_dialog: ProgressDialog</span>
<a id="__codelineno-0-2605" name="__codelineno-0-2605"></a>
<a id="__codelineno-0-2606" name="__codelineno-0-2606"></a><span class="sd">    :param value: Value to be set on the progress bar</span>
<a id="__codelineno-0-2607" name="__codelineno-0-2607"></a><span class="sd">    :type value: float</span>
<a id="__codelineno-0-2608" name="__codelineno-0-2608"></a><span class="sd">    """</span>
<a id="__codelineno-0-2609" name="__codelineno-0-2609"></a>    <span class="k">if</span> <span class="n">progress_dialog</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">processing_cancelled</span><span class="p">:</span>
<a id="__codelineno-0-2610" name="__codelineno-0-2610"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-2611" name="__codelineno-0-2611"></a>            <span class="n">progress_dialog</span><span class="o">.</span><span class="n">update_progress_bar</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
<a id="__codelineno-0-2612" name="__codelineno-0-2612"></a>        <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
<a id="__codelineno-0-2613" name="__codelineno-0-2613"></a>            <span class="n">log</span><span class="p">(</span><span class="n">tr</span><span class="p">(</span><span class="s2">"Error setting value to a progress bar"</span><span class="p">),</span> <span class="n">notify</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.update_progress_dialog" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">update_progress_dialog</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.update_progress_dialog" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">update_progress_dialog</span><span class="p">(</span><span class="n">progress_dialog</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Run report generation. This should be called after the
 analysis is complete.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>progress_dialog</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ProgressDialog (src.cplus_plugin.gui.progress_dialog.ProgressDialog)" href="../api_progress_dialog/#src.cplus_plugin.gui.progress_dialog.ProgressDialog">ProgressDialog</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dialog responsible for showing all the analysis operations progress.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>message</code></td>
            <td>
                  <code><span title="ReportManager">ReportManager</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Report manager used to generate analysis report_templates</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2581">2581</a></span>
<span class="normal"><a href="#__codelineno-0-2582">2582</a></span>
<span class="normal"><a href="#__codelineno-0-2583">2583</a></span>
<span class="normal"><a href="#__codelineno-0-2584">2584</a></span>
<span class="normal"><a href="#__codelineno-0-2585">2585</a></span>
<span class="normal"><a href="#__codelineno-0-2586">2586</a></span>
<span class="normal"><a href="#__codelineno-0-2587">2587</a></span>
<span class="normal"><a href="#__codelineno-0-2588">2588</a></span>
<span class="normal"><a href="#__codelineno-0-2589">2589</a></span>
<span class="normal"><a href="#__codelineno-0-2590">2590</a></span>
<span class="normal"><a href="#__codelineno-0-2591">2591</a></span>
<span class="normal"><a href="#__codelineno-0-2592">2592</a></span>
<span class="normal"><a href="#__codelineno-0-2593">2593</a></span>
<span class="normal"><a href="#__codelineno-0-2594">2594</a></span>
<span class="normal"><a href="#__codelineno-0-2595">2595</a></span>
<span class="normal"><a href="#__codelineno-0-2596">2596</a></span>
<span class="normal"><a href="#__codelineno-0-2597">2597</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2581" name="__codelineno-0-2581"></a><span class="k">def</span> <span class="nf">update_progress_dialog</span><span class="p">(</span>
<a id="__codelineno-0-2582" name="__codelineno-0-2582"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-2583" name="__codelineno-0-2583"></a>    <span class="n">progress_dialog</span><span class="p">,</span>
<a id="__codelineno-0-2584" name="__codelineno-0-2584"></a>    <span class="n">message</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-2585" name="__codelineno-0-2585"></a><span class="p">):</span>
<a id="__codelineno-0-2586" name="__codelineno-0-2586"></a>    <span class="sd">"""Run report generation. This should be called after the</span>
<a id="__codelineno-0-2587" name="__codelineno-0-2587"></a><span class="sd">     analysis is complete.</span>
<a id="__codelineno-0-2588" name="__codelineno-0-2588"></a>
<a id="__codelineno-0-2589" name="__codelineno-0-2589"></a><span class="sd">    :param progress_dialog: Dialog responsible for showing</span>
<a id="__codelineno-0-2590" name="__codelineno-0-2590"></a><span class="sd">     all the analysis operations progress.</span>
<a id="__codelineno-0-2591" name="__codelineno-0-2591"></a><span class="sd">    :type progress_dialog: ProgressDialog</span>
<a id="__codelineno-0-2592" name="__codelineno-0-2592"></a>
<a id="__codelineno-0-2593" name="__codelineno-0-2593"></a><span class="sd">    :param message: Report manager used to generate analysis report_templates</span>
<a id="__codelineno-0-2594" name="__codelineno-0-2594"></a><span class="sd">    :type message: ReportManager</span>
<a id="__codelineno-0-2595" name="__codelineno-0-2595"></a><span class="sd">    """</span>
<a id="__codelineno-0-2596" name="__codelineno-0-2596"></a>
<a id="__codelineno-0-2597" name="__codelineno-0-2597"></a>    <span class="n">progress_dialog</span><span class="o">.</span><span class="n">change_status_message</span><span class="p">(</span><span class="n">message</span><span class="p">)</span> <span class="k">if</span> <span class="n">message</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.update_pwl_layers" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">update_pwl_layers</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.update_pwl_layers" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">update_pwl_layers</span><span class="p">(</span><span class="n">notify</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Updates the priority layers path available in
the store activities.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>notify</code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to show message to user about the update</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-619">619</a></span>
<span class="normal"><a href="#__codelineno-0-620">620</a></span>
<span class="normal"><a href="#__codelineno-0-621">621</a></span>
<span class="normal"><a href="#__codelineno-0-622">622</a></span>
<span class="normal"><a href="#__codelineno-0-623">623</a></span>
<span class="normal"><a href="#__codelineno-0-624">624</a></span>
<span class="normal"><a href="#__codelineno-0-625">625</a></span>
<span class="normal"><a href="#__codelineno-0-626">626</a></span>
<span class="normal"><a href="#__codelineno-0-627">627</a></span>
<span class="normal"><a href="#__codelineno-0-628">628</a></span>
<span class="normal"><a href="#__codelineno-0-629">629</a></span>
<span class="normal"><a href="#__codelineno-0-630">630</a></span>
<span class="normal"><a href="#__codelineno-0-631">631</a></span>
<span class="normal"><a href="#__codelineno-0-632">632</a></span>
<span class="normal"><a href="#__codelineno-0-633">633</a></span>
<span class="normal"><a href="#__codelineno-0-634">634</a></span>
<span class="normal"><a href="#__codelineno-0-635">635</a></span>
<span class="normal"><a href="#__codelineno-0-636">636</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-619" name="__codelineno-0-619"></a><span class="k">def</span> <span class="nf">update_pwl_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">notify</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<a id="__codelineno-0-620" name="__codelineno-0-620"></a>    <span class="sd">"""Updates the priority layers path available in</span>
<a id="__codelineno-0-621" name="__codelineno-0-621"></a><span class="sd">    the store activities.</span>
<a id="__codelineno-0-622" name="__codelineno-0-622"></a>
<a id="__codelineno-0-623" name="__codelineno-0-623"></a><span class="sd">    :param notify: Whether to show message to user about the update</span>
<a id="__codelineno-0-624" name="__codelineno-0-624"></a><span class="sd">    :type notify: bool</span>
<a id="__codelineno-0-625" name="__codelineno-0-625"></a><span class="sd">    """</span>
<a id="__codelineno-0-626" name="__codelineno-0-626"></a>    <span class="n">settings_manager</span><span class="o">.</span><span class="n">update_activities</span><span class="p">()</span>
<a id="__codelineno-0-627" name="__codelineno-0-627"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">update_priority_layers</span><span class="p">()</span>
<a id="__codelineno-0-628" name="__codelineno-0-628"></a>    <span class="k">if</span> <span class="n">notify</span><span class="p">:</span>
<a id="__codelineno-0-629" name="__codelineno-0-629"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span>
<a id="__codelineno-0-630" name="__codelineno-0-630"></a>            <span class="n">tr</span><span class="p">(</span>
<a id="__codelineno-0-631" name="__codelineno-0-631"></a>                <span class="s2">"Updated all the activities"</span>
<a id="__codelineno-0-632" name="__codelineno-0-632"></a>                <span class="s2">" with their respective priority layers"</span>
<a id="__codelineno-0-633" name="__codelineno-0-633"></a>            <span class="p">),</span>
<a id="__codelineno-0-634" name="__codelineno-0-634"></a>            <span class="n">Qgis</span><span class="o">.</span><span class="n">Info</span><span class="p">,</span>
<a id="__codelineno-0-635" name="__codelineno-0-635"></a>        <span class="p">)</span>
<a id="__codelineno-0-636" name="__codelineno-0-636"></a>    <span class="n">log</span><span class="p">(</span><span class="n">tr</span><span class="p">(</span><span class="s2">"Updated all the activities"</span> <span class="s2">" with their respective priority layers"</span><span class="p">))</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.update_scenario_list" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">update_scenario_list</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.update_scenario_list" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">update_scenario_list</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Fetches scenarios from plugin settings and updates the
scenario history list</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1381">1381</a></span>
<span class="normal"><a href="#__codelineno-0-1382">1382</a></span>
<span class="normal"><a href="#__codelineno-0-1383">1383</a></span>
<span class="normal"><a href="#__codelineno-0-1384">1384</a></span>
<span class="normal"><a href="#__codelineno-0-1385">1385</a></span>
<span class="normal"><a href="#__codelineno-0-1386">1386</a></span>
<span class="normal"><a href="#__codelineno-0-1387">1387</a></span>
<span class="normal"><a href="#__codelineno-0-1388">1388</a></span>
<span class="normal"><a href="#__codelineno-0-1389">1389</a></span>
<span class="normal"><a href="#__codelineno-0-1390">1390</a></span>
<span class="normal"><a href="#__codelineno-0-1391">1391</a></span>
<span class="normal"><a href="#__codelineno-0-1392">1392</a></span>
<span class="normal"><a href="#__codelineno-0-1393">1393</a></span>
<span class="normal"><a href="#__codelineno-0-1394">1394</a></span>
<span class="normal"><a href="#__codelineno-0-1395">1395</a></span>
<span class="normal"><a href="#__codelineno-0-1396">1396</a></span>
<span class="normal"><a href="#__codelineno-0-1397">1397</a></span>
<span class="normal"><a href="#__codelineno-0-1398">1398</a></span>
<span class="normal"><a href="#__codelineno-0-1399">1399</a></span>
<span class="normal"><a href="#__codelineno-0-1400">1400</a></span>
<span class="normal"><a href="#__codelineno-0-1401">1401</a></span>
<span class="normal"><a href="#__codelineno-0-1402">1402</a></span>
<span class="normal"><a href="#__codelineno-0-1403">1403</a></span>
<span class="normal"><a href="#__codelineno-0-1404">1404</a></span>
<span class="normal"><a href="#__codelineno-0-1405">1405</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1381" name="__codelineno-0-1381"></a><span class="k">def</span> <span class="nf">update_scenario_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-1382" name="__codelineno-0-1382"></a>    <span class="sd">"""Fetches scenarios from plugin settings and updates the</span>
<a id="__codelineno-0-1383" name="__codelineno-0-1383"></a><span class="sd">    scenario history list</span>
<a id="__codelineno-0-1384" name="__codelineno-0-1384"></a><span class="sd">    """</span>
<a id="__codelineno-0-1385" name="__codelineno-0-1385"></a>    <span class="n">scenarios</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_scenarios</span><span class="p">()</span>
<a id="__codelineno-0-1386" name="__codelineno-0-1386"></a>
<a id="__codelineno-0-1387" name="__codelineno-0-1387"></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">scenarios</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-1388" name="__codelineno-0-1388"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scenario_list</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<a id="__codelineno-0-1389" name="__codelineno-0-1389"></a>
<a id="__codelineno-0-1390" name="__codelineno-0-1390"></a>    <span class="k">for</span> <span class="n">scenario</span> <span class="ow">in</span> <span class="n">scenarios</span><span class="p">:</span>
<a id="__codelineno-0-1391" name="__codelineno-0-1391"></a>        <span class="n">scenario_type</span> <span class="o">=</span> <span class="s2">"Available offline"</span>
<a id="__codelineno-0-1392" name="__codelineno-0-1392"></a>        <span class="k">if</span> <span class="n">scenario</span><span class="o">.</span><span class="n">server_uuid</span><span class="p">:</span>
<a id="__codelineno-0-1393" name="__codelineno-0-1393"></a>            <span class="n">scenario_result</span> <span class="o">=</span> <span class="n">settings_manager</span><span class="o">.</span><span class="n">get_scenario_result</span><span class="p">(</span><span class="n">scenario</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span>
<a id="__codelineno-0-1394" name="__codelineno-0-1394"></a>            <span class="k">if</span> <span class="n">scenario_result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1395" name="__codelineno-0-1395"></a>                <span class="n">scenario_type</span> <span class="o">=</span> <span class="s2">"Online"</span>
<a id="__codelineno-0-1396" name="__codelineno-0-1396"></a>        <span class="n">item_widget</span> <span class="o">=</span> <span class="n">ScenarioItemWidget</span><span class="p">(</span><span class="n">scenario</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">scenario_type</span><span class="p">)</span>
<a id="__codelineno-0-1397" name="__codelineno-0-1397"></a>        <span class="n">item</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QListWidgetItem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scenario_list</span><span class="p">)</span>
<a id="__codelineno-0-1398" name="__codelineno-0-1398"></a>        <span class="n">item</span><span class="o">.</span><span class="n">setSizeHint</span><span class="p">(</span><span class="n">item_widget</span><span class="o">.</span><span class="n">sizeHint</span><span class="p">())</span>
<a id="__codelineno-0-1399" name="__codelineno-0-1399"></a>        <span class="n">item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">scenario</span><span class="o">.</span><span class="n">uuid</span><span class="p">))</span>
<a id="__codelineno-0-1400" name="__codelineno-0-1400"></a>        <span class="n">item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">scenario</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<a id="__codelineno-0-1401" name="__codelineno-0-1401"></a>        <span class="k">if</span> <span class="n">scenario</span><span class="o">.</span><span class="n">server_uuid</span><span class="p">:</span>
<a id="__codelineno-0-1402" name="__codelineno-0-1402"></a>            <span class="n">item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">scenario</span><span class="o">.</span><span class="n">server_uuid</span><span class="p">))</span>
<a id="__codelineno-0-1403" name="__codelineno-0-1403"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-1404" name="__codelineno-0-1404"></a>            <span class="n">item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">UserRole</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">""</span><span class="p">)</span>
<a id="__codelineno-0-1405" name="__codelineno-0-1405"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scenario_list</span><span class="o">.</span><span class="n">setItemWidget</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">item_widget</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.zoom_pilot_area" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">zoom_pilot_area</span>


<a href="#src.cplus_plugin.gui.qgis_cplus_main.QgisCplusMain.zoom_pilot_area" class="headerlink" title="Permanent link">¶</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">zoom_pilot_area</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Zoom the current main map canvas to the pilot area extent.</p>

            <details class="quote">
              <summary>Source code in <code>src/cplus_plugin/gui/qgis_cplus_main.py</code></summary>
              <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-2643">2643</a></span>
<span class="normal"><a href="#__codelineno-0-2644">2644</a></span>
<span class="normal"><a href="#__codelineno-0-2645">2645</a></span>
<span class="normal"><a href="#__codelineno-0-2646">2646</a></span>
<span class="normal"><a href="#__codelineno-0-2647">2647</a></span>
<span class="normal"><a href="#__codelineno-0-2648">2648</a></span>
<span class="normal"><a href="#__codelineno-0-2649">2649</a></span>
<span class="normal"><a href="#__codelineno-0-2650">2650</a></span>
<span class="normal"><a href="#__codelineno-0-2651">2651</a></span>
<span class="normal"><a href="#__codelineno-0-2652">2652</a></span>
<span class="normal"><a href="#__codelineno-0-2653">2653</a></span>
<span class="normal"><a href="#__codelineno-0-2654">2654</a></span>
<span class="normal"><a href="#__codelineno-0-2655">2655</a></span>
<span class="normal"><a href="#__codelineno-0-2656">2656</a></span>
<span class="normal"><a href="#__codelineno-0-2657">2657</a></span>
<span class="normal"><a href="#__codelineno-0-2658">2658</a></span>
<span class="normal"><a href="#__codelineno-0-2659">2659</a></span>
<span class="normal"><a href="#__codelineno-0-2660">2660</a></span>
<span class="normal"><a href="#__codelineno-0-2661">2661</a></span>
<span class="normal"><a href="#__codelineno-0-2662">2662</a></span>
<span class="normal"><a href="#__codelineno-0-2663">2663</a></span>
<span class="normal"><a href="#__codelineno-0-2664">2664</a></span>
<span class="normal"><a href="#__codelineno-0-2665">2665</a></span>
<span class="normal"><a href="#__codelineno-0-2666">2666</a></span>
<span class="normal"><a href="#__codelineno-0-2667">2667</a></span>
<span class="normal"><a href="#__codelineno-0-2668">2668</a></span>
<span class="normal"><a href="#__codelineno-0-2669">2669</a></span>
<span class="normal"><a href="#__codelineno-0-2670">2670</a></span>
<span class="normal"><a href="#__codelineno-0-2671">2671</a></span>
<span class="normal"><a href="#__codelineno-0-2672">2672</a></span>
<span class="normal"><a href="#__codelineno-0-2673">2673</a></span>
<span class="normal"><a href="#__codelineno-0-2674">2674</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-2643" name="__codelineno-0-2643"></a><span class="k">def</span> <span class="nf">zoom_pilot_area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-2644" name="__codelineno-0-2644"></a>    <span class="sd">"""Zoom the current main map canvas to the pilot area extent."""</span>
<a id="__codelineno-0-2645" name="__codelineno-0-2645"></a>    <span class="n">map_canvas</span> <span class="o">=</span> <span class="n">iface</span><span class="o">.</span><span class="n">mapCanvas</span><span class="p">()</span>
<a id="__codelineno-0-2646" name="__codelineno-0-2646"></a>
<a id="__codelineno-0-2647" name="__codelineno-0-2647"></a>    <span class="n">zoom_extent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">outputExtent</span><span class="p">()</span>
<a id="__codelineno-0-2648" name="__codelineno-0-2648"></a>    <span class="n">original_crs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extent_box</span><span class="o">.</span><span class="n">outputCrs</span><span class="p">()</span>
<a id="__codelineno-0-2649" name="__codelineno-0-2649"></a>
<a id="__codelineno-0-2650" name="__codelineno-0-2650"></a>    <span class="k">if</span> <span class="p">(</span>
<a id="__codelineno-0-2651" name="__codelineno-0-2651"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_aoi_source_group</span><span class="o">.</span><span class="n">checkedId</span><span class="p">()</span> <span class="o">==</span> <span class="n">AreaOfInterestSource</span><span class="o">.</span><span class="n">LAYER</span><span class="o">.</span><span class="n">value</span>
<a id="__codelineno-0-2652" name="__codelineno-0-2652"></a>        <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aoi_layer</span>
<a id="__codelineno-0-2653" name="__codelineno-0-2653"></a>    <span class="p">):</span>
<a id="__codelineno-0-2654" name="__codelineno-0-2654"></a>        <span class="n">zoom_extent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aoi_layer</span><span class="o">.</span><span class="n">extent</span><span class="p">()</span>
<a id="__codelineno-0-2655" name="__codelineno-0-2655"></a>        <span class="n">original_crs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aoi_layer</span><span class="o">.</span><span class="n">crs</span><span class="p">()</span>
<a id="__codelineno-0-2656" name="__codelineno-0-2656"></a>
<a id="__codelineno-0-2657" name="__codelineno-0-2657"></a>    <span class="n">canvas_crs</span> <span class="o">=</span> <span class="n">map_canvas</span><span class="o">.</span><span class="n">mapSettings</span><span class="p">()</span><span class="o">.</span><span class="n">destinationCrs</span><span class="p">()</span>
<a id="__codelineno-0-2658" name="__codelineno-0-2658"></a>
<a id="__codelineno-0-2659" name="__codelineno-0-2659"></a>    <span class="k">if</span> <span class="n">canvas_crs</span><span class="o">.</span><span class="n">authid</span><span class="p">()</span> <span class="o">!=</span> <span class="n">original_crs</span><span class="o">.</span><span class="n">authid</span><span class="p">():</span>
<a id="__codelineno-0-2660" name="__codelineno-0-2660"></a>        <span class="n">zoom_extent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">transform_extent</span><span class="p">(</span><span class="n">zoom_extent</span><span class="p">,</span> <span class="n">original_crs</span><span class="p">,</span> <span class="n">canvas_crs</span><span class="p">)</span>
<a id="__codelineno-0-2661" name="__codelineno-0-2661"></a>
<a id="__codelineno-0-2662" name="__codelineno-0-2662"></a>    <span class="n">aoi</span> <span class="o">=</span> <span class="n">QgsRubberBand</span><span class="p">(</span><span class="n">iface</span><span class="o">.</span><span class="n">mapCanvas</span><span class="p">(),</span> <span class="n">QgsWkbTypes</span><span class="o">.</span><span class="n">PolygonGeometry</span><span class="p">)</span>
<a id="__codelineno-0-2663" name="__codelineno-0-2663"></a>
<a id="__codelineno-0-2664" name="__codelineno-0-2664"></a>    <span class="n">aoi</span><span class="o">.</span><span class="n">setFillColor</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<a id="__codelineno-0-2665" name="__codelineno-0-2665"></a>    <span class="n">aoi</span><span class="o">.</span><span class="n">setStrokeColor</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QColor</span><span class="p">(</span><span class="mi">88</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<a id="__codelineno-0-2666" name="__codelineno-0-2666"></a>    <span class="n">aoi</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-0-2667" name="__codelineno-0-2667"></a>    <span class="n">aoi</span><span class="o">.</span><span class="n">setLineStyle</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">DashLine</span><span class="p">)</span>
<a id="__codelineno-0-2668" name="__codelineno-0-2668"></a>
<a id="__codelineno-0-2669" name="__codelineno-0-2669"></a>    <span class="n">geom</span> <span class="o">=</span> <span class="n">QgsGeometry</span><span class="o">.</span><span class="n">fromRect</span><span class="p">(</span><span class="n">zoom_extent</span><span class="p">)</span>
<a id="__codelineno-0-2670" name="__codelineno-0-2670"></a>
<a id="__codelineno-0-2671" name="__codelineno-0-2671"></a>    <span class="n">aoi</span><span class="o">.</span><span class="n">setToGeometry</span><span class="p">(</span><span class="n">geom</span><span class="p">,</span> <span class="n">canvas_crs</span><span class="p">)</span>
<a id="__codelineno-0-2672" name="__codelineno-0-2672"></a>
<a id="__codelineno-0-2673" name="__codelineno-0-2673"></a>    <span class="n">map_canvas</span><span class="o">.</span><span class="n">setExtent</span><span class="p">(</span><span class="n">zoom_extent</span><span class="p">)</span>
<a id="__codelineno-0-2674" name="__codelineno-0-2674"></a>    <span class="n">map_canvas</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div></div>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">October 9, 2025</span>
      
    
  </small>
</div>

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../../models/api_validation/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Validation" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Validation
            </div>
          </div>
        </a>
      
      
        
        <a href="../api_carbon_layer_model/" class="md-footer__link md-footer__link--next" aria-label="Next: Carbon item model" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Carbon item model
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    <a href="" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.indexes", "navigation.instant", "navigation.tabs.sticky", "navigation.tracking", "toc.integrate", "toc.follow", "navigation.top", "search.suggest", "search.highlight", "search.share", "content.tabs.link", "content.code.annotation", "content.code.copy", "header.autohide"], "search": "../../../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.748e2769.min.js"></script>
      
        <script src="../../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>