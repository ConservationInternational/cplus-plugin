<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="Conservation International" name="author"/>
<link href="../../../../img/favicon.ico" rel="shortcut icon"/>
<title>Manager - CPLUS</title>
<link href="../../../../css/bootstrap.min.css" rel="stylesheet"/>
<link href="../../../../css/font-awesome.min.css" rel="stylesheet"/>
<link href="../../../../css/base.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" rel="stylesheet"/>
<link href="../../../../assets/_mkdocstrings.css" rel="stylesheet"/>
<script defer="" src="../../../../js/jquery-1.10.2.min.js"></script>
<script defer="" src="../../../../js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<link href="../../../../../pdfs/CPLUS.pdf" rel="alternate" title="PDF" type="application/pdf"/></head>
<body>
<div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
<div class="container">
<a class="navbar-brand" href="../../../..">CPLUS</a>
<!-- Expander button -->
<button class="navbar-toggler" data-target="#navbar-collapse" data-toggle="collapse" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<!-- Expanded navigation -->
<div class="navbar-collapse collapse" id="navbar-collapse">
<!-- Main navigation -->
<ul class="nav navbar-nav">
<li class="navitem">
<a class="nav-link" href="../../../..">Home</a>
</li>
<li class="dropdown">
<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Users <b class="caret"></b></a>
<ul class="dropdown-menu">
<li>
<a class="dropdown-item" href="../../../../user/">Users</a>
</li>
<li>
<a class="dropdown-item" href="../../../../user/quickstart/">Quick Start</a>
</li>
<li>
<a class="dropdown-item" href="../../../../user/guide/">Guide</a>
</li>
<li>
<a class="dropdown-item" href="../../../../user/manual/">Manual</a>
</li>
</ul>
</li>
<li class="dropdown">
<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Administrators <b class="caret"></b></a>
<ul class="dropdown-menu">
<li>
<a class="dropdown-item" href="../../../../administrator/">Administrators</a>
</li>
<li>
<a class="dropdown-item" href="../../../../administrator/guide/">Guide</a>
</li>
<li>
<a class="dropdown-item" href="../../../../administrator/repository/">Repository</a>
</li>
</ul>
</li>
<li class="dropdown active">
<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Developers <b class="caret"></b></a>
<ul class="dropdown-menu">
<li>
<a class="dropdown-item" href="../../../">Developers</a>
</li>
<li>
<a class="dropdown-item" href="../../../setup/">Setup</a>
</li>
<li>
<a class="dropdown-item" href="../../../architecture/">Architecture</a>
</li>
<li>
<a class="dropdown-item" href="../../../documentation/">Documentation</a>
</li>
<li class="dropdown-submenu">
<a class="dropdown-item" href="#">API</a>
<ul class="dropdown-menu">
<li class="dropdown-submenu">
<a class="dropdown-item" href="#">Core</a>
<ul class="dropdown-menu">
<li>
<a class="dropdown-item" href="../api_main/">Main</a>
</li>
<li>
<a class="dropdown-item" href="../api_conf/">Configuration</a>
</li>
<li>
<a class="dropdown-item" href="../api_settings/">Settings</a>
</li>
<li>
<a class="dropdown-item" href="../api_utils/">Utilities</a>
</li>
<li class="dropdown-submenu">
<a class="dropdown-item" href="#">Reports</a>
<ul class="dropdown-menu">
<li>
<a class="dropdown-item" href="../api_reports_generator/">Generator</a>
</li>
<li>
<a class="dropdown-item" href="../api_reports_layout_items/">Layout items</a>
</li>
<li>
<a class="dropdown-item active" href="./">Manager</a>
</li>
<li>
<a class="dropdown-item" href="../api_reports_variables/">Variables</a>
</li>
</ul>
</li>
<li>
<a class="dropdown-item" href="../api_pilot_extent/">Extents</a>
</li>
</ul>
</li>
<li class="dropdown-submenu">
<a class="dropdown-item" href="#">Models</a>
<ul class="dropdown-menu">
<li>
<a class="dropdown-item" href="../../models/api_base/">Model base</a>
</li>
<li>
<a class="dropdown-item" href="../../models/api_helpers/">Helpers</a>
</li>
<li>
<a class="dropdown-item" href="../../models/api_report/">Report</a>
</li>
</ul>
</li>
<li class="dropdown-submenu">
<a class="dropdown-item" href="#">GUI</a>
<ul class="dropdown-menu">
<li>
<a class="dropdown-item" href="../../gui/api_gui_main/">GUI main</a>
</li>
<li>
<a class="dropdown-item" href="../../gui/api_carbon_layer_model/">Carbon item model</a>
</li>
<li>
<a class="dropdown-item" href="../../gui/api_component_items/">Component item model</a>
</li>
<li>
<a class="dropdown-item" href="../../gui/api_im_editor_dialog/">Implementation model editor</a>
</li>
<li>
<a class="dropdown-item" href="../../gui/api_im_widget/">Implementation model widget</a>
</li>
<li>
<a class="dropdown-item" href="../../gui/api_items_selection_dialog/">Items selection dialog</a>
</li>
<li>
<a class="dropdown-item" href="../../gui/api_map_repeat_item_widget/">Map repeat item widget</a>
</li>
<li>
<a class="dropdown-item" href="../../gui/api_model_component_widget/">Model component widget</a>
</li>
<li>
<a class="dropdown-item" href="../../gui/api_ncs_pathway_editor/">NCS Pathway editor</a>
</li>
<li>
<a class="dropdown-item" href="../../gui/api_pixel_value_editor/">Pixel values</a>
</li>
<li>
<a class="dropdown-item" href="../../gui/api_priority_layer/">Priority layer dialog</a>
</li>
<li>
<a class="dropdown-item" href="../../gui/api_priority_group/">Priority group</a>
</li>
<li>
<a class="dropdown-item" href="../../gui/api_progress_dialog/">Progress dialog</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="dropdown">
<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">About <b class="caret"></b></a>
<ul class="dropdown-menu">
<li>
<a class="dropdown-item" href="../../../../about/ci/">Conservation International</a>
</li>
<li>
<a class="dropdown-item" href="../../../../about/kartoza/">Kartoza</a>
</li>
<li>
<a class="dropdown-item" href="../../../../about/license/">License</a>
</li>
</ul>
</li>
</ul>
<ul class="nav navbar-nav ml-auto">
<li class="nav-item">
<a class="nav-link" href="../api_reports_layout_items/" rel="prev">
<i class="fa fa-arrow-left"></i> Previous
                                </a>
</li>
<li class="nav-item">
<a class="nav-link" href="../api_reports_variables/" rel="next">
                                    Next <i class="fa fa-arrow-right"></i>
</a>
</li>
<li class="nav-item">
<a class="nav-link" href="https://github.com/kartoza/cplus-plugin/blob/main/docs/src/developer/api/core/api_reports_manager.md">Edit on kartoza/cplus-plugin</a>
</li>
</ul>
</div>
</div>
</div>
<div class="container">
<div class="row">
<div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
<div class="navbar-header">
<button class="navbar-toggler collapsed" data-target="#toc-collapse" data-toggle="collapse" title="Table of Contents" type="button">
<span class="fa fa-angle-down"></span>
</button>
</div>
<div class="navbar-collapse collapse card bg-secondary" id="toc-collapse">
<ul class="nav flex-column">
<li class="nav-item" data-level="1"><a class="nav-link" href="#report-manager">Report Manager</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-level="1"><a class="nav-link" href="#src.cplus_plugin.lib.reports.manager">manager</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-level="1"><a class="nav-link" href="#src.cplus_plugin.lib.reports.manager.ReportManager">ReportManager</a>
<ul class="nav flex-column">
<li class="nav-item" data-level="2"><a class="nav-link" href="#src.cplus_plugin.lib.reports.manager.ReportManager.variable_register">variable_register</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-level="2"><a class="nav-link" href="#src.cplus_plugin.lib.reports.manager.ReportManager.create_report_context">create_report_context()</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-level="2"><a class="nav-link" href="#src.cplus_plugin.lib.reports.manager.ReportManager.create_scenario_dir">create_scenario_dir()</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-level="2"><a class="nav-link" href="#src.cplus_plugin.lib.reports.manager.ReportManager.generate">generate()</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-level="2"><a class="nav-link" href="#src.cplus_plugin.lib.reports.manager.ReportManager.on_task_status_changed">on_task_status_changed()</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-level="2"><a class="nav-link" href="#src.cplus_plugin.lib.reports.manager.ReportManager.open_layout_designer">open_layout_designer()</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-level="2"><a class="nav-link" href="#src.cplus_plugin.lib.reports.manager.ReportManager.register_variables">register_variables()</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-level="2"><a class="nav-link" href="#src.cplus_plugin.lib.reports.manager.ReportManager.remove_report_task">remove_report_task()</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-level="2"><a class="nav-link" href="#src.cplus_plugin.lib.reports.manager.ReportManager.report_result">report_result()</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-level="2"><a class="nav-link" href="#src.cplus_plugin.lib.reports.manager.ReportManager.scenario_by_task_id">scenario_by_task_id()</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-level="2"><a class="nav-link" href="#src.cplus_plugin.lib.reports.manager.ReportManager.view_pdf">view_pdf()</a>
<ul class="nav flex-column">
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div></div>
<div class="col-md-9" role="main">
<h1 id="report-manager">Report Manager</h1>
<div class="doc doc-object doc-module">
<a id="src.cplus_plugin.lib.reports.manager"></a>
<div class="doc doc-contents first">
<p>Registers custom report variables for layout design
and handles report generation.</p>
<div class="doc doc-children">
<div class="doc doc-object doc-class">
<h1 class="doc doc-heading" id="src.cplus_plugin.lib.reports.manager.ReportManager">
<span class="doc doc-object-name doc-class-name">ReportManager</span>
</h1>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">ReportManager</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>
<div class="doc doc-contents">
<p class="doc doc-class-bases">
            Bases: <code><span title="qgis.PyQt.QtCore.QObject">QObject</span></code></p>
<p>Registers custom report variables for
layout design and handles report generation.</p>
<details class="quote">
<summary>Source code in <code>/home/samweli/Workspace/Projects/cplus-plugin/src/cplus_plugin/lib/reports/manager.py</code></summary>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_variable_register</span> <span class="o">=</span> <span class="n">LayoutVariableRegister</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">report_name</span> <span class="o">=</span> <span class="n">tr</span><span class="p">(</span><span class="s2">"Scenario Analysis Report"</span><span class="p">)</span>

    <span class="c1"># Task id (value) indexed by scenario id (key)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_report_tasks</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># Report results (value) indexed by scenario id (key)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_report_results</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">task_manager</span> <span class="o">=</span> <span class="n">QgsApplication</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">taskManager</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">task_manager</span><span class="o">.</span><span class="n">statusChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_task_status_changed</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">root_output_dir</span> <span class="o">=</span> <span class="s2">""</span>
</code></pre></div>
</td></tr></table>
</details>
<div class="doc doc-children">
<div class="doc doc-object doc-attribute">
<h2 class="doc doc-heading" id="src.cplus_plugin.lib.reports.manager.ReportManager.variable_register">
<span class="doc doc-object-name doc-attribute-name">variable_register</span>
<span class="doc doc-labels">
<small class="doc doc-label doc-label-property"><code>property</code></small>
</span>
</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">variable_register</span>
</code></pre></div>
<div class="doc doc-contents">
<p>Get the instance of the variable register used
for the management of variables.</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>LayoutVariableRegister</code>
</td>
<td>
<div class="doc-md-description">
<p>The register for managing variables in report layout scope.</p>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="src.cplus_plugin.lib.reports.manager.ReportManager.create_report_context">
<span class="doc doc-object-name doc-function-name">create_report_context</span>
<span class="doc doc-labels">
<small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
</span>
</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">create_report_context</span><span class="p">(</span><span class="n">scenario_result</span><span class="p">,</span> <span class="n">feedback</span><span class="p">)</span>
</code></pre></div>
<div class="doc doc-contents">
<p>Creates the report context for use in the report
generator task.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>scenario_result</code></td>
<td>
<code><a class="autorefs autorefs-internal" title="src.cplus_plugin.models.base.ScenarioResult" href="../../models/api_base/#src.cplus_plugin.models.base.ScenarioResult">ScenarioResult</a></code>
</td>
<td>
<div class="doc-md-description">
<p>Result of the scenario analysis.</p>
</div>
</td>
<td>
<em>required</em>
</td>
</tr>
<tr>
<td><code>feedback</code></td>
<td>
<code><span title="qgis.core.QgsFeedback">QgsFeedback</span></code>
</td>
<td>
<div class="doc-md-description">
<p>Feedback object for reporting back to the main application.</p>
</div>
</td>
<td>
<em>required</em>
</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>ReportContext</code>
</td>
<td>
<div class="doc-md-description">
<p>A report context object containing the information for generating the report else None if it could not be created.</p>
</div>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>/home/samweli/Workspace/Projects/cplus-plugin/src/cplus_plugin/lib/reports/manager.py</code></summary>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_report_context</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">scenario_result</span><span class="p">:</span> <span class="n">ScenarioResult</span><span class="p">,</span> <span class="n">feedback</span><span class="p">:</span> <span class="n">QgsFeedback</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ReportContext</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
    <span class="sd">"""Creates the report context for use in the report</span>
<span class="sd">    generator task.</span>

<span class="sd">    :param scenario_result: Result of the scenario analysis.</span>
<span class="sd">    :type scenario_result: ScenarioResult</span>

<span class="sd">    :param feedback: Feedback object for reporting back to the main</span>
<span class="sd">    application.</span>
<span class="sd">    :type feedback: QgsFeedback</span>

<span class="sd">    :returns: A report context object containing the information</span>
<span class="sd">    for generating the report else None if it could not be created.</span>
<span class="sd">    :rtype: ReportContext</span>
<span class="sd">    """</span>
    <span class="n">output_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normpath</span><span class="p">(</span><span class="n">scenario_result</span><span class="o">.</span><span class="n">scenario_directory</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">output_dir</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">Path</span><span class="p">(</span><span class="n">output_dir</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Unable to generate the report. </span><span class="si">{</span><span class="n">output_dir</span><span class="si">}</span><span class="s2"> not found.</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">scenario_report_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normpath</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">output_dir</span><span class="si">}</span><span class="s2">/reports"</span><span class="p">)</span>
    <span class="n">FileUtils</span><span class="o">.</span><span class="n">create_new_dir</span><span class="p">(</span><span class="n">scenario_report_dir</span><span class="p">)</span>

    <span class="n">project_file_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">scenario_report_dir</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">scenario_result</span><span class="o">.</span><span class="n">scenario</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.qgz"</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">project_file_path</span><span class="p">):</span>
        <span class="n">counter</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">project_file_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">scenario_report_dir</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">scenario_result</span><span class="o">.</span><span class="n">scenario</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">counter</span><span class="si">!s}</span><span class="s2">.qgz"</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">project_file_path</span><span class="p">):</span>
                <span class="k">break</span>
            <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="c1"># Write project to file for use in the task since QgsProject</span>
    <span class="c1"># instances are not thread safe.</span>
    <span class="n">storage_type</span> <span class="o">=</span> <span class="n">QgsProject</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">filePathStorage</span><span class="p">()</span>
    <span class="n">QgsProject</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">setFilePathStorage</span><span class="p">(</span><span class="n">Qgis</span><span class="o">.</span><span class="n">FilePathType</span><span class="o">.</span><span class="n">Absolute</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">QgsProject</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">project_file_path</span><span class="p">)</span>
    <span class="n">QgsProject</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">setFilePathStorage</span><span class="p">(</span><span class="n">storage_type</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="c1"># Set base name for the layout and PDF file suffixed with a number</span>
    <span class="c1"># depending on the number of runs.</span>
    <span class="n">layout_manager</span> <span class="o">=</span> <span class="n">QgsProject</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">layoutManager</span><span class="p">()</span>
    <span class="n">counter</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">context_name</span> <span class="o">=</span> <span class="s2">""</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">layout_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">scenario_result</span><span class="o">.</span><span class="n">scenario</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">counter</span><span class="si">!s}</span><span class="s2">"</span>
        <span class="n">matching_layout</span> <span class="o">=</span> <span class="n">layout_manager</span><span class="o">.</span><span class="n">layoutByName</span><span class="p">(</span><span class="n">layout_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">matching_layout</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">context_name</span> <span class="o">=</span> <span class="n">layout_name</span>
            <span class="k">break</span>
        <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="n">template_path</span> <span class="o">=</span> <span class="n">FileUtils</span><span class="o">.</span><span class="n">report_template_path</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">ReportContext</span><span class="p">(</span>
        <span class="n">template_path</span><span class="p">,</span>
        <span class="n">scenario_result</span><span class="o">.</span><span class="n">scenario</span><span class="p">,</span>
        <span class="n">context_name</span><span class="p">,</span>
        <span class="n">scenario_report_dir</span><span class="p">,</span>
        <span class="n">project_file_path</span><span class="p">,</span>
        <span class="n">feedback</span><span class="p">,</span>
        <span class="n">scenario_result</span><span class="o">.</span><span class="n">output_layer_name</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
</td></tr></table>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="src.cplus_plugin.lib.reports.manager.ReportManager.create_scenario_dir">
<span class="doc doc-object-name doc-function-name">create_scenario_dir</span>
</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">create_scenario_dir</span><span class="p">(</span><span class="n">scenario</span><span class="p">)</span>
</code></pre></div>
<div class="doc doc-contents">
<p>Creates an output directory (within BASE_DIR) for saving the
analysis outputs for the given scenario.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>scenario</code></td>
<td>
<code><a class="autorefs autorefs-internal" title="src.cplus_plugin.models.base.Scenario" href="../../models/api_base/#src.cplus_plugin.models.base.Scenario">Scenario</a></code>
</td>
<td>
<div class="doc-md-description">
<p>Reference scenario object.</p>
</div>
</td>
<td>
<em>required</em>
</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>str</code>
</td>
<td>
<div class="doc-md-description">
<p>The absolute path to the output directory. If BASE_DIR does not exist, it will not create the directory and will return an empty string. If the current user does not have write permissions to the base directory, it will return an empty string.</p>
</div>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>/home/samweli/Workspace/Projects/cplus-plugin/src/cplus_plugin/lib/reports/manager.py</code></summary>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_scenario_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scenario</span><span class="p">:</span> <span class="n">Scenario</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">"""Creates an output directory (within BASE_DIR) for saving the</span>
<span class="sd">    analysis outputs for the given scenario.</span>

<span class="sd">    :param scenario: Reference scenario object.</span>
<span class="sd">    :type scenario: Scenario</span>

<span class="sd">    :returns: The absolute path to the output directory. If</span>
<span class="sd">    BASE_DIR does not exist, it will not create the directory and</span>
<span class="sd">    will return an empty string. If the current user does not have</span>
<span class="sd">    write permissions to the base directory, it will return an</span>
<span class="sd">    empty string.</span>
<span class="sd">    :rtype: str</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_output_dir</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">""</span>

    <span class="n">output_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_output_dir</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">output_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">output_path</span><span class="o">.</span><span class="n">mkdir</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">"Missing parent directory when creating "</span>
                <span class="s2">"outputs subdirectory in the base directory."</span>
            <span class="p">)</span>
            <span class="n">log</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">return</span> <span class="s2">""</span>

    <span class="n">scenario_path_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">root_output_dir</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">scenario</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span>
    <span class="n">scenario_output_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">scenario_path_str</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">scenario_output_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">scenario_output_path</span><span class="o">.</span><span class="n">mkdir</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">"Missing parent directory when creating "</span>
                <span class="s2">"scenario subdirectory in the outputs directory."</span>
            <span class="p">)</span>
            <span class="n">log</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">return</span> <span class="s2">""</span>

    <span class="k">return</span> <span class="n">scenario_path_str</span>
</code></pre></div>
</td></tr></table>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="src.cplus_plugin.lib.reports.manager.ReportManager.generate">
<span class="doc doc-object-name doc-function-name">generate</span>
</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">generate</span><span class="p">(</span><span class="n">scenario_result</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>
<div class="doc doc-contents">
<p>Initiates the report generation process using information
resulting from the scenario analysis.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>scenario_result</code></td>
<td>
<code><a class="autorefs autorefs-internal" title="src.cplus_plugin.models.base.ScenarioResult" href="../../models/api_base/#src.cplus_plugin.models.base.ScenarioResult">ScenarioResult</a></code>
</td>
<td>
<div class="doc-md-description">
<p>Contains details from the scenario analysis.</p>
</div>
</td>
<td>
<em>required</em>
</td>
</tr>
<tr>
<td><code>feedback</code></td>
<td>
<code><span title="qgis.core.QgsFeedback">QgsFeedback</span></code>
</td>
<td>
<div class="doc-md-description">
<p>Feedback for reporting back to the main application. If one is not specified then the manager will create one for the context.</p>
</div>
</td>
<td>
<code>None</code>
</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>ReportSubmitStatus</code>
</td>
<td>
<div class="doc-md-description">
<p>True if the report generation process was successfully submitted else False if a running process is re-submitted. Object also contains feedback object for report updating and cancellation.</p>
</div>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>/home/samweli/Workspace/Projects/cplus-plugin/src/cplus_plugin/lib/reports/manager.py</code></summary>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">generate</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">scenario_result</span><span class="p">:</span> <span class="n">ScenarioResult</span><span class="p">,</span> <span class="n">feedback</span><span class="p">:</span> <span class="n">QgsFeedback</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ReportSubmitStatus</span><span class="p">:</span>
    <span class="sd">"""Initiates the report generation process using information</span>
<span class="sd">    resulting from the scenario analysis.</span>

<span class="sd">    :param scenario_result: Contains details from the scenario analysis.</span>
<span class="sd">    :type scenario_result: ScenarioResult</span>

<span class="sd">    :param feedback: Feedback for reporting back to the main application.</span>
<span class="sd">    If one is not specified then the manager will create one for the context.</span>
<span class="sd">    :type feedback: QgsFeedback</span>

<span class="sd">    :returns: True if the report generation process was successfully</span>
<span class="sd">    submitted else False if a running process is re-submitted. Object</span>
<span class="sd">    also contains feedback object for report updating and cancellation.</span>
<span class="sd">    :rtype: ReportSubmitStatus</span>
<span class="sd">    """</span>
    <span class="n">scenario</span> <span class="o">=</span> <span class="n">scenario_result</span><span class="o">.</span><span class="n">scenario</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">scenario_result</span><span class="o">.</span><span class="n">output_layer_name</span><span class="p">:</span>
        <span class="n">log</span><span class="p">(</span><span class="s2">"Layer name for output scenario is empty. Cannot generate reports."</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ReportSubmitStatus</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">feedback</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">feedback</span> <span class="o">=</span> <span class="n">QgsFeedback</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="n">ctx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_report_context</span><span class="p">(</span><span class="n">scenario_result</span><span class="p">,</span> <span class="n">feedback</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ctx</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">log</span><span class="p">(</span><span class="s2">"Could not create report context. Check directory settings."</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ReportSubmitStatus</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="n">scenario_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">scenario</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">scenario_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_report_tasks</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">ReportSubmitStatus</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">ctx</span><span class="o">.</span><span class="n">feedback</span><span class="p">)</span>

    <span class="n">msg_tr</span> <span class="o">=</span> <span class="n">tr</span><span class="p">(</span><span class="s2">"Generating report for"</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">msg_tr</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">ctx</span><span class="o">.</span><span class="n">scenario</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">"</span>
    <span class="n">report_task</span> <span class="o">=</span> <span class="n">ReportGeneratorTask</span><span class="p">(</span><span class="n">description</span><span class="p">,</span> <span class="n">ctx</span><span class="p">)</span>
    <span class="n">task_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_manager</span><span class="o">.</span><span class="n">addTask</span><span class="p">(</span><span class="n">report_task</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_report_tasks</span><span class="p">[</span><span class="n">scenario_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">task_id</span>

    <span class="k">return</span> <span class="n">ReportSubmitStatus</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">ctx</span><span class="o">.</span><span class="n">feedback</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="src.cplus_plugin.lib.reports.manager.ReportManager.on_task_status_changed">
<span class="doc doc-object-name doc-function-name">on_task_status_changed</span>
</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">on_task_status_changed</span><span class="p">(</span><span class="n">task_id</span><span class="p">,</span> <span class="n">status</span><span class="p">)</span>
</code></pre></div>
<div class="doc doc-contents">
<p>Slot raised when the status of a task has changed.</p>
<p>This function will emit when the report generation task has started
or when it has completed successfully or terminated due to an error.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>task_id</code></td>
<td>
<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
</td>
<td>
<div class="doc-md-description">
<p>ID of the task.</p>
</div>
</td>
<td>
<em>required</em>
</td>
</tr>
<tr>
<td><code>status</code></td>
<td>
<code><span title="qgis.core.QgsTask.TaskStatus">TaskStatus</span></code>
</td>
<td>
<div class="doc-md-description">
<p>New task status.</p>
</div>
</td>
<td>
<em>required</em>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>/home/samweli/Workspace/Projects/cplus-plugin/src/cplus_plugin/lib/reports/manager.py</code></summary>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">on_task_status_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">status</span><span class="p">:</span> <span class="n">QgsTask</span><span class="o">.</span><span class="n">TaskStatus</span><span class="p">):</span>
    <span class="sd">"""Slot raised when the status of a task has changed.</span>

<span class="sd">    This function will emit when the report generation task has started</span>
<span class="sd">    or when it has completed successfully or terminated due to an error.</span>

<span class="sd">    :param task_id: ID of the task.</span>
<span class="sd">    :type task_id: int</span>

<span class="sd">    :param status: New task status.</span>
<span class="sd">    :type status: QgsTask.TaskStatus</span>
<span class="sd">    """</span>
    <span class="n">scenario_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_by_task_id</span><span class="p">(</span><span class="n">task_id</span><span class="p">)</span>

    <span class="c1"># Not related to CPLUS report or task</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">scenario_id</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="n">QgsTask</span><span class="o">.</span><span class="n">TaskStatus</span><span class="o">.</span><span class="n">Running</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_started</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">scenario_id</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">status</span> <span class="o">==</span> <span class="n">QgsTask</span><span class="o">.</span><span class="n">TaskStatus</span><span class="o">.</span><span class="n">Complete</span><span class="p">:</span>
        <span class="c1"># Get result</span>
        <span class="n">task</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_manager</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">task_id</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">task</span><span class="o">.</span><span class="n">result</span>
        <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_report_results</span><span class="p">[</span><span class="n">scenario_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>

        <span class="c1"># Remove task</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_report_task</span><span class="p">(</span><span class="n">scenario_id</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">generate_completed</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">scenario_id</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="src.cplus_plugin.lib.reports.manager.ReportManager.open_layout_designer">
<span class="doc doc-object-name doc-function-name">open_layout_designer</span>
<span class="doc doc-labels">
<small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
</span>
</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">open_layout_designer</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>
<div class="doc doc-contents">
<p>Opens the analysis report in the layout designer. The
layout needs to exist in the currently loaded project.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>result</code></td>
<td>
<code><a class="autorefs autorefs-internal" title="src.cplus_plugin.models.report.ReportResult" href="../../models/api_report/#src.cplus_plugin.models.report.ReportResult">ReportResult</a></code>
</td>
<td>
<div class="doc-md-description">
<p>Result object from the report generation process.</p>
</div>
</td>
<td>
<em>required</em>
</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>bool</code>
</td>
<td>
<div class="doc-md-description">
<p>True if the layout was successfully loaded, else False if the result from the generation process was False or if the layout does not exist in the current project.</p>
</div>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>/home/samweli/Workspace/Projects/cplus-plugin/src/cplus_plugin/lib/reports/manager.py</code></summary>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">open_layout_designer</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">result</span><span class="p">:</span> <span class="n">ReportResult</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">"""Opens the analysis report in the layout designer. The</span>
<span class="sd">    layout needs to exist in the currently loaded project.</span>

<span class="sd">    :param result: Result object from the report generation</span>
<span class="sd">    process.</span>
<span class="sd">    :type result: ReportResult</span>

<span class="sd">    :returns: True if the layout was successfully loaded, else</span>
<span class="sd">    False if the result from the generation process was False</span>
<span class="sd">    or if the layout does not exist in the current project.</span>
<span class="sd">    :rtype: bool</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="o">.</span><span class="n">success</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">layout</span> <span class="o">=</span> <span class="n">QgsProject</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">layoutManager</span><span class="p">()</span><span class="o">.</span><span class="n">layoutByName</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">layout</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">iface</span><span class="o">.</span><span class="n">openLayoutDesigner</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>

    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
</td></tr></table>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="src.cplus_plugin.lib.reports.manager.ReportManager.register_variables">
<span class="doc doc-object-name doc-function-name">register_variables</span>
</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">register_variables</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</code></pre></div>
<div class="doc doc-contents">
<p>Registers custom variables and their corresponding
initial values in the layout.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>layout</code></td>
<td>
<code><span title="qgis.core.QgsPrintLayout">QgsPrintLayout</span></code>
</td>
<td>
<div class="doc-md-description">
<p>Layout object where the custom variables will be registered.</p>
</div>
</td>
<td>
<em>required</em>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>/home/samweli/Workspace/Projects/cplus-plugin/src/cplus_plugin/lib/reports/manager.py</code></summary>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">register_variables</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layout</span><span class="p">:</span> <span class="n">QgsPrintLayout</span><span class="p">):</span>
    <span class="sd">"""Registers custom variables and their corresponding</span>
<span class="sd">    initial values in the layout.</span>

<span class="sd">    :param layout: Layout object where the custom</span>
<span class="sd">    variables will be registered.</span>
<span class="sd">    :type layout: QgsPrintLayout</span>
<span class="sd">    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_variable_register</span><span class="o">.</span><span class="n">register_variables</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="src.cplus_plugin.lib.reports.manager.ReportManager.remove_report_task">
<span class="doc doc-object-name doc-function-name">remove_report_task</span>
</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">remove_report_task</span><span class="p">(</span><span class="n">scenario_id</span><span class="p">)</span>
</code></pre></div>
<div class="doc doc-contents">
<p>Remove report task associated with the given scenario.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>scenario_id</code></td>
<td>
<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
</td>
<td>
<div class="doc-md-description">
<p>Identified of the scenario whose report generation process is to be removed.</p>
</div>
</td>
<td>
<em>required</em>
</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>bool</code>
</td>
<td>
<div class="doc-md-description">
<p>True if the task has been successfully removed else False if there is no associated task for the given scenario.</p>
</div>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>/home/samweli/Workspace/Projects/cplus-plugin/src/cplus_plugin/lib/reports/manager.py</code></summary>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">remove_report_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scenario_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">"""Remove report task associated with the given scenario.</span>

<span class="sd">    :param scenario_id: Identified of the scenario whose report</span>
<span class="sd">    generation process is to be removed.</span>
<span class="sd">    :type scenario_id: str</span>

<span class="sd">    :returns: True if the task has been successfully removed</span>
<span class="sd">    else False if there is no associated task for the given</span>
<span class="sd">    scenario.</span>
<span class="sd">    :rtype: bool</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="n">scenario_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_report_tasks</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">task_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_report_tasks</span><span class="p">[</span><span class="n">scenario_id</span><span class="p">]</span>
    <span class="n">task</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_manager</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">task_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">task</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">if</span> <span class="p">(</span>
        <span class="n">task</span><span class="o">.</span><span class="n">status</span><span class="p">()</span> <span class="o">!=</span> <span class="n">QgsTask</span><span class="o">.</span><span class="n">TaskStatus</span><span class="o">.</span><span class="n">Complete</span>
        <span class="ow">or</span> <span class="n">task</span><span class="o">.</span><span class="n">status</span><span class="p">()</span> <span class="o">!=</span> <span class="n">QgsTask</span><span class="o">.</span><span class="n">TaskStatus</span><span class="o">.</span><span class="n">Terminated</span>
    <span class="p">):</span>
        <span class="n">task</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>

    <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_report_tasks</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">scenario_id</span><span class="p">)</span>

    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
</td></tr></table>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="src.cplus_plugin.lib.reports.manager.ReportManager.report_result">
<span class="doc doc-object-name doc-function-name">report_result</span>
</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">report_result</span><span class="p">(</span><span class="n">scenario_id</span><span class="p">)</span>
</code></pre></div>
<div class="doc doc-contents">
<p>Gets the report result for the scenario with the given ID.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>scenario_id</code></td>
<td>
<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
</td>
<td>
<div class="doc-md-description">
<p>Identifier of the scenario whose report is to be retrieved.</p>
</div>
</td>
<td>
<em>required</em>
</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>ReportResult</code>
</td>
<td>
<div class="doc-md-description">
<p>Result of the report generation process. Caller needs to check if the process was successful or there was an error by checking the status of the <code>success</code> attribute. For scenarios that had not been submitted for report generation, a None object will be returned.</p>
</div>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>/home/samweli/Workspace/Projects/cplus-plugin/src/cplus_plugin/lib/reports/manager.py</code></summary>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">report_result</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scenario_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ReportResult</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
    <span class="sd">"""Gets the report result for the scenario with the given ID.</span>

<span class="sd">    :param scenario_id: Identifier of the scenario whose report is to</span>
<span class="sd">    be retrieved.</span>
<span class="sd">    :type scenario_id: str</span>

<span class="sd">    :returns: Result of the report generation process. Caller needs to</span>
<span class="sd">    check if the process was successful or there was an error by checking</span>
<span class="sd">    the status of the `success` attribute. For scenarios that had not</span>
<span class="sd">    been submitted for report generation, a None object will be</span>
<span class="sd">    returned.</span>
<span class="sd">    :rtype: ReportResult</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="n">scenario_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_report_results</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_report_results</span><span class="p">[</span><span class="n">scenario_id</span><span class="p">]</span>
</code></pre></div>
</td></tr></table>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="src.cplus_plugin.lib.reports.manager.ReportManager.scenario_by_task_id">
<span class="doc doc-object-name doc-function-name">scenario_by_task_id</span>
</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">scenario_by_task_id</span><span class="p">(</span><span class="n">task_id</span><span class="p">)</span>
</code></pre></div>
<div class="doc doc-contents">
<p>Gets the scenario identifier for the report generation t
ask with the given ID.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>task_id</code></td>
<td>
<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
</td>
<td>
<div class="doc-md-description">
<p>ID of the task whose corresponding scenario is to be retrieved.</p>
</div>
</td>
<td>
<em>required</em>
</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>str</code>
</td>
<td>
<div class="doc-md-description">
<p>Scenario identifier whose report is being generated by a process with the given task id or an empty string if there was no match.</p>
</div>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>/home/samweli/Workspace/Projects/cplus-plugin/src/cplus_plugin/lib/reports/manager.py</code></summary>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">scenario_by_task_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">"""Gets the scenario identifier for the report generation t</span>
<span class="sd">    ask with the given ID.</span>

<span class="sd">    :param task_id: ID of the task whose corresponding scenario</span>
<span class="sd">    is to be retrieved.</span>
<span class="sd">    :type task_id: int</span>

<span class="sd">    :returns: Scenario identifier whose report is being generated</span>
<span class="sd">    by a process with the given task id or an empty string if</span>
<span class="sd">    there was no match.</span>
<span class="sd">    :rtype: str</span>
<span class="sd">    """</span>
    <span class="n">scenario_ids</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">sid</span> <span class="k">for</span> <span class="n">sid</span><span class="p">,</span> <span class="n">tid</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_report_tasks</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">tid</span> <span class="o">==</span> <span class="n">task_id</span>
    <span class="p">]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">scenario_ids</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">""</span>

    <span class="k">return</span> <span class="n">scenario_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>
</td></tr></table>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="src.cplus_plugin.lib.reports.manager.ReportManager.view_pdf">
<span class="doc doc-object-name doc-function-name">view_pdf</span>
<span class="doc doc-labels">
<small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
</span>
</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">view_pdf</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>
<div class="doc doc-contents">
<p>Opens the analysis in the host's default PDF viewer.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>result</code></td>
<td>
<code><a class="autorefs autorefs-internal" title="src.cplus_plugin.models.report.ReportResult" href="../../models/api_report/#src.cplus_plugin.models.report.ReportResult">ReportResult</a></code>
</td>
<td>
<div class="doc-md-description">
<p>Result object from the report generation process.</p>
</div>
</td>
<td>
<em>required</em>
</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>bool</code>
</td>
<td>
<div class="doc-md-description">
<p>True if the PDF was successfully loaded, else False if the result from the generation process was False.</p>
</div>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>/home/samweli/Workspace/Projects/cplus-plugin/src/cplus_plugin/lib/reports/manager.py</code></summary>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">view_pdf</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">result</span><span class="p">:</span> <span class="n">ReportResult</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">"""Opens the analysis in the host's default PDF viewer.</span>

<span class="sd">    :param result: Result object from the report generation</span>
<span class="sd">    process.</span>
<span class="sd">    :type result: ReportResult</span>

<span class="sd">    :returns: True if the PDF was successfully loaded, else</span>
<span class="sd">    False if the result from the generation process was False.</span>
<span class="sd">    :rtype: bool</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="o">.</span><span class="n">success</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">pdf_url</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QUrl</span><span class="o">.</span><span class="n">fromLocalFile</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">pdf_path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">pdf_url</span><span class="o">.</span><span class="n">isEmpty</span><span class="p">():</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QDesktopServices</span><span class="o">.</span><span class="n">openUrl</span><span class="p">(</span><span class="n">pdf_url</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
</details>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div></div>
</div>
</div>
<footer class="col-md-12">
<hr/>
<p>Copyright Conservation International, 2023</p>
<p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
</footer>
<script>
            var base_url = "../../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
<script defer="" src="../../../../js/base.js"></script>
<div aria-hidden="true" aria-labelledby="keyboardModalLabel" class="modal" id="mkdocs_keyboard_modal" role="dialog" tabindex="-1">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
<button class="close" data-dismiss="modal" type="button"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
</div>
<div class="modal-body">
<table class="table">
<thead>
<tr>
<th style="width: 20%;">Keys</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td class="help shortcut"><kbd>?</kbd></td>
<td>Open this help</td>
</tr>
<tr>
<td class="next shortcut"><kbd>n</kbd></td>
<td>Next page</td>
</tr>
<tr>
<td class="prev shortcut"><kbd>p</kbd></td>
<td>Previous page</td>
</tr>
<tr>
<td class="search shortcut"><kbd>s</kbd></td>
<td>Search</td>
</tr>
</tbody>
</table>
</div>
<div class="modal-footer">
</div>
</div>
</div>
</div>
</body>
</html>
